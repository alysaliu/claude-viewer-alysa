(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function _x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var th={exports:{}},kl={},sh={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=Symbol.for("react.element"),Px=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Fx=Symbol.for("react.context"),Bx=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),Vx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),fu=Symbol.iterator;function Jx(t){return t===null||typeof t!="object"?null:(t=fu&&t[fu]||t["@@iterator"],typeof t=="function"?t:null)}var nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rh=Object.assign,ah={};function ea(t,s,n){this.props=t,this.context=s,this.refs=ah,this.updater=n||nh}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ih(){}ih.prototype=ea.prototype;function Wc(t,s,n){this.props=t,this.context=s,this.refs=ah,this.updater=n||nh}var Yc=Wc.prototype=new ih;Yc.constructor=Wc;rh(Yc,ea.prototype);Yc.isPureReactComponent=!0;var pu=Array.isArray,lh=Object.prototype.hasOwnProperty,Kc={current:null},oh={key:!0,ref:!0,__self:!0,__source:!0};function ch(t,s,n){var r,a={},i=null,l=null;if(s!=null)for(r in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)lh.call(s,r)&&!oh.hasOwnProperty(r)&&(a[r]=s[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:ri,type:t,key:i,ref:l,props:a,_owner:Kc.current}}function Wx(t,s){return{$$typeof:ri,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Gc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ri}function Yx(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var xu=/\/+/g;function ao(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Yx(""+t.key):s.toString(36)}function Pi(t,s,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ri:case Px:l=!0}}if(l)return l=t,a=a(l),t=r===""?"."+ao(l,0):r,pu(a)?(n="",t!=null&&(n=t.replace(xu,"$&/")+"/"),Pi(a,s,n,"",function(d){return d})):a!=null&&(Gc(a)&&(a=Wx(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(xu,"$&/")+"/")+t)),s.push(a)),1;if(l=0,r=r===""?".":r+":",pu(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+ao(i,o);l+=Pi(i,s,n,c,a)}else if(c=Jx(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+ao(i,o++),l+=Pi(i,s,n,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function pi(t,s,n){if(t==null)return t;var r=[],a=0;return Pi(t,r,"","",function(i){return s.call(n,i,a++)}),r}function Kx(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ts={current:null},Oi={transition:null},Gx={ReactCurrentDispatcher:ts,ReactCurrentBatchConfig:Oi,ReactCurrentOwner:Kc};function dh(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:pi,forEach:function(t,s,n){pi(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return pi(t,function(){s++}),s},toArray:function(t){return pi(t,function(s){return s})||[]},only:function(t){if(!Gc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=ea;at.Fragment=Ox;at.Profiler=Lx;at.PureComponent=Wc;at.StrictMode=zx;at.Suspense=Ux;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;at.act=dh;at.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rh({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Kc.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)lh.call(s,c)&&!oh.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:ri,type:t.type,key:a,ref:i,props:r,_owner:l}};at.createContext=function(t){return t={$$typeof:Fx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$x,_context:t},t.Consumer=t};at.createElement=ch;at.createFactory=function(t){var s=ch.bind(null,t);return s.type=t,s};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:Bx,render:t}};at.isValidElement=Gc;at.lazy=function(t){return{$$typeof:Hx,_payload:{_status:-1,_result:t},_init:Kx}};at.memo=function(t,s){return{$$typeof:Vx,type:t,compare:s===void 0?null:s}};at.startTransition=function(t){var s=Oi.transition;Oi.transition={};try{t()}finally{Oi.transition=s}};at.unstable_act=dh;at.useCallback=function(t,s){return ts.current.useCallback(t,s)};at.useContext=function(t){return ts.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return ts.current.useDeferredValue(t)};at.useEffect=function(t,s){return ts.current.useEffect(t,s)};at.useId=function(){return ts.current.useId()};at.useImperativeHandle=function(t,s,n){return ts.current.useImperativeHandle(t,s,n)};at.useInsertionEffect=function(t,s){return ts.current.useInsertionEffect(t,s)};at.useLayoutEffect=function(t,s){return ts.current.useLayoutEffect(t,s)};at.useMemo=function(t,s){return ts.current.useMemo(t,s)};at.useReducer=function(t,s,n){return ts.current.useReducer(t,s,n)};at.useRef=function(t){return ts.current.useRef(t)};at.useState=function(t){return ts.current.useState(t)};at.useSyncExternalStore=function(t,s,n){return ts.current.useSyncExternalStore(t,s,n)};at.useTransition=function(){return ts.current.useTransition()};at.version="18.3.1";sh.exports=at;var u=sh.exports;const ne=_x(u);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=u,Qx=Symbol.for("react.element"),Zx=Symbol.for("react.fragment"),Xx=Object.prototype.hasOwnProperty,e0=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t0={key:!0,ref:!0,__self:!0,__source:!0};function uh(t,s,n){var r,a={},i=null,l=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)Xx.call(s,r)&&!t0.hasOwnProperty(r)&&(a[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Qx,type:t,key:i,ref:l,props:a,_owner:e0.current}}kl.Fragment=Zx;kl.jsx=uh;kl.jsxs=uh;th.exports=kl;var e=th.exports,$o={},mh={exports:{}},ws={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(G,B){var W=G.length;G.push(B);e:for(;0<W;){var le=W-1>>>1,de=G[le];if(0<a(de,B))G[le]=B,G[W]=de,W=le;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var B=G[0],W=G.pop();if(W!==B){G[0]=W;e:for(var le=0,de=G.length,we=de>>>1;le<we;){var Re=2*(le+1)-1,Ye=G[Re],Ae=Re+1,me=G[Ae];if(0>a(Ye,W))Ae<de&&0>a(me,Ye)?(G[le]=me,G[Ae]=W,le=Ae):(G[le]=Ye,G[Re]=W,le=Re);else if(Ae<de&&0>a(me,W))G[le]=me,G[Ae]=W,le=Ae;else break e}}return B}function a(G,B){var W=G.sortIndex-B.sortIndex;return W!==0?W:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,f=null,p=3,g=!1,v=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=G)r(d),B.sortIndex=B.expirationTime,s(c,B);else break;B=n(d)}}function j(G){if(N=!1,b(G),!v)if(n(c)!==null)v=!0,oe(k);else{var B=n(d);B!==null&&Se(j,B.startTime-G)}}function k(G,B){v=!1,N&&(N=!1,y(T),T=-1),g=!0;var W=p;try{for(b(B),f=n(c);f!==null&&(!(f.expirationTime>B)||G&&!L());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var de=le(f.expirationTime<=B);B=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),b(B)}else r(c);f=n(c)}if(f!==null)var we=!0;else{var Re=n(d);Re!==null&&Se(j,Re.startTime-B),we=!1}return we}finally{f=null,p=W,g=!1}}var x=!1,M=null,T=-1,S=5,w=-1;function L(){return!(t.unstable_now()-w<S)}function X(){if(M!==null){var G=t.unstable_now();w=G;var B=!0;try{B=M(!0,G)}finally{B?F():(x=!1,M=null)}}else x=!1}var F;if(typeof h=="function")F=function(){h(X)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,_=O.port2;O.port1.onmessage=X,F=function(){_.postMessage(null)}}else F=function(){I(X,0)};function oe(G){M=G,x||(x=!0,F())}function Se(G,B){T=I(function(){G(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,oe(k))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var W=p;p=B;try{return G()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=p;p=G;try{return B()}finally{p=W}},t.unstable_scheduleCallback=function(G,B,W){var le=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?le+W:le):W=le,G){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=W+de,G={id:m++,callback:B,priorityLevel:G,startTime:W,expirationTime:de,sortIndex:-1},W>le?(G.sortIndex=W,s(d,G),n(c)===null&&G===n(d)&&(N?(y(T),T=-1):N=!0,Se(j,W-le))):(G.sortIndex=de,s(c,G),v||g||(v=!0,oe(k))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var B=p;return function(){var W=p;p=B;try{return G.apply(this,arguments)}finally{p=W}}}})(fh);hh.exports=fh;var s0=hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=u,js=s0;function ue(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ph=new Set,Oa={};function hr(t,s){Wr(t,s),Wr(t+"Capture",s)}function Wr(t,s){for(Oa[t]=s,t=0;t<s.length;t++)ph.add(s[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,r0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gu={},yu={};function a0(t){return Fo.call(yu,t)?!0:Fo.call(gu,t)?!1:r0.test(t)?yu[t]=!0:(gu[t]=!0,!1)}function i0(t,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l0(t,s,n,r){if(s===null||typeof s>"u"||i0(t,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function ss(t,s,n,r,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new ss(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ht[s]=new ss(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new ss(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new ss(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new ss(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new ss(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new ss(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new ss(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new ss(t,5,!1,t.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(qc,Qc);Ht[s]=new ss(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(qc,Qc);Ht[s]=new ss(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(qc,Qc);Ht[s]=new ss(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new ss(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new ss(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zc(t,s,n,r){var a=Ht.hasOwnProperty(s)?Ht[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(l0(s,n,a,r)&&(n=null),r||a===null?a0(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,s,n):t.setAttribute(s,n))))}var vn=n0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),gh=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),yh=Symbol.for("react.offscreen"),vu=Symbol.iterator;function la(t){return t===null||typeof t!="object"?null:(t=vu&&t[vu]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,io;function va(t){if(io===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);io=s&&s[1]||""}return`
`+io+t}var lo=!1;function oo(t,s){if(!t||lo)return"";lo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var r=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){r=d}t.call(s.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{lo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function o0(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Er:return"Fragment";case Dr:return"Portal";case Bo:return"Profiler";case Xc:return"StrictMode";case Uo:return"Suspense";case Vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gh:return(t.displayName||"Context")+".Consumer";case xh:return(t._context.displayName||"Context")+".Provider";case ed:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case td:return s=t.displayName||null,s!==null?s:Ho(t.type)||"Memo";case Cn:s=t._payload,t=t._init;try{return Ho(t(s))}catch{}}return null}function c0(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ho(s);case 8:return s===Xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function d0(t){var s=vh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function gi(t){t._valueTracker||(t._valueTracker=d0(t))}function bh(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=vh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function Qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jo(t,s){var n=s.checked;return Nt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bu(t,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=Bn(s.value!=null?s.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function jh(t,s){s=s.checked,s!=null&&Zc(t,"checked",s,!1)}function Wo(t,s){jh(t,s);var n=Bn(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Yo(t,s.type,n):s.hasOwnProperty("defaultValue")&&Yo(t,s.type,Bn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function ju(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yo(t,s,n){(s!=="number"||Qi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function $r(t,s,n,r){if(t=t.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=s.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),s=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Ko(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Nt({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wu(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(ue(92));if(ba(n)){if(1<n.length)throw Error(ue(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:Bn(n)}}function wh(t,s){var n=Bn(s.value),r=Bn(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nu(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Nh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Nh(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yi,Sh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(s,n,r,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function za(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u0=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){u0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Sa[s]=Sa[t]})});function Ch(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+s).trim():s+"px"}function kh(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Ch(n,s[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var m0=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(t,s){if(s){if(m0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ue(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ue(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ue(62))}}function Qo(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function sd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xo=null,Fr=null,Br=null;function Su(t){if(t=li(t)){if(typeof Xo!="function")throw Error(ue(280));var s=t.stateNode;s&&(s=Rl(s),Xo(t.stateNode,t.type,s))}}function Dh(t){Fr?Br?Br.push(t):Br=[t]:Fr=t}function Eh(){if(Fr){var t=Fr,s=Br;if(Br=Fr=null,Su(t),s)for(t=0;t<s.length;t++)Su(s[t])}}function Mh(t,s){return t(s)}function Ih(){}var co=!1;function Rh(t,s,n){if(co)return t(s,n);co=!0;try{return Mh(t,s,n)}finally{co=!1,(Fr!==null||Br!==null)&&(Ih(),Eh())}}function La(t,s){var n=t.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,s,typeof n));return n}var ec=!1;if(fn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){ec=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{ec=!1}function h0(t,s,n,r,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(n,d)}catch(m){this.onError(m)}}var Ca=!1,Zi=null,Xi=!1,tc=null,f0={onError:function(t){Ca=!0,Zi=t}};function p0(t,s,n,r,a,i,l,o,c){Ca=!1,Zi=null,h0.apply(f0,arguments)}function x0(t,s,n,r,a,i,l,o,c){if(p0.apply(this,arguments),Ca){if(Ca){var d=Zi;Ca=!1,Zi=null}else throw Error(ue(198));Xi||(Xi=!0,tc=d)}}function fr(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function Th(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Cu(t){if(fr(t)!==t)throw Error(ue(188))}function g0(t){var s=t.alternate;if(!s){if(s=fr(t),s===null)throw Error(ue(188));return s!==t?null:t}for(var n=t,r=s;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Cu(a),t;if(i===r)return Cu(a),s;i=i.sibling}throw Error(ue(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:s}function Ah(t){return t=g0(t),t!==null?_h(t):null}function _h(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=_h(t);if(s!==null)return s;t=t.sibling}return null}var Ph=js.unstable_scheduleCallback,ku=js.unstable_cancelCallback,y0=js.unstable_shouldYield,v0=js.unstable_requestPaint,Dt=js.unstable_now,b0=js.unstable_getCurrentPriorityLevel,nd=js.unstable_ImmediatePriority,Oh=js.unstable_UserBlockingPriority,el=js.unstable_NormalPriority,j0=js.unstable_LowPriority,zh=js.unstable_IdlePriority,Dl=null,en=null;function w0(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:C0,N0=Math.log,S0=Math.LN2;function C0(t){return t>>>=0,t===0?32:31-(N0(t)/S0|0)|0}var vi=64,bi=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,s){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?r=ja(o):(i&=l,i!==0&&(r=ja(i)))}else l=n&~a,l!==0?r=ja(l):i!==0&&(r=ja(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(r&4&&(r|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)n=31-Js(s),a=1<<n,r|=t[n],s&=~a;return r}function k0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D0(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Js(i),o=1<<l,c=a[l];c===-1?(!(o&n)||o&r)&&(a[l]=k0(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function sc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lh(){var t=vi;return vi<<=1,!(vi&4194240)&&(vi=64),t}function uo(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function ai(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Js(s),t[s]=n}function E0(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Js(n),i=1<<a;s[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function rd(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-Js(n),a=1<<r;a&s|t[r]&s&&(t[r]|=s),n&=~a}}var ft=0;function $h(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fh,ad,Bh,Uh,Vh,nc=!1,ji=[],An=null,_n=null,Pn=null,$a=new Map,Fa=new Map,Dn=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Du(t,s){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":$a.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(s.pointerId)}}function ca(t,s,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},s!==null&&(s=li(s),s!==null&&ad(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function I0(t,s,n,r,a){switch(s){case"focusin":return An=ca(An,t,s,n,r,a),!0;case"dragenter":return _n=ca(_n,t,s,n,r,a),!0;case"mouseover":return Pn=ca(Pn,t,s,n,r,a),!0;case"pointerover":var i=a.pointerId;return $a.set(i,ca($a.get(i)||null,t,s,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Fa.set(i,ca(Fa.get(i)||null,t,s,n,r,a)),!0}return!1}function Hh(t){var s=er(t.target);if(s!==null){var n=fr(s);if(n!==null){if(s=n.tag,s===13){if(s=Th(n),s!==null){t.blockedOn=s,Vh(t.priority,function(){Bh(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zi(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=rc(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zo=r,n.target.dispatchEvent(r),Zo=null}else return s=li(n),s!==null&&ad(s),t.blockedOn=n,!1;s.shift()}return!0}function Eu(t,s,n){zi(t)&&n.delete(s)}function R0(){nc=!1,An!==null&&zi(An)&&(An=null),_n!==null&&zi(_n)&&(_n=null),Pn!==null&&zi(Pn)&&(Pn=null),$a.forEach(Eu),Fa.forEach(Eu)}function da(t,s){t.blockedOn===s&&(t.blockedOn=null,nc||(nc=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,R0)))}function Ba(t){function s(a){return da(a,t)}if(0<ji.length){da(ji[0],t);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===t&&(r.blockedOn=null)}}for(An!==null&&da(An,t),_n!==null&&da(_n,t),Pn!==null&&da(Pn,t),$a.forEach(s),Fa.forEach(s),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&Dn.shift()}var Ur=vn.ReactCurrentBatchConfig,sl=!0;function T0(t,s,n,r){var a=ft,i=Ur.transition;Ur.transition=null;try{ft=1,id(t,s,n,r)}finally{ft=a,Ur.transition=i}}function A0(t,s,n,r){var a=ft,i=Ur.transition;Ur.transition=null;try{ft=4,id(t,s,n,r)}finally{ft=a,Ur.transition=i}}function id(t,s,n,r){if(sl){var a=rc(t,s,n,r);if(a===null)jo(t,s,r,nl,n),Du(t,r);else if(I0(a,t,s,n,r))r.stopPropagation();else if(Du(t,r),s&4&&-1<M0.indexOf(t)){for(;a!==null;){var i=li(a);if(i!==null&&Fh(i),i=rc(t,s,n,r),i===null&&jo(t,s,r,nl,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else jo(t,s,r,null,n)}}var nl=null;function rc(t,s,n,r){if(nl=null,t=sd(r),t=er(t),t!==null)if(s=fr(t),s===null)t=null;else if(n=s.tag,n===13){if(t=Th(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return nl=t,null}function Jh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b0()){case nd:return 1;case Oh:return 4;case el:case j0:return 16;case zh:return 536870912;default:return 16}default:return 16}}var Rn=null,ld=null,Li=null;function Wh(){if(Li)return Li;var t,s=ld,n=s.length,r,a="value"in Rn?Rn.value:Rn.textContent,i=a.length;for(t=0;t<n&&s[t]===a[t];t++);var l=n-t;for(r=1;r<=l&&s[n-r]===a[i-r];r++);return Li=a.slice(t,1<r?1-r:void 0)}function $i(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Mu(){return!1}function Ns(t){function s(n,r,a,i,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wi:Mu,this.isPropagationStopped=Mu,this}return Nt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),s}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=Ns(ta),ii=Nt({},ta,{view:0,detail:0}),_0=Ns(ii),mo,ho,ua,El=Nt({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(mo=t.screenX-ua.screenX,ho=t.screenY-ua.screenY):ho=mo=0,ua=t),mo)},movementY:function(t){return"movementY"in t?t.movementY:ho}}),Iu=Ns(El),P0=Nt({},El,{dataTransfer:0}),O0=Ns(P0),z0=Nt({},ii,{relatedTarget:0}),fo=Ns(z0),L0=Nt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=Ns(L0),F0=Nt({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B0=Ns(F0),U0=Nt({},ta,{data:0}),Ru=Ns(U0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=J0[t])?!!s[t]:!1}function cd(){return W0}var Y0=Nt({},ii,{key:function(t){if(t.key){var s=V0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K0=Ns(Y0),G0=Nt({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=Ns(G0),q0=Nt({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),Q0=Ns(q0),Z0=Nt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=Ns(Z0),eg=Nt({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=Ns(eg),sg=[9,13,27,32],dd=fn&&"CompositionEvent"in window,ka=null;fn&&"documentMode"in document&&(ka=document.documentMode);var ng=fn&&"TextEvent"in window&&!ka,Yh=fn&&(!dd||ka&&8<ka&&11>=ka),Au=" ",_u=!1;function Kh(t,s){switch(t){case"keyup":return sg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function rg(t,s){switch(t){case"compositionend":return Gh(s);case"keypress":return s.which!==32?null:(_u=!0,Au);case"textInput":return t=s.data,t===Au&&_u?null:t;default:return null}}function ag(t,s){if(Mr)return t==="compositionend"||!dd&&Kh(t,s)?(t=Wh(),Li=ld=Rn=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yh&&s.locale!=="ko"?null:s.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ig[t.type]:s==="textarea"}function qh(t,s,n,r){Dh(r),s=rl(s,"onChange"),0<s.length&&(n=new od("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var Da=null,Ua=null;function lg(t){of(t,0)}function Ml(t){var s=Tr(t);if(bh(s))return t}function og(t,s){if(t==="change")return s}var Qh=!1;if(fn){var po;if(fn){var xo="oninput"in document;if(!xo){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),xo=typeof Ou.oninput=="function"}po=xo}else po=!1;Qh=po&&(!document.documentMode||9<document.documentMode)}function zu(){Da&&(Da.detachEvent("onpropertychange",Zh),Ua=Da=null)}function Zh(t){if(t.propertyName==="value"&&Ml(Ua)){var s=[];qh(s,Ua,t,sd(t)),Rh(lg,s)}}function cg(t,s,n){t==="focusin"?(zu(),Da=s,Ua=n,Da.attachEvent("onpropertychange",Zh)):t==="focusout"&&zu()}function dg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ml(Ua)}function ug(t,s){if(t==="click")return Ml(s)}function mg(t,s){if(t==="input"||t==="change")return Ml(s)}function hg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ys=typeof Object.is=="function"?Object.is:hg;function Va(t,s){if(Ys(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Fo.call(s,a)||!Ys(t[a],s[a]))return!1}return!0}function Lu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $u(t,s){var n=Lu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lu(n)}}function Xh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Xh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ef(){for(var t=window,s=Qi();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Qi(t.document)}return s}function ud(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function fg(t){var s=ef(),n=t.focusedElem,r=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Xh(n.ownerDocument.documentElement,n)){if(r!==null&&ud(n)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=$u(n,i);var l=$u(n,r);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pg=fn&&"documentMode"in document&&11>=document.documentMode,Ir=null,ac=null,Ea=null,ic=!1;function Fu(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ic||Ir==null||Ir!==Qi(r)||(r=Ir,"selectionStart"in r&&ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&Va(Ea,r)||(Ea=r,r=rl(ac,"onSelect"),0<r.length&&(s=new od("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=Ir)))}function Ni(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var Rr={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},go={},tf={};fn&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Il(t){if(go[t])return go[t];if(!Rr[t])return t;var s=Rr[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in tf)return go[t]=s[n];return t}var sf=Il("animationend"),nf=Il("animationiteration"),rf=Il("animationstart"),af=Il("transitionend"),lf=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(t,s){lf.set(t,s),hr(s,[t])}for(var yo=0;yo<Bu.length;yo++){var vo=Bu[yo],xg=vo.toLowerCase(),gg=vo[0].toUpperCase()+vo.slice(1);Jn(xg,"on"+gg)}Jn(sf,"onAnimationEnd");Jn(nf,"onAnimationIteration");Jn(rf,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(af,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Uu(t,s,n){var r=t.type||"unknown-event";t.currentTarget=n,x0(r,s,void 0,t),t.currentTarget=null}function of(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Uu(a,o,d),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Uu(a,o,d),i=c}}}if(Xi)throw t=tc,Xi=!1,tc=null,t}function yt(t,s){var n=s[uc];n===void 0&&(n=s[uc]=new Set);var r=t+"__bubble";n.has(r)||(cf(s,t,2,!1),n.add(r))}function bo(t,s,n){var r=0;s&&(r|=4),cf(n,t,r,s)}var Si="_reactListening"+Math.random().toString(36).slice(2);function Ha(t){if(!t[Si]){t[Si]=!0,ph.forEach(function(n){n!=="selectionchange"&&(yg.has(n)||bo(n,!1,t),bo(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Si]||(s[Si]=!0,bo("selectionchange",!1,s))}}function cf(t,s,n,r){switch(Jh(s)){case 1:var a=T0;break;case 4:a=A0;break;default:a=id}n=a.bind(null,s,n,t),a=void 0,!ec||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(s,n,{capture:!0,passive:a}):t.addEventListener(s,n,!0):a!==void 0?t.addEventListener(s,n,{passive:a}):t.addEventListener(s,n,!1)}function jo(t,s,n,r,a){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=er(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Rh(function(){var d=i,m=sd(n),f=[];e:{var p=lf.get(t);if(p!==void 0){var g=od,v=t;switch(t){case"keypress":if($i(n)===0)break e;case"keydown":case"keyup":g=K0;break;case"focusin":v="focus",g=fo;break;case"focusout":v="blur",g=fo;break;case"beforeblur":case"afterblur":g=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Q0;break;case sf:case nf:case rf:g=$0;break;case af:g=X0;break;case"scroll":g=_0;break;case"wheel":g=tg;break;case"copy":case"cut":case"paste":g=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Tu}var N=(s&4)!==0,I=!N&&t==="scroll",y=N?p!==null?p+"Capture":null:p;N=[];for(var h=d,b;h!==null;){b=h;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=La(h,y),j!=null&&N.push(Ja(h,j,b)))),I)break;h=h.return}0<N.length&&(p=new g(p,v,null,n,m),f.push({event:p,listeners:N}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Zo&&(v=n.relatedTarget||n.fromElement)&&(er(v)||v[pn]))break e;if((g||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?er(v):null,v!==null&&(I=fr(v),v!==I||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(N=Iu,j="onMouseLeave",y="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(N=Tu,j="onPointerLeave",y="onPointerEnter",h="pointer"),I=g==null?p:Tr(g),b=v==null?p:Tr(v),p=new N(j,h+"leave",g,n,m),p.target=I,p.relatedTarget=b,j=null,er(m)===d&&(N=new N(y,h+"enter",v,n,m),N.target=b,N.relatedTarget=I,j=N),I=j,g&&v)t:{for(N=g,y=v,h=0,b=N;b;b=Nr(b))h++;for(b=0,j=y;j;j=Nr(j))b++;for(;0<h-b;)N=Nr(N),h--;for(;0<b-h;)y=Nr(y),b--;for(;h--;){if(N===y||y!==null&&N===y.alternate)break t;N=Nr(N),y=Nr(y)}N=null}else N=null;g!==null&&Vu(f,p,g,N,!1),v!==null&&I!==null&&Vu(f,I,v,N,!0)}}e:{if(p=d?Tr(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=og;else if(Pu(p))if(Qh)k=mg;else{k=dg;var x=cg}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=ug);if(k&&(k=k(t,d))){qh(f,k,n,m);break e}x&&x(t,p,d),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&Yo(p,"number",p.value)}switch(x=d?Tr(d):window,t){case"focusin":(Pu(x)||x.contentEditable==="true")&&(Ir=x,ac=d,Ea=null);break;case"focusout":Ea=ac=Ir=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Fu(f,n,m);break;case"selectionchange":if(pg)break;case"keydown":case"keyup":Fu(f,n,m)}var M;if(dd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Mr?Kh(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Yh&&n.locale!=="ko"&&(Mr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Mr&&(M=Wh()):(Rn=m,ld="value"in Rn?Rn.value:Rn.textContent,Mr=!0)),x=rl(d,T),0<x.length&&(T=new Ru(T,t,null,n,m),f.push({event:T,listeners:x}),M?T.data=M:(M=Gh(n),M!==null&&(T.data=M)))),(M=ng?rg(t,n):ag(t,n))&&(d=rl(d,"onBeforeInput"),0<d.length&&(m=new Ru("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:d}),m.data=M))}of(f,s)})}function Ja(t,s,n){return{instance:t,listener:s,currentTarget:n}}function rl(t,s){for(var n=s+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=La(t,n),i!=null&&r.unshift(Ja(t,i,a)),i=La(t,s),i!=null&&r.push(Ja(t,i,a))),t=t.return}return r}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vu(t,s,n,r,a){for(var i=s._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=La(n,i),c!=null&&l.unshift(Ja(n,c,o))):a||(c=La(n,i),c!=null&&l.push(Ja(n,c,o)))),n=n.return}l.length!==0&&t.push({event:s,listeners:l})}var vg=/\r\n?/g,bg=/\u0000|\uFFFD/g;function Hu(t){return(typeof t=="string"?t:""+t).replace(vg,`
`).replace(bg,"")}function Ci(t,s,n){if(s=Hu(s),Hu(t)!==s&&n)throw Error(ue(425))}function al(){}var lc=null,oc=null;function cc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,jg=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(t){return Ju.resolve(null).then(t).catch(Ng)}:dc;function Ng(t){setTimeout(function(){throw t})}function wo(t,s){var n=s,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Ba(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Ba(s)}function On(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Wu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Zs="__reactFiber$"+sa,Wa="__reactProps$"+sa,pn="__reactContainer$"+sa,uc="__reactEvents$"+sa,Sg="__reactListeners$"+sa,Cg="__reactHandles$"+sa;function er(t){var s=t[Zs];if(s)return s;for(var n=t.parentNode;n;){if(s=n[pn]||n[Zs]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=Wu(t);t!==null;){if(n=t[Zs])return n;t=Wu(t)}return s}t=n,n=t.parentNode}return null}function li(t){return t=t[Zs]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Rl(t){return t[Wa]||null}var mc=[],Ar=-1;function Wn(t){return{current:t}}function vt(t){0>Ar||(t.current=mc[Ar],mc[Ar]=null,Ar--)}function xt(t,s){Ar++,mc[Ar]=t.current,t.current=s}var Un={},qt=Wn(Un),cs=Wn(!1),or=Un;function Yr(t,s){var n=t.type.contextTypes;if(!n)return Un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=s[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function ds(t){return t=t.childContextTypes,t!=null}function il(){vt(cs),vt(qt)}function Yu(t,s,n){if(qt.current!==Un)throw Error(ue(168));xt(qt,s),xt(cs,n)}function df(t,s,n){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(ue(108,c0(t)||"Unknown",a));return Nt({},n,r)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,or=qt.current,xt(qt,t),xt(cs,cs.current),!0}function Ku(t,s,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=df(t,s,or),r.__reactInternalMemoizedMergedChildContext=t,vt(cs),vt(qt),xt(qt,t)):vt(cs),xt(cs,n)}var cn=null,Tl=!1,No=!1;function uf(t){cn===null?cn=[t]:cn.push(t)}function kg(t){Tl=!0,uf(t)}function Yn(){if(!No&&cn!==null){No=!0;var t=0,s=ft;try{var n=cn;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cn=null,Tl=!1}catch(a){throw cn!==null&&(cn=cn.slice(t+1)),Ph(nd,Yn),a}finally{ft=s,No=!1}}return null}var _r=[],Pr=0,ol=null,cl=0,Ms=[],Is=0,cr=null,dn=1,un="";function Zn(t,s){_r[Pr++]=cl,_r[Pr++]=ol,ol=t,cl=s}function mf(t,s,n){Ms[Is++]=dn,Ms[Is++]=un,Ms[Is++]=cr,cr=t;var r=dn;t=un;var a=32-Js(r)-1;r&=~(1<<a),n+=1;var i=32-Js(s)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,dn=1<<32-Js(s)+a|n<<a|r,un=i+t}else dn=1<<i|n<<a|r,un=t}function md(t){t.return!==null&&(Zn(t,1),mf(t,1,0))}function hd(t){for(;t===ol;)ol=_r[--Pr],_r[Pr]=null,cl=_r[--Pr],_r[Pr]=null;for(;t===cr;)cr=Ms[--Is],Ms[Is]=null,un=Ms[--Is],Ms[Is]=null,dn=Ms[--Is],Ms[Is]=null}var vs=null,ys=null,bt=!1,Hs=null;function hf(t,s){var n=Rs(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function Gu(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,vs=t,ys=On(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,vs=t,ys=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=cr!==null?{id:dn,overflow:un}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=Rs(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,vs=t,ys=null,!0):!1;default:return!1}}function hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(bt){var s=ys;if(s){var n=s;if(!Gu(t,s)){if(hc(t))throw Error(ue(418));s=On(n.nextSibling);var r=vs;s&&Gu(t,s)?hf(r,n):(t.flags=t.flags&-4097|2,bt=!1,vs=t)}}else{if(hc(t))throw Error(ue(418));t.flags=t.flags&-4097|2,bt=!1,vs=t}}}function qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vs=t}function ki(t){if(t!==vs)return!1;if(!bt)return qu(t),bt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!cc(t.type,t.memoizedProps)),s&&(s=ys)){if(hc(t))throw ff(),Error(ue(418));for(;s;)hf(t,s),s=On(s.nextSibling)}if(qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){ys=On(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}ys=null}}else ys=vs?On(t.stateNode.nextSibling):null;return!0}function ff(){for(var t=ys;t;)t=On(t.nextSibling)}function Kr(){ys=vs=null,bt=!1}function fd(t){Hs===null?Hs=[t]:Hs.push(t)}var Dg=vn.ReactCurrentBatchConfig;function ma(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var a=r,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Di(t,s){throw t=Object.prototype.toString.call(s),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Qu(t){var s=t._init;return s(t._payload)}function pf(t){function s(y,h){if(t){var b=y.deletions;b===null?(y.deletions=[h],y.flags|=16):b.push(h)}}function n(y,h){if(!t)return null;for(;h!==null;)s(y,h),h=h.sibling;return null}function r(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function a(y,h){return y=Fn(y,h),y.index=0,y.sibling=null,y}function i(y,h,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<h?(y.flags|=2,h):b):(y.flags|=2,h)):(y.flags|=1048576,h)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,h,b,j){return h===null||h.tag!==6?(h=Io(b,y.mode,j),h.return=y,h):(h=a(h,b),h.return=y,h)}function c(y,h,b,j){var k=b.type;return k===Er?m(y,h,b.props.children,j,b.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cn&&Qu(k)===h.type)?(j=a(h,b.props),j.ref=ma(y,h,b),j.return=y,j):(j=Wi(b.type,b.key,b.props,null,y.mode,j),j.ref=ma(y,h,b),j.return=y,j)}function d(y,h,b,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==b.containerInfo||h.stateNode.implementation!==b.implementation?(h=Ro(b,y.mode,j),h.return=y,h):(h=a(h,b.children||[]),h.return=y,h)}function m(y,h,b,j,k){return h===null||h.tag!==7?(h=ar(b,y.mode,j,k),h.return=y,h):(h=a(h,b),h.return=y,h)}function f(y,h,b){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Io(""+h,y.mode,b),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xi:return b=Wi(h.type,h.key,h.props,null,y.mode,b),b.ref=ma(y,null,h),b.return=y,b;case Dr:return h=Ro(h,y.mode,b),h.return=y,h;case Cn:var j=h._init;return f(y,j(h._payload),b)}if(ba(h)||la(h))return h=ar(h,y.mode,b,null),h.return=y,h;Di(y,h)}return null}function p(y,h,b,j){var k=h!==null?h.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(y,h,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xi:return b.key===k?c(y,h,b,j):null;case Dr:return b.key===k?d(y,h,b,j):null;case Cn:return k=b._init,p(y,h,k(b._payload),j)}if(ba(b)||la(b))return k!==null?null:m(y,h,b,j,null);Di(y,b)}return null}function g(y,h,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,o(h,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xi:return y=y.get(j.key===null?b:j.key)||null,c(h,y,j,k);case Dr:return y=y.get(j.key===null?b:j.key)||null,d(h,y,j,k);case Cn:var x=j._init;return g(y,h,b,x(j._payload),k)}if(ba(j)||la(j))return y=y.get(b)||null,m(h,y,j,k,null);Di(h,j)}return null}function v(y,h,b,j){for(var k=null,x=null,M=h,T=h=0,S=null;M!==null&&T<b.length;T++){M.index>T?(S=M,M=null):S=M.sibling;var w=p(y,M,b[T],j);if(w===null){M===null&&(M=S);break}t&&M&&w.alternate===null&&s(y,M),h=i(w,h,T),x===null?k=w:x.sibling=w,x=w,M=S}if(T===b.length)return n(y,M),bt&&Zn(y,T),k;if(M===null){for(;T<b.length;T++)M=f(y,b[T],j),M!==null&&(h=i(M,h,T),x===null?k=M:x.sibling=M,x=M);return bt&&Zn(y,T),k}for(M=r(y,M);T<b.length;T++)S=g(M,y,T,b[T],j),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?T:S.key),h=i(S,h,T),x===null?k=S:x.sibling=S,x=S);return t&&M.forEach(function(L){return s(y,L)}),bt&&Zn(y,T),k}function N(y,h,b,j){var k=la(b);if(typeof k!="function")throw Error(ue(150));if(b=k.call(b),b==null)throw Error(ue(151));for(var x=k=null,M=h,T=h=0,S=null,w=b.next();M!==null&&!w.done;T++,w=b.next()){M.index>T?(S=M,M=null):S=M.sibling;var L=p(y,M,w.value,j);if(L===null){M===null&&(M=S);break}t&&M&&L.alternate===null&&s(y,M),h=i(L,h,T),x===null?k=L:x.sibling=L,x=L,M=S}if(w.done)return n(y,M),bt&&Zn(y,T),k;if(M===null){for(;!w.done;T++,w=b.next())w=f(y,w.value,j),w!==null&&(h=i(w,h,T),x===null?k=w:x.sibling=w,x=w);return bt&&Zn(y,T),k}for(M=r(y,M);!w.done;T++,w=b.next())w=g(M,y,T,w.value,j),w!==null&&(t&&w.alternate!==null&&M.delete(w.key===null?T:w.key),h=i(w,h,T),x===null?k=w:x.sibling=w,x=w);return t&&M.forEach(function(X){return s(y,X)}),bt&&Zn(y,T),k}function I(y,h,b,j){if(typeof b=="object"&&b!==null&&b.type===Er&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xi:e:{for(var k=b.key,x=h;x!==null;){if(x.key===k){if(k=b.type,k===Er){if(x.tag===7){n(y,x.sibling),h=a(x,b.props.children),h.return=y,y=h;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cn&&Qu(k)===x.type){n(y,x.sibling),h=a(x,b.props),h.ref=ma(y,x,b),h.return=y,y=h;break e}n(y,x);break}else s(y,x);x=x.sibling}b.type===Er?(h=ar(b.props.children,y.mode,j,b.key),h.return=y,y=h):(j=Wi(b.type,b.key,b.props,null,y.mode,j),j.ref=ma(y,h,b),j.return=y,y=j)}return l(y);case Dr:e:{for(x=b.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===b.containerInfo&&h.stateNode.implementation===b.implementation){n(y,h.sibling),h=a(h,b.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else s(y,h);h=h.sibling}h=Ro(b,y.mode,j),h.return=y,y=h}return l(y);case Cn:return x=b._init,I(y,h,x(b._payload),j)}if(ba(b))return v(y,h,b,j);if(la(b))return N(y,h,b,j);Di(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,h!==null&&h.tag===6?(n(y,h.sibling),h=a(h,b),h.return=y,y=h):(n(y,h),h=Io(b,y.mode,j),h.return=y,y=h),l(y)):n(y,h)}return I}var Gr=pf(!0),xf=pf(!1),dl=Wn(null),ul=null,Or=null,pd=null;function xd(){pd=Or=ul=null}function gd(t){var s=dl.current;vt(dl),t._currentValue=s}function pc(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function Vr(t,s){ul=t,pd=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(os=!0),t.firstContext=null)}function As(t){var s=t._currentValue;if(pd!==t)if(t={context:t,memoizedValue:s,next:null},Or===null){if(ul===null)throw Error(ue(308));Or=t,ul.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return s}var tr=null;function yd(t){tr===null?tr=[t]:tr.push(t)}function gf(t,s,n,r){var a=s.interleaved;return a===null?(n.next=n,yd(s)):(n.next=a.next,a.next=n),s.interleaved=n,xn(t,r)}function xn(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kn=!1;function vd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function zn(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,xn(t,n)}return a=r.interleaved,a===null?(s.next=s,yd(r)):(s.next=a.next,a.next=s),r.interleaved=s,xn(t,n)}function Fi(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,rd(t,n)}}function Zu(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=s:i=i.next=s}else a=i=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function ml(t,s,n,r){var a=t.updateQueue;kn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,m=d=c=null,o=i;do{var p=o.lane,g=o.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,N=o;switch(p=s,g=n,N.tag){case 1:if(v=N.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Nt({},f,p);break e;case 2:kn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=g,c=f):m=m.next=g,l|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(m===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);ur|=l,t.lanes=l,t.memoizedState=f}}function Xu(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ue(191,a));a.call(r)}}}var oi={},tn=Wn(oi),Ya=Wn(oi),Ka=Wn(oi);function sr(t){if(t===oi)throw Error(ue(174));return t}function bd(t,s){switch(xt(Ka,s),xt(Ya,t),xt(tn,oi),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Go(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Go(s,t)}vt(tn),xt(tn,s)}function qr(){vt(tn),vt(Ya),vt(Ka)}function vf(t){sr(Ka.current);var s=sr(tn.current),n=Go(s,t.type);s!==n&&(xt(Ya,t),xt(tn,n))}function jd(t){Ya.current===t&&(vt(tn),vt(Ya))}var jt=Wn(0);function hl(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var So=[];function wd(){for(var t=0;t<So.length;t++)So[t]._workInProgressVersionPrimary=null;So.length=0}var Bi=vn.ReactCurrentDispatcher,Co=vn.ReactCurrentBatchConfig,dr=0,wt=null,Tt=null,zt=null,fl=!1,Ma=!1,Ga=0,Eg=0;function Wt(){throw Error(ue(321))}function Nd(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!Ys(t[n],s[n]))return!1;return!0}function Sd(t,s,n,r,a,i){if(dr=i,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bi.current=t===null||t.memoizedState===null?Tg:Ag,t=n(r,a),Ma){i=0;do{if(Ma=!1,Ga=0,25<=i)throw Error(ue(301));i+=1,zt=Tt=null,s.updateQueue=null,Bi.current=_g,t=n(r,a)}while(Ma)}if(Bi.current=pl,s=Tt!==null&&Tt.next!==null,dr=0,zt=Tt=wt=null,fl=!1,s)throw Error(ue(300));return t}function Cd(){var t=Ga!==0;return Ga=0,t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?wt.memoizedState=zt=t:zt=zt.next=t,zt}function _s(){if(Tt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var s=zt===null?wt.memoizedState:zt.next;if(s!==null)zt=s,Tt=t;else{if(t===null)throw Error(ue(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},zt===null?wt.memoizedState=zt=t:zt=zt.next=t}return zt}function qa(t,s){return typeof s=="function"?s(t):s}function ko(t){var s=_s(),n=s.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Tt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((dr&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,wt.lanes|=m,ur|=m}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=o,Ys(r,s.memoizedState)||(os=!0),s.memoizedState=r,s.baseState=l,s.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,wt.lanes|=i,ur|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function Do(t){var s=_s(),n=s.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=s.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);Ys(i,s.memoizedState)||(os=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,r]}function bf(){}function jf(t,s){var n=wt,r=_s(),a=s(),i=!Ys(r.memoizedState,a);if(i&&(r.memoizedState=a,os=!0),r=r.queue,kd(Sf.bind(null,n,r,t),[t]),r.getSnapshot!==s||i||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Nf.bind(null,n,r,a,s),void 0,null),Lt===null)throw Error(ue(349));dr&30||wf(n,s,a)}return a}function wf(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Nf(t,s,n,r){s.value=n,s.getSnapshot=r,Cf(s)&&kf(t)}function Sf(t,s,n){return n(function(){Cf(s)&&kf(t)})}function Cf(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Ys(t,n)}catch{return!0}}function kf(t){var s=xn(t,1);s!==null&&Ws(s,t,1,-1)}function em(t){var s=Qs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},s.queue=t,t=t.dispatch=Rg.bind(null,wt,t),[s.memoizedState,t]}function Qa(t,s,n,r){return t={tag:t,create:s,destroy:n,deps:r,next:null},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t)),t}function Df(){return _s().memoizedState}function Ui(t,s,n,r){var a=Qs();wt.flags|=t,a.memoizedState=Qa(1|s,n,void 0,r===void 0?null:r)}function Al(t,s,n,r){var a=_s();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var l=Tt.memoizedState;if(i=l.destroy,r!==null&&Nd(r,l.deps)){a.memoizedState=Qa(s,n,i,r);return}}wt.flags|=t,a.memoizedState=Qa(1|s,n,i,r)}function tm(t,s){return Ui(8390656,8,t,s)}function kd(t,s){return Al(2048,8,t,s)}function Ef(t,s){return Al(4,2,t,s)}function Mf(t,s){return Al(4,4,t,s)}function If(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Rf(t,s,n){return n=n!=null?n.concat([t]):null,Al(4,4,If.bind(null,s,t),n)}function Dd(){}function Tf(t,s){var n=_s();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&Nd(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function Af(t,s){var n=_s();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&Nd(s,r[1])?r[0]:(t=t(),n.memoizedState=[t,s],t)}function _f(t,s,n){return dr&21?(Ys(n,s)||(n=Lh(),wt.lanes|=n,ur|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=n)}function Mg(t,s){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=Co.transition;Co.transition={};try{t(!1),s()}finally{ft=n,Co.transition=r}}function Pf(){return _s().memoizedState}function Ig(t,s,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Of(t))zf(s,n);else if(n=gf(t,s,n,r),n!==null){var a=Xt();Ws(n,t,r,a),Lf(n,s,r)}}function Rg(t,s,n){var r=$n(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Of(t))zf(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,Ys(o,l)){var c=s.interleaved;c===null?(a.next=a,yd(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}n=gf(t,s,a,r),n!==null&&(a=Xt(),Ws(n,t,r,a),Lf(n,s,r))}}function Of(t){var s=t.alternate;return t===wt||s!==null&&s===wt}function zf(t,s){Ma=fl=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function Lf(t,s,n){if(n&4194240){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,rd(t,n)}}var pl={readContext:As,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Tg={readContext:As,useCallback:function(t,s){return Qs().memoizedState=[t,s===void 0?null:s],t},useContext:As,useEffect:tm,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Ui(4194308,4,If.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Ui(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ui(4,2,t,s)},useMemo:function(t,s){var n=Qs();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var r=Qs();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=Ig.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var s=Qs();return t={current:t},s.memoizedState=t},useState:em,useDebugValue:Dd,useDeferredValue:function(t){return Qs().memoizedState=t},useTransition:function(){var t=em(!1),s=t[0];return t=Mg.bind(null,t[1]),Qs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var r=wt,a=Qs();if(bt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=s(),Lt===null)throw Error(ue(349));dr&30||wf(r,s,n)}a.memoizedState=n;var i={value:n,getSnapshot:s};return a.queue=i,tm(Sf.bind(null,r,i,t),[t]),r.flags|=2048,Qa(9,Nf.bind(null,r,i,n,s),void 0,null),n},useId:function(){var t=Qs(),s=Lt.identifierPrefix;if(bt){var n=un,r=dn;n=(r&~(1<<32-Js(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=Ga++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=Eg++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Ag={readContext:As,useCallback:Tf,useContext:As,useEffect:kd,useImperativeHandle:Rf,useInsertionEffect:Ef,useLayoutEffect:Mf,useMemo:Af,useReducer:ko,useRef:Df,useState:function(){return ko(qa)},useDebugValue:Dd,useDeferredValue:function(t){var s=_s();return _f(s,Tt.memoizedState,t)},useTransition:function(){var t=ko(qa)[0],s=_s().memoizedState;return[t,s]},useMutableSource:bf,useSyncExternalStore:jf,useId:Pf,unstable_isNewReconciler:!1},_g={readContext:As,useCallback:Tf,useContext:As,useEffect:kd,useImperativeHandle:Rf,useInsertionEffect:Ef,useLayoutEffect:Mf,useMemo:Af,useReducer:Do,useRef:Df,useState:function(){return Do(qa)},useDebugValue:Dd,useDeferredValue:function(t){var s=_s();return Tt===null?s.memoizedState=t:_f(s,Tt.memoizedState,t)},useTransition:function(){var t=Do(qa)[0],s=_s().memoizedState;return[t,s]},useMutableSource:bf,useSyncExternalStore:jf,useId:Pf,unstable_isNewReconciler:!1};function Us(t,s){if(t&&t.defaultProps){s=Nt({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function xc(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:Nt({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _l={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var r=Xt(),a=$n(t),i=mn(r,a);i.payload=s,n!=null&&(i.callback=n),s=zn(t,i,a),s!==null&&(Ws(s,t,a,r),Fi(s,t,a))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=Xt(),a=$n(t),i=mn(r,a);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=zn(t,i,a),s!==null&&(Ws(s,t,a,r),Fi(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=Xt(),r=$n(t),a=mn(n,r);a.tag=2,s!=null&&(a.callback=s),s=zn(t,a,r),s!==null&&(Ws(s,t,r,n),Fi(s,t,r))}};function sm(t,s,n,r,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):s.prototype&&s.prototype.isPureReactComponent?!Va(n,r)||!Va(a,i):!0}function $f(t,s,n){var r=!1,a=Un,i=s.contextType;return typeof i=="object"&&i!==null?i=As(i):(a=ds(s)?or:qt.current,r=s.contextTypes,i=(r=r!=null)?Yr(t,a):Un),s=new s(n,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_l,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function nm(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&_l.enqueueReplaceState(s,s.state,null)}function gc(t,s,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},vd(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=As(i):(i=ds(s)?or:qt.current,a.context=Yr(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(xc(t,s,i,n),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&_l.enqueueReplaceState(a,a.state,null),ml(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,s){try{var n="",r=s;do n+=o0(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function Eo(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function yc(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var Pg=typeof WeakMap=="function"?WeakMap:Map;function Ff(t,s,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){gl||(gl=!0,Ec=r),yc(t,s)},n}function Bf(t,s,n){n=mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){yc(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yc(t,s),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),n}function rm(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pg;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),t=Gg.bind(null,t,s,n),s.then(t,t))}function am(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function im(t,s,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=mn(-1,1),s.tag=2,zn(n,s,1))),n.lanes|=1),t)}var Og=vn.ReactCurrentOwner,os=!1;function Qt(t,s,n,r){s.child=t===null?xf(s,null,n,r):Gr(s,t.child,n,r)}function lm(t,s,n,r,a){n=n.render;var i=s.ref;return Vr(s,a),r=Sd(t,s,n,r,i,a),n=Cd(),t!==null&&!os?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,gn(t,s,a)):(bt&&n&&md(s),s.flags|=1,Qt(t,s,r,a),s.child)}function om(t,s,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!Pd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,Uf(t,s,i,r,a)):(t=Wi(n.type,null,r,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(l,r)&&t.ref===s.ref)return gn(t,s,a)}return s.flags|=1,t=Fn(i,r),t.ref=s.ref,t.return=s,s.child=t}function Uf(t,s,n,r,a){if(t!==null){var i=t.memoizedProps;if(Va(i,r)&&t.ref===s.ref)if(os=!1,s.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(os=!0);else return s.lanes=t.lanes,gn(t,s,a)}return vc(t,s,n,r,a)}function Vf(t,s,n){var r=s.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Lr,xs),xs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,xt(Lr,xs),xs|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xt(Lr,xs),xs|=r}else i!==null?(r=i.baseLanes|n,s.memoizedState=null):r=n,xt(Lr,xs),xs|=r;return Qt(t,s,a,n),s.child}function Hf(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function vc(t,s,n,r,a){var i=ds(n)?or:qt.current;return i=Yr(s,i),Vr(s,a),n=Sd(t,s,n,r,i,a),r=Cd(),t!==null&&!os?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,gn(t,s,a)):(bt&&r&&md(s),s.flags|=1,Qt(t,s,n,a),s.child)}function cm(t,s,n,r,a){if(ds(n)){var i=!0;ll(s)}else i=!1;if(Vr(s,a),s.stateNode===null)Vi(t,s),$f(s,n,r),gc(s,n,r,a),r=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=As(d):(d=ds(n)?or:qt.current,d=Yr(s,d));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&nm(s,l,r,d),kn=!1;var p=s.memoizedState;l.state=p,ml(s,r,l,a),c=s.memoizedState,o!==r||p!==c||cs.current||kn?(typeof m=="function"&&(xc(s,n,m,r),c=s.memoizedState),(o=kn||sm(s,n,o,r,p,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{l=s.stateNode,yf(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Us(s.type,o),l.props=d,f=s.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=As(c):(c=ds(n)?or:qt.current,c=Yr(s,c));var g=n.getDerivedStateFromProps;(m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||p!==c)&&nm(s,l,r,c),kn=!1,p=s.memoizedState,l.state=p,ml(s,r,l,a);var v=s.memoizedState;o!==f||p!==v||cs.current||kn?(typeof g=="function"&&(xc(s,n,g,r),v=s.memoizedState),(d=kn||sm(s,n,d,r,p,v,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=v),l.props=r,l.state=v,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),r=!1)}return bc(t,s,n,r,i,a)}function bc(t,s,n,r,a,i){Hf(t,s);var l=(s.flags&128)!==0;if(!r&&!l)return a&&Ku(s,n,!1),gn(t,s,i);r=s.stateNode,Og.current=s;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&l?(s.child=Gr(s,t.child,null,i),s.child=Gr(s,null,o,i)):Qt(t,s,o,i),s.memoizedState=r.state,a&&Ku(s,n,!0),s.child}function Jf(t){var s=t.stateNode;s.pendingContext?Yu(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Yu(t,s.context,!1),bd(t,s.containerInfo)}function dm(t,s,n,r,a){return Kr(),fd(a),s.flags|=256,Qt(t,s,n,r),s.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wf(t,s,n){var r=s.pendingProps,a=jt.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt(jt,a&1),t===null)return fc(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=r.children,t=r.fallback,i?(r=s.mode,i=s.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=zl(l,r,0,null),t=ar(t,r,n,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=wc(n),s.memoizedState=jc,t):Ed(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zg(t,s,l,r,o,a,n);if(i){i=r.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=Fn(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Fn(o,i):(i=ar(i,l,n,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,l=t.child.memoizedState,l=l===null?wc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,s.memoizedState=jc,r}return i=t.child,t=i.sibling,r=Fn(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=r,s.memoizedState=null,r}function Ed(t,s){return s=zl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ei(t,s,n,r){return r!==null&&fd(r),Gr(s,t.child,null,n),t=Ed(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function zg(t,s,n,r,a,i,l){if(n)return s.flags&256?(s.flags&=-257,r=Eo(Error(ue(422))),Ei(t,s,l,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=r.fallback,a=s.mode,r=zl({mode:"visible",children:r.children},a,0,null),i=ar(i,a,l,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&Gr(s,t.child,null,l),s.child.memoizedState=wc(l),s.memoizedState=jc,i);if(!(s.mode&1))return Ei(t,s,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(ue(419)),r=Eo(i,r,void 0),Ei(t,s,l,r)}if(o=(l&t.childLanes)!==0,os||o){if(r=Lt,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xn(t,a),Ws(r,t,a,-1))}return _d(),r=Eo(Error(ue(421))),Ei(t,s,l,r)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=qg.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,ys=On(a.nextSibling),vs=s,bt=!0,Hs=null,t!==null&&(Ms[Is++]=dn,Ms[Is++]=un,Ms[Is++]=cr,dn=t.id,un=t.overflow,cr=s),s=Ed(s,r.children),s.flags|=4096,s)}function um(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),pc(t.return,s,n)}function Mo(t,s,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Yf(t,s,n){var r=s.pendingProps,a=r.revealOrder,i=r.tail;if(Qt(t,s,r.children,n),r=jt.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&um(t,n,s);else if(t.tag===19)um(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(jt,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)t=n.alternate,t!==null&&hl(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),Mo(s,!1,a,n,i);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&hl(t)===null){s.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Mo(s,!0,n,null,i);break;case"together":Mo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vi(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function gn(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),ur|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ue(153));if(s.child!==null){for(t=s.child,n=Fn(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Fn(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function Lg(t,s,n){switch(s.tag){case 3:Jf(s),Kr();break;case 5:vf(s);break;case 1:ds(s.type)&&ll(s);break;case 4:bd(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;xt(dl,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(xt(jt,jt.current&1),s.flags|=128,null):n&s.child.childLanes?Wf(t,s,n):(xt(jt,jt.current&1),t=gn(t,s,n),t!==null?t.sibling:null);xt(jt,jt.current&1);break;case 19:if(r=(n&s.childLanes)!==0,t.flags&128){if(r)return Yf(t,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt(jt,jt.current),r)break;return null;case 22:case 23:return s.lanes=0,Vf(t,s,n)}return gn(t,s,n)}var Kf,Nc,Gf,qf;Kf=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nc=function(){};Gf=function(t,s,n,r){var a=t.memoizedProps;if(a!==r){t=s.stateNode,sr(tn.current);var i=null;switch(n){case"input":a=Jo(t,a),r=Jo(t,r),i=[];break;case"select":a=Nt({},a,{value:void 0}),r=Nt({},r,{value:void 0}),i=[];break;case"textarea":a=Ko(t,a),r=Ko(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=al)}qo(n,r);var l;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yt("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};qf=function(t,s,n,r){n!==r&&(s.flags|=4)};function ha(t,s){if(!bt)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function $g(t,s,n){var r=s.pendingProps;switch(hd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return ds(s.type)&&il(),Yt(s),null;case 3:return r=s.stateNode,qr(),vt(cs),vt(qt),wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ki(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hs!==null&&(Rc(Hs),Hs=null))),Nc(t,s),Yt(s),null;case 5:jd(s);var a=sr(Ka.current);if(n=s.type,t!==null&&s.stateNode!=null)Gf(t,s,n,r,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(ue(166));return Yt(s),null}if(t=sr(tn.current),ki(s)){r=s.stateNode,n=s.type;var i=s.memoizedProps;switch(r[Zs]=s,r[Wa]=i,t=(s.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(a=0;a<wa.length;a++)yt(wa[a],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":bu(r,i),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},yt("invalid",r);break;case"textarea":wu(r,i),yt("invalid",r)}qo(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ci(r.textContent,o,t),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ci(r.textContent,o,t),a=["children",""+o]):Oa.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&yt("scroll",r)}switch(n){case"input":gi(r),ju(r,i,!0);break;case"textarea":gi(r),Nu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=al)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Zs]=s,t[Wa]=r,Kf(t,s,!1,!1),s.stateNode=t;e:{switch(l=Qo(n,r),n){case"dialog":yt("cancel",t),yt("close",t),a=r;break;case"iframe":case"object":case"embed":yt("load",t),a=r;break;case"video":case"audio":for(a=0;a<wa.length;a++)yt(wa[a],t);a=r;break;case"source":yt("error",t),a=r;break;case"img":case"image":case"link":yt("error",t),yt("load",t),a=r;break;case"details":yt("toggle",t),a=r;break;case"input":bu(t,r),a=Jo(t,r),yt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Nt({},r,{value:void 0}),yt("invalid",t);break;case"textarea":wu(t,r),a=Ko(t,r),yt("invalid",t);break;default:a=r}qo(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?kh(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sh(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&za(t,c):typeof c=="number"&&za(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Oa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yt("scroll",t):c!=null&&Zc(t,i,c,l))}switch(n){case"input":gi(t),ju(t,r,!1);break;case"textarea":gi(t),Nu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$r(t,!!r.multiple,i,!1):r.defaultValue!=null&&$r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(t&&s.stateNode!=null)qf(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(ue(166));if(n=sr(Ka.current),sr(tn.current),ki(s)){if(r=s.stateNode,n=s.memoizedProps,r[Zs]=s,(i=r.nodeValue!==n)&&(t=vs,t!==null))switch(t.tag){case 3:Ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ci(r.nodeValue,n,(t.mode&1)!==0)}i&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=s,s.stateNode=r}return Yt(s),null;case 13:if(vt(jt),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&ys!==null&&s.mode&1&&!(s.flags&128))ff(),Kr(),s.flags|=98560,i=!1;else if(i=ki(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ue(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[Zs]=s}else Kr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),i=!1}else Hs!==null&&(Rc(Hs),Hs=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||jt.current&1?At===0&&(At=3):_d())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return qr(),Nc(t,s),t===null&&Ha(s.stateNode.containerInfo),Yt(s),null;case 10:return gd(s.type._context),Yt(s),null;case 17:return ds(s.type)&&il(),Yt(s),null;case 19:if(vt(jt),i=s.memoizedState,i===null)return Yt(s),null;if(r=(s.flags&128)!==0,l=i.rendering,l===null)if(r)ha(i,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=hl(t),l!==null){for(s.flags|=128,ha(i,!1),r=l.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(jt,jt.current&1|2),s.child}t=t.sibling}i.tail!==null&&Dt()>Zr&&(s.flags|=128,r=!0,ha(i,!1),s.lanes=4194304)}else{if(!r)if(t=hl(l),t!==null){if(s.flags|=128,r=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!bt)return Yt(s),null}else 2*Dt()-i.renderingStartTime>Zr&&n!==1073741824&&(s.flags|=128,r=!0,ha(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(n=i.last,n!==null?n.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Dt(),s.sibling=null,n=jt.current,xt(jt,r?n&1|2:n&1),s):(Yt(s),null);case 22:case 23:return Ad(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?xs&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(ue(156,s.tag))}function Fg(t,s){switch(hd(s),s.tag){case 1:return ds(s.type)&&il(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return qr(),vt(cs),vt(qt),wd(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return jd(s),null;case 13:if(vt(jt),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ue(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return vt(jt),null;case 4:return qr(),null;case 10:return gd(s.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var Mi=!1,Kt=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function zr(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,s,r)}else n.current=null}function Sc(t,s,n){try{n()}catch(r){kt(t,s,r)}}var mm=!1;function Ug(t,s){if(lc=sl,t=ef(),ud(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,m=0,f=t,p=null;t:for(;;){for(var g;f!==n||a!==0&&f.nodeType!==3||(o=l+a),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===a&&(o=l),p===i&&++m===r&&(c=l),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oc={focusedElem:t,selectionRange:n},sl=!1,ze=s;ze!==null;)if(s=ze,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ze=t;else for(;ze!==null;){s=ze;try{var v=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,I=v.memoizedState,y=s.stateNode,h=y.getSnapshotBeforeUpdate(s.elementType===s.type?N:Us(s.type,N),I);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var b=s.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(j){kt(s,s.return,j)}if(t=s.sibling,t!==null){t.return=s.return,ze=t;break}ze=s.return}return v=mm,mm=!1,v}function Ia(t,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Sc(s,n,i)}a=a.next}while(a!==r)}}function Pl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function Cc(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function Qf(t){var s=t.alternate;s!==null&&(t.alternate=null,Qf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Zs],delete s[Wa],delete s[uc],delete s[Sg],delete s[Cg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zf(t){return t.tag===5||t.tag===3||t.tag===4}function hm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=al));else if(r!==4&&(t=t.child,t!==null))for(kc(t,s,n),t=t.sibling;t!==null;)kc(t,s,n),t=t.sibling}function Dc(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dc(t,s,n),t=t.sibling;t!==null;)Dc(t,s,n),t=t.sibling}var Bt=null,Vs=!1;function Nn(t,s,n){for(n=n.child;n!==null;)Xf(t,s,n),n=n.sibling}function Xf(t,s,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Kt||zr(n,s);case 6:var r=Bt,a=Vs;Bt=null,Nn(t,s,n),Bt=r,Vs=a,Bt!==null&&(Vs?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Vs?(t=Bt,n=n.stateNode,t.nodeType===8?wo(t.parentNode,n):t.nodeType===1&&wo(t,n),Ba(t)):wo(Bt,n.stateNode));break;case 4:r=Bt,a=Vs,Bt=n.stateNode.containerInfo,Vs=!0,Nn(t,s,n),Bt=r,Vs=a;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Sc(n,s,l),a=a.next}while(a!==r)}Nn(t,s,n);break;case 1:if(!Kt&&(zr(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kt(n,s,o)}Nn(t,s,n);break;case 21:Nn(t,s,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Nn(t,s,n),Kt=r):Nn(t,s,n);break;default:Nn(t,s,n)}}function fm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bg),s.forEach(function(r){var a=Qg.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Bs(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Bt=o.stateNode,Vs=!1;break e;case 3:Bt=o.stateNode.containerInfo,Vs=!0;break e;case 4:Bt=o.stateNode.containerInfo,Vs=!0;break e}o=o.return}if(Bt===null)throw Error(ue(160));Xf(i,l,a),Bt=null,Vs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){kt(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ep(s,t),s=s.sibling}function ep(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(s,t),Gs(t),r&4){try{Ia(3,t,t.return),Pl(3,t)}catch(N){kt(t,t.return,N)}try{Ia(5,t,t.return)}catch(N){kt(t,t.return,N)}}break;case 1:Bs(s,t),Gs(t),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Bs(s,t),Gs(t),r&512&&n!==null&&zr(n,n.return),t.flags&32){var a=t.stateNode;try{za(a,"")}catch(N){kt(t,t.return,N)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&jh(a,i),Qo(o,l);var d=Qo(o,i);for(l=0;l<c.length;l+=2){var m=c[l],f=c[l+1];m==="style"?kh(a,f):m==="dangerouslySetInnerHTML"?Sh(a,f):m==="children"?za(a,f):Zc(a,m,f,d)}switch(o){case"input":Wo(a,i);break;case"textarea":wh(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$r(a,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?$r(a,!!i.multiple,i.defaultValue,!0):$r(a,!!i.multiple,i.multiple?[]:"",!1))}a[Wa]=i}catch(N){kt(t,t.return,N)}}break;case 6:if(Bs(s,t),Gs(t),r&4){if(t.stateNode===null)throw Error(ue(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(N){kt(t,t.return,N)}}break;case 3:if(Bs(s,t),Gs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(s.containerInfo)}catch(N){kt(t,t.return,N)}break;case 4:Bs(s,t),Gs(t);break;case 13:Bs(s,t),Gs(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Rd=Dt())),r&4&&fm(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(d=Kt)||m,Bs(s,t),Kt=d):Bs(s,t),Gs(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(ze=t,m=t.child;m!==null;){for(f=ze=m;ze!==null;){switch(p=ze,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ia(4,p,p.return);break;case 1:zr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{s=r,v.props=s.memoizedProps,v.state=s.memoizedState,v.componentWillUnmount()}catch(N){kt(r,n,N)}}break;case 5:zr(p,p.return);break;case 22:if(p.memoizedState!==null){xm(f);continue}}g!==null?(g.return=p,ze=g):xm(f)}m=m.sibling}e:for(m=null,f=t;;){if(f.tag===5){if(m===null){m=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ch("display",l))}catch(N){kt(t,t.return,N)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(N){kt(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(s,t),Gs(t),r&4&&fm(t);break;case 21:break;default:Bs(s,t),Gs(t)}}function Gs(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(Zf(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(za(a,""),r.flags&=-33);var i=hm(t);Dc(t,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=hm(t);kc(t,o,l);break;default:throw Error(ue(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Vg(t,s,n){ze=t,tp(t)}function tp(t,s,n){for(var r=(t.mode&1)!==0;ze!==null;){var a=ze,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||Mi;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Kt;o=Mi;var d=Kt;if(Mi=l,(Kt=c)&&!d)for(ze=a;ze!==null;)l=ze,c=l.child,l.tag===22&&l.memoizedState!==null?gm(a):c!==null?(c.return=l,ze=c):gm(a);for(;i!==null;)ze=i,tp(i),i=i.sibling;ze=a,Mi=o,Kt=d}pm(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ze=i):pm(t)}}function pm(t){for(;ze!==null;){var s=ze;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Kt||Pl(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:Us(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Xu(s,i,r);break;case 3:var l=s.updateQueue;if(l!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}Xu(s,l,n)}break;case 5:var o=s.stateNode;if(n===null&&s.flags&4){n=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Kt||s.flags&512&&Cc(s)}catch(p){kt(s,s.return,p)}}if(s===t){ze=null;break}if(n=s.sibling,n!==null){n.return=s.return,ze=n;break}ze=s.return}}function xm(t){for(;ze!==null;){var s=ze;if(s===t){ze=null;break}var n=s.sibling;if(n!==null){n.return=s.return,ze=n;break}ze=s.return}}function gm(t){for(;ze!==null;){var s=ze;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Pl(4,s)}catch(c){kt(s,n,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(c){kt(s,a,c)}}var i=s.return;try{Cc(s)}catch(c){kt(s,i,c)}break;case 5:var l=s.return;try{Cc(s)}catch(c){kt(s,l,c)}}}catch(c){kt(s,s.return,c)}if(s===t){ze=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ze=o;break}ze=s.return}}var Hg=Math.ceil,xl=vn.ReactCurrentDispatcher,Md=vn.ReactCurrentOwner,Ts=vn.ReactCurrentBatchConfig,ct=0,Lt=null,Mt=null,Vt=0,xs=0,Lr=Wn(0),At=0,Za=null,ur=0,Ol=0,Id=0,Ra=null,ls=null,Rd=0,Zr=1/0,on=null,gl=!1,Ec=null,Ln=null,Ii=!1,Tn=null,yl=0,Ta=0,Mc=null,Hi=-1,Ji=0;function Xt(){return ct&6?Dt():Hi!==-1?Hi:Hi=Dt()}function $n(t){return t.mode&1?ct&2&&Vt!==0?Vt&-Vt:Dg.transition!==null?(Ji===0&&(Ji=Lh()),Ji):(t=ft,t!==0||(t=window.event,t=t===void 0?16:Jh(t.type)),t):1}function Ws(t,s,n,r){if(50<Ta)throw Ta=0,Mc=null,Error(ue(185));ai(t,n,r),(!(ct&2)||t!==Lt)&&(t===Lt&&(!(ct&2)&&(Ol|=n),At===4&&En(t,Vt)),us(t,r),n===1&&ct===0&&!(s.mode&1)&&(Zr=Dt()+500,Tl&&Yn()))}function us(t,s){var n=t.callbackNode;D0(t,s);var r=tl(t,t===Lt?Vt:0);if(r===0)n!==null&&ku(n),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(n!=null&&ku(n),s===1)t.tag===0?kg(ym.bind(null,t)):uf(ym.bind(null,t)),wg(function(){!(ct&6)&&Yn()}),n=null;else{switch($h(r)){case 1:n=nd;break;case 4:n=Oh;break;case 16:n=el;break;case 536870912:n=zh;break;default:n=el}n=cp(n,sp.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function sp(t,s){if(Hi=-1,Ji=0,ct&6)throw Error(ue(327));var n=t.callbackNode;if(Hr()&&t.callbackNode!==n)return null;var r=tl(t,t===Lt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=vl(t,r);else{s=r;var a=ct;ct|=2;var i=rp();(Lt!==t||Vt!==s)&&(on=null,Zr=Dt()+500,rr(t,s));do try{Yg();break}catch(o){np(t,o)}while(!0);xd(),xl.current=i,ct=a,Mt!==null?s=0:(Lt=null,Vt=0,s=At)}if(s!==0){if(s===2&&(a=sc(t),a!==0&&(r=a,s=Ic(t,a))),s===1)throw n=Za,rr(t,0),En(t,r),us(t,Dt()),n;if(s===6)En(t,r);else{if(a=t.current.alternate,!(r&30)&&!Jg(a)&&(s=vl(t,r),s===2&&(i=sc(t),i!==0&&(r=i,s=Ic(t,i))),s===1))throw n=Za,rr(t,0),En(t,r),us(t,Dt()),n;switch(t.finishedWork=a,t.finishedLanes=r,s){case 0:case 1:throw Error(ue(345));case 2:Xn(t,ls,on);break;case 3:if(En(t,r),(r&130023424)===r&&(s=Rd+500-Dt(),10<s)){if(tl(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=dc(Xn.bind(null,t,ls,on),s);break}Xn(t,ls,on);break;case 4:if(En(t,r),(r&4194240)===r)break;for(s=t.eventTimes,a=-1;0<r;){var l=31-Js(r);i=1<<l,l=s[l],l>a&&(a=l),r&=~i}if(r=a,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hg(r/1960))-r,10<r){t.timeoutHandle=dc(Xn.bind(null,t,ls,on),r);break}Xn(t,ls,on);break;case 5:Xn(t,ls,on);break;default:throw Error(ue(329))}}}return us(t,Dt()),t.callbackNode===n?sp.bind(null,t):null}function Ic(t,s){var n=Ra;return t.current.memoizedState.isDehydrated&&(rr(t,s).flags|=256),t=vl(t,s),t!==2&&(s=ls,ls=n,s!==null&&Rc(s)),t}function Rc(t){ls===null?ls=t:ls.push.apply(ls,t)}function Jg(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ys(i(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function En(t,s){for(s&=~Id,s&=~Ol,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-Js(s),r=1<<n;t[n]=-1,s&=~r}}function ym(t){if(ct&6)throw Error(ue(327));Hr();var s=tl(t,0);if(!(s&1))return us(t,Dt()),null;var n=vl(t,s);if(t.tag!==0&&n===2){var r=sc(t);r!==0&&(s=r,n=Ic(t,r))}if(n===1)throw n=Za,rr(t,0),En(t,s),us(t,Dt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Xn(t,ls,on),us(t,Dt()),null}function Td(t,s){var n=ct;ct|=1;try{return t(s)}finally{ct=n,ct===0&&(Zr=Dt()+500,Tl&&Yn())}}function mr(t){Tn!==null&&Tn.tag===0&&!(ct&6)&&Hr();var s=ct;ct|=1;var n=Ts.transition,r=ft;try{if(Ts.transition=null,ft=1,t)return t()}finally{ft=r,Ts.transition=n,ct=s,!(ct&6)&&Yn()}}function Ad(){xs=Lr.current,vt(Lr)}function rr(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jg(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:qr(),vt(cs),vt(qt),wd();break;case 5:jd(r);break;case 4:qr();break;case 13:vt(jt);break;case 19:vt(jt);break;case 10:gd(r.type._context);break;case 22:case 23:Ad()}n=n.return}if(Lt=t,Mt=t=Fn(t.current,null),Vt=xs=s,At=0,Za=null,Id=Ol=ur=0,ls=Ra=null,tr!==null){for(s=0;s<tr.length;s++)if(n=tr[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}n.pending=r}tr=null}return t}function np(t,s){do{var n=Mt;try{if(xd(),Bi.current=pl,fl){for(var r=wt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}fl=!1}if(dr=0,zt=Tt=wt=null,Ma=!1,Ga=0,Md.current=null,n===null||n.return===null){At=1,Za=s,Mt=null;break}e:{var i=t,l=n.return,o=n,c=s;if(s=Vt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=am(l);if(g!==null){g.flags&=-257,im(g,l,o,i,s),g.mode&1&&rm(i,d,s),s=g,c=d;var v=s.updateQueue;if(v===null){var N=new Set;N.add(c),s.updateQueue=N}else v.add(c);break e}else{if(!(s&1)){rm(i,d,s),_d();break e}c=Error(ue(426))}}else if(bt&&o.mode&1){var I=am(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),im(I,l,o,i,s),fd(Qr(c,o));break e}}i=c=Qr(c,o),At!==4&&(At=2),Ra===null?Ra=[i]:Ra.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var y=Ff(i,c,s);Zu(i,y);break e;case 1:o=c;var h=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ln===null||!Ln.has(b)))){i.flags|=65536,s&=-s,i.lanes|=s;var j=Bf(i,o,s);Zu(i,j);break e}}i=i.return}while(i!==null)}ip(n)}catch(k){s=k,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function rp(){var t=xl.current;return xl.current=pl,t===null?pl:t}function _d(){(At===0||At===3||At===2)&&(At=4),Lt===null||!(ur&268435455)&&!(Ol&268435455)||En(Lt,Vt)}function vl(t,s){var n=ct;ct|=2;var r=rp();(Lt!==t||Vt!==s)&&(on=null,rr(t,s));do try{Wg();break}catch(a){np(t,a)}while(!0);if(xd(),ct=n,xl.current=r,Mt!==null)throw Error(ue(261));return Lt=null,Vt=0,At}function Wg(){for(;Mt!==null;)ap(Mt)}function Yg(){for(;Mt!==null&&!y0();)ap(Mt)}function ap(t){var s=op(t.alternate,t,xs);t.memoizedProps=t.pendingProps,s===null?ip(t):Mt=s,Md.current=null}function ip(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=Fg(n,s),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Mt=null;return}}else if(n=$g(n,s,xs),n!==null){Mt=n;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=t}while(s!==null);At===0&&(At=5)}function Xn(t,s,n){var r=ft,a=Ts.transition;try{Ts.transition=null,ft=1,Kg(t,s,n,r)}finally{Ts.transition=a,ft=r}return null}function Kg(t,s,n,r){do Hr();while(Tn!==null);if(ct&6)throw Error(ue(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(E0(t,i),t===Lt&&(Mt=Lt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ii||(Ii=!0,cp(el,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ts.transition,Ts.transition=null;var l=ft;ft=1;var o=ct;ct|=4,Md.current=null,Ug(t,n),ep(n,t),fg(oc),sl=!!lc,oc=lc=null,t.current=n,Vg(n),v0(),ct=o,ft=l,Ts.transition=i}else t.current=n;if(Ii&&(Ii=!1,Tn=t,yl=a),i=t.pendingLanes,i===0&&(Ln=null),w0(n.stateNode),us(t,Dt()),s!==null)for(r=t.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(gl)throw gl=!1,t=Ec,Ec=null,t;return yl&1&&t.tag!==0&&Hr(),i=t.pendingLanes,i&1?t===Mc?Ta++:(Ta=0,Mc=t):Ta=0,Yn(),null}function Hr(){if(Tn!==null){var t=$h(yl),s=Ts.transition,n=ft;try{if(Ts.transition=null,ft=16>t?16:t,Tn===null)var r=!1;else{if(t=Tn,Tn=null,yl=0,ct&6)throw Error(ue(331));var a=ct;for(ct|=4,ze=t.current;ze!==null;){var i=ze,l=i.child;if(ze.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ze=d;ze!==null;){var m=ze;switch(m.tag){case 0:case 11:case 15:Ia(8,m,i)}var f=m.child;if(f!==null)f.return=m,ze=f;else for(;ze!==null;){m=ze;var p=m.sibling,g=m.return;if(Qf(m),m===d){ze=null;break}if(p!==null){p.return=g,ze=p;break}ze=g}}}var v=i.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var I=N.sibling;N.sibling=null,N=I}while(N!==null)}}ze=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ze=l;else e:for(;ze!==null;){if(i=ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ia(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ze=y;break e}ze=i.return}}var h=t.current;for(ze=h;ze!==null;){l=ze;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,ze=b;else e:for(l=h;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pl(9,o)}}catch(k){kt(o,o.return,k)}if(o===l){ze=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,ze=j;break e}ze=o.return}}if(ct=a,Yn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Dl,t)}catch{}r=!0}return r}finally{ft=n,Ts.transition=s}}return!1}function vm(t,s,n){s=Qr(n,s),s=Ff(t,s,1),t=zn(t,s,1),s=Xt(),t!==null&&(ai(t,1,s),us(t,s))}function kt(t,s,n){if(t.tag===3)vm(t,t,n);else for(;s!==null;){if(s.tag===3){vm(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=Qr(n,t),t=Bf(s,t,1),s=zn(s,t,1),t=Xt(),s!==null&&(ai(s,1,t),us(s,t));break}}s=s.return}}function Gg(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),s=Xt(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Vt&n)===n&&(At===4||At===3&&(Vt&130023424)===Vt&&500>Dt()-Rd?rr(t,0):Id|=n),us(t,s)}function lp(t,s){s===0&&(t.mode&1?(s=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):s=1);var n=Xt();t=xn(t,s),t!==null&&(ai(t,s,n),us(t,n))}function qg(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),lp(t,n)}function Qg(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(s),lp(t,n)}var op;op=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||cs.current)os=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return os=!1,Lg(t,s,n);os=!!(t.flags&131072)}else os=!1,bt&&s.flags&1048576&&mf(s,cl,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;Vi(t,s),t=s.pendingProps;var a=Yr(s,qt.current);Vr(s,n),a=Sd(null,s,r,t,a,n);var i=Cd();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ds(r)?(i=!0,ll(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vd(s),a.updater=_l,s.stateNode=a,a._reactInternals=s,gc(s,r,t,n),s=bc(null,s,r,!0,i,n)):(s.tag=0,bt&&i&&md(s),Qt(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch(Vi(t,s),t=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=Xg(r),t=Us(r,t),a){case 0:s=vc(null,s,r,t,n);break e;case 1:s=cm(null,s,r,t,n);break e;case 11:s=lm(null,s,r,t,n);break e;case 14:s=om(null,s,r,Us(r.type,t),n);break e}throw Error(ue(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),vc(t,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),cm(t,s,r,a,n);case 3:e:{if(Jf(s),t===null)throw Error(ue(387));r=s.pendingProps,i=s.memoizedState,a=i.element,yf(t,s),ml(s,r,null,n);var l=s.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Qr(Error(ue(423)),s),s=dm(t,s,r,n,a);break e}else if(r!==a){a=Qr(Error(ue(424)),s),s=dm(t,s,r,n,a);break e}else for(ys=On(s.stateNode.containerInfo.firstChild),vs=s,bt=!0,Hs=null,n=xf(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kr(),r===a){s=gn(t,s,n);break e}Qt(t,s,r,n)}s=s.child}return s;case 5:return vf(s),t===null&&fc(s),r=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,cc(r,a)?l=null:i!==null&&cc(r,i)&&(s.flags|=32),Hf(t,s),Qt(t,s,l,n),s.child;case 6:return t===null&&fc(s),null;case 13:return Wf(t,s,n);case 4:return bd(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Gr(s,null,r,n):Qt(t,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),lm(t,s,r,a,n);case 7:return Qt(t,s,s.pendingProps,n),s.child;case 8:return Qt(t,s,s.pendingProps.children,n),s.child;case 12:return Qt(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,xt(dl,r._currentValue),r._currentValue=l,i!==null)if(Ys(i.value,l)){if(i.children===a.children&&!cs.current){s=gn(t,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=mn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pc(i.return,n,s),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ue(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),pc(l,n,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Qt(t,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,Vr(s,n),a=As(a),r=r(a),s.flags|=1,Qt(t,s,r,n),s.child;case 14:return r=s.type,a=Us(r,s.pendingProps),a=Us(r.type,a),om(t,s,r,a,n);case 15:return Uf(t,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),Vi(t,s),s.tag=1,ds(r)?(t=!0,ll(s)):t=!1,Vr(s,n),$f(s,r,a),gc(s,r,a,n),bc(null,s,r,!0,t,n);case 19:return Yf(t,s,n);case 22:return Vf(t,s,n)}throw Error(ue(156,s.tag))};function cp(t,s){return Ph(t,s)}function Zg(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(t,s,n,r){return new Zg(t,s,n,r)}function Pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xg(t){if(typeof t=="function")return Pd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ed)return 11;if(t===td)return 14}return 2}function Fn(t,s){var n=t.alternate;return n===null?(n=Rs(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wi(t,s,n,r,a,i){var l=2;if(r=t,typeof t=="function")Pd(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Er:return ar(n.children,a,i,s);case Xc:l=8,a|=8;break;case Bo:return t=Rs(12,n,s,a|2),t.elementType=Bo,t.lanes=i,t;case Uo:return t=Rs(13,n,s,a),t.elementType=Uo,t.lanes=i,t;case Vo:return t=Rs(19,n,s,a),t.elementType=Vo,t.lanes=i,t;case yh:return zl(n,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xh:l=10;break e;case gh:l=9;break e;case ed:l=11;break e;case td:l=14;break e;case Cn:l=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return s=Rs(l,n,s,a),s.elementType=t,s.type=r,s.lanes=i,s}function ar(t,s,n,r){return t=Rs(7,t,r,s),t.lanes=n,t}function zl(t,s,n,r){return t=Rs(22,t,r,s),t.elementType=yh,t.lanes=n,t.stateNode={isHidden:!1},t}function Io(t,s,n){return t=Rs(6,t,null,s),t.lanes=n,t}function Ro(t,s,n){return s=Rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ey(t,s,n,r,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Od(t,s,n,r,a,i,l,o,c){return t=new ey(t,s,n,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Rs(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(i),t}function ty(t,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:r==null?null:""+r,children:t,containerInfo:s,implementation:n}}function dp(t){if(!t)return Un;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(ue(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ds(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(ds(n))return df(t,n,s)}return s}function up(t,s,n,r,a,i,l,o,c){return t=Od(n,r,!0,t,a,i,l,o,c),t.context=dp(null),n=t.current,r=Xt(),a=$n(n),i=mn(r,a),i.callback=s??null,zn(n,i,a),t.current.lanes=a,ai(t,a,r),us(t,r),t}function Ll(t,s,n,r){var a=s.current,i=Xt(),l=$n(a);return n=dp(n),s.context===null?s.context=n:s.pendingContext=n,s=mn(i,l),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=zn(a,s,l),t!==null&&(Ws(t,a,l,i),Fi(t,a,l)),l}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function zd(t,s){bm(t,s),(t=t.alternate)&&bm(t,s)}function sy(){return null}var mp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ld(t){this._internalRoot=t}$l.prototype.render=Ld.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ue(409));Ll(t,s,null,null)};$l.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;mr(function(){Ll(null,t,null,null)}),s[pn]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var s=Uh();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Dn.length&&s!==0&&s<Dn[n].priority;n++);Dn.splice(n,0,t),n===0&&Hh(t)}};function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jm(){}function ny(t,s,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=bl(l);i.call(d)}}var l=up(s,r,t,0,null,!1,!1,"",jm);return t._reactRootContainer=l,t[pn]=l.current,Ha(t.nodeType===8?t.parentNode:t),mr(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=bl(c);o.call(d)}}var c=Od(t,0,!1,null,null,!1,!1,"",jm);return t._reactRootContainer=c,t[pn]=c.current,Ha(t.nodeType===8?t.parentNode:t),mr(function(){Ll(s,c,n,r)}),c}function Bl(t,s,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=bl(l);o.call(c)}}Ll(s,l,t,a)}else l=ny(n,s,t,a,r);return bl(l)}Fh=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=ja(s.pendingLanes);n!==0&&(rd(s,n|1),us(s,Dt()),!(ct&6)&&(Zr=Dt()+500,Yn()))}break;case 13:mr(function(){var r=xn(t,1);if(r!==null){var a=Xt();Ws(r,t,1,a)}}),zd(t,1)}};ad=function(t){if(t.tag===13){var s=xn(t,134217728);if(s!==null){var n=Xt();Ws(s,t,134217728,n)}zd(t,134217728)}};Bh=function(t){if(t.tag===13){var s=$n(t),n=xn(t,s);if(n!==null){var r=Xt();Ws(n,t,s,r)}zd(t,s)}};Uh=function(){return ft};Vh=function(t,s){var n=ft;try{return ft=t,s()}finally{ft=n}};Xo=function(t,s,n){switch(s){case"input":if(Wo(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var a=Rl(r);if(!a)throw Error(ue(90));bh(r),Wo(r,a)}}}break;case"textarea":wh(t,n);break;case"select":s=n.value,s!=null&&$r(t,!!n.multiple,s,!1)}};Mh=Td;Ih=mr;var ry={usingClientEntryPoint:!1,Events:[li,Tr,Rl,Dh,Eh,Td]},fa={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ay={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ah(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{Dl=Ri.inject(ay),en=Ri}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;ws.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(s))throw Error(ue(200));return ty(t,s,null,n)};ws.createRoot=function(t,s){if(!$d(t))throw Error(ue(299));var n=!1,r="",a=mp;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Od(t,1,!1,null,null,n,!1,r,a),t[pn]=s.current,Ha(t.nodeType===8?t.parentNode:t),new Ld(s)};ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=Ah(s),t=t===null?null:t.stateNode,t};ws.flushSync=function(t){return mr(t)};ws.hydrate=function(t,s,n){if(!Fl(s))throw Error(ue(200));return Bl(null,t,s,!0,n)};ws.hydrateRoot=function(t,s,n){if(!$d(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",l=mp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),s=up(s,null,t,1,n??null,a,!1,i,l),t[pn]=s.current,Ha(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new $l(s)};ws.render=function(t,s,n){if(!Fl(s))throw Error(ue(200));return Bl(null,t,s,!1,n)};ws.unmountComponentAtNode=function(t){if(!Fl(t))throw Error(ue(40));return t._reactRootContainer?(mr(function(){Bl(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};ws.unstable_batchedUpdates=Td;ws.unstable_renderSubtreeIntoContainer=function(t,s,n,r){if(!Fl(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Bl(t,s,n,!1,r)};ws.version="18.3.1-next-f1338f8080-20240426";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(t){console.error(t)}}hp(),mh.exports=ws;var fp=mh.exports,wm=fp;$o.createRoot=wm.createRoot,$o.hydrateRoot=wm.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pp=t=>{throw TypeError(t)},iy=(t,s,n)=>s.has(t)||pp("Cannot "+n),To=(t,s,n)=>(iy(t,s,"read from private field"),n?n.call(t):s.get(t)),ly=(t,s,n)=>s.has(t)?pp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),Nm="popstate";function oy(t={}){function s(r,a){let{pathname:i,search:l,hash:o}=r.location;return Xa("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Vn(a)}return dy(s,n,null,t)}function rt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function It(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function cy(){return Math.random().toString(36).substring(2,10)}function Sm(t,s){return{usr:t.state,key:t.key,idx:s}}function Xa(t,s,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?Kn(s):s,state:n,key:s&&s.key||r||cy()}}function Vn({pathname:t="/",search:s="",hash:n=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kn(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substring(r),t=t.substring(0,r)),t&&(s.pathname=t)}return s}function dy(t,s,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o="POP",c=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function f(){o="POP";let I=m(),y=I==null?null:I-d;d=I,c&&c({action:o,location:N.location,delta:y})}function p(I,y){o="PUSH";let h=Xa(N.location,I,y);d=m()+1;let b=Sm(h,d),j=N.createHref(h);try{l.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:o,location:N.location,delta:1})}function g(I,y){o="REPLACE";let h=Xa(N.location,I,y);d=m();let b=Sm(h,d),j=N.createHref(h);l.replaceState(b,"",j),i&&c&&c({action:o,location:N.location,delta:0})}function v(I){return xp(I)}let N={get action(){return o},get location(){return t(a,l)},listen(I){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Nm,f),c=I,()=>{a.removeEventListener(Nm,f),c=null}},createHref(I){return s(a,I)},createURL:v,encodeLocation(I){let y=v(I);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(I){return l.go(I)}};return N}function xp(t,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vn(t);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Na,Cm=class{constructor(t){if(ly(this,Na,new Map),t)for(let[s,n]of t)this.set(s,n)}get(t){if(To(this,Na).has(t))return To(this,Na).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,s){To(this,Na).set(t,s)}};Na=new WeakMap;var uy=new Set(["lazy","caseSensitive","path","id","index","children"]);function my(t){return uy.has(t)}var hy=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function fy(t){return hy.has(t)}function py(t){return t.index===!0}function ei(t,s,n=[],r={},a=!1){return t.map((i,l)=>{let o=[...n,String(l)],c=typeof i.id=="string"?i.id:o.join("-");if(rt(i.index!==!0||!i.children,"Cannot specify children on an index route"),rt(a||!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),py(i)){let d={...i,...s(i),id:c};return r[c]=d,d}else{let d={...i,...s(i),id:c,children:void 0};return r[c]=d,i.children&&(d.children=ei(i.children,s,o,r,a)),d}})}function Mn(t,s,n="/"){return Yi(t,s,n,!1)}function Yi(t,s,n,r){let a=typeof s=="string"?Kn(s):s,i=Ps(a.pathname||"/",n);if(i==null)return null;let l=gp(t);gy(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Ey(i);o=ky(l[c],d,r)}return o}function xy(t,s){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:s[n.id],loaderData:s[n.id],handle:n.handle}}function gp(t,s=[],n=[],r="",a=!1){let i=(l,o,c=a,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;rt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=sn([r,m.relativePath]),p=n.concat(m);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),gp(l.children,s,p,f,c)),!(l.path==null&&!l.index)&&s.push({path:f,score:Sy(f,l.index),routesMeta:p})};return t.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let d of yp(l.path))i(l,o,!0,d)}),s}function yp(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=yp(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function gy(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:Cy(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yy=/^:[\w-]+$/,vy=3,by=2,jy=1,wy=10,Ny=-2,km=t=>t==="*";function Sy(t,s){let n=t.split("/"),r=n.length;return n.some(km)&&(r+=Ny),s&&(r+=by),n.filter(a=>!km(a)).reduce((a,i)=>a+(yy.test(i)?vy:i===""?jy:wy),r)}function Cy(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function ky(t,s,n=!1){let{routesMeta:r}=t,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,m=i==="/"?s:s.slice(i.length)||"/",f=jl({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=jl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:sn([i,f.pathname]),pathnameBase:Ty(sn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=sn([i,f.pathnameBase]))}return l}function jl(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Dy(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:f},p)=>{if(m==="*"){let v=o[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[p];return f&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function Dy(t,s=!1,n=!0){It(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function Ey(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return It(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Ps(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function My({basename:t,pathname:s}){return s==="/"?t:sn([t,s])}function Iy(t,s="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Kn(t):t;return{pathname:n?n.startsWith("/")?n:Ry(n,s):s,search:Ay(r),hash:_y(a)}}function Ry(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ao(t,s,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vp(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Fd(t){let s=vp(t);return s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase)}function Bd(t,s,n,r=!1){let a;typeof t=="string"?a=Kn(t):(a={...t},rt(!a.pathname||!a.pathname.includes("?"),Ao("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Ao("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Ao("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let f=s.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}o=f>=0?s[f]:"/"}let c=Iy(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var sn=t=>t.join("/").replace(/\/\/+/g,"/"),Ty=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ay=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_y=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wl=class{constructor(t,s,n,r=!1){this.status=t,this.statusText=s||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ti(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bp=["POST","PUT","PATCH","DELETE"],Py=new Set(bp),Oy=["GET",...bp],zy=new Set(Oy),Ly=new Set([301,302,303,307,308]),$y=new Set([307,308]),_o={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fy={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},By=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ud=t=>By.test(t),Uy=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),jp="remix-router-transitions",wp=Symbol("ResetLoaderData");function Vy(t){const s=t.window?t.window:typeof window<"u"?window:void 0,n=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u";rt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||Uy,i={},l=ei(t.routes,a,void 0,i),o,c=t.basename||"/";c.startsWith("/")||(c=`/${c}`);let d=t.dataStrategy||Ky,m={...t.future},f=null,p=new Set,g=null,v=null,N=null,I=t.hydrationData!=null,y=Mn(l,t.history.location,c),h=!1,b=null,j;if(y==null&&!t.patchRoutesOnNavigation){let E=Es(404,{pathname:t.history.location.pathname}),{matches:A,route:$}=Ti(l);j=!0,y=A,b={[$.id]:E}}else if(y&&!t.hydrationData&&He(y,l,t.history.location.pathname).active&&(y=null),y)if(y.some(E=>E.route.lazy))j=!1;else if(!y.some(E=>E.route.loader))j=!0;else{let E=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;if(A){let $=y.findIndex(te=>A[te.route.id]!==void 0);j=y.slice(0,$+1).every(te=>!Ac(te.route,E,A))}else j=y.every($=>!Ac($.route,E,A))}else{j=!1,y=[];let E=He(null,l,t.history.location.pathname);E.active&&E.matches&&(h=!0,y=E.matches)}let k,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:j,navigation:_o,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},M="POP",T=!1,S,w=!1,L=new Map,X=null,F=!1,O=!1,_=new Set,oe=new Map,Se=0,G=-1,B=new Map,W=new Set,le=new Map,de=new Map,we=new Set,Re=new Map,Ye,Ae=null;function me(){if(f=t.history.listen(({action:E,location:A,delta:$})=>{if(Ye){Ye(),Ye=void 0;return}It(Re.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=zs({currentLocation:x.location,nextLocation:A,historyAction:E});if(te&&$!=null){let se=new Promise(ae=>{Ye=ae});t.history.go($*-1),$t(te,{state:"blocked",location:A,proceed(){$t(te,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),se.then(()=>t.history.go($))},reset(){let ae=new Map(x.blockers);ae.set(te,pa),U({blockers:ae})}});return}return Q(E,A)}),n){cv(s,L);let E=()=>dv(s,L);s.addEventListener("pagehide",E),X=()=>s.removeEventListener("pagehide",E)}return x.initialized||Q("POP",x.location,{initialHydration:!0}),k}function Ke(){f&&f(),X&&X(),p.clear(),S&&S.abort(),x.fetchers.forEach((E,A)=>Ze(A)),x.blockers.forEach((E,A)=>fs(A))}function Y(E){return p.add(E),()=>p.delete(E)}function U(E,A={}){E.matches&&(E.matches=E.matches.map(se=>{let ae=i[se.route.id],Z=se.route;return Z.element!==ae.element||Z.errorElement!==ae.errorElement||Z.hydrateFallbackElement!==ae.hydrateFallbackElement?{...se,route:ae}:se})),x={...x,...E};let $=[],te=[];x.fetchers.forEach((se,ae)=>{se.state==="idle"&&(we.has(ae)?$.push(ae):te.push(ae))}),we.forEach(se=>{!x.fetchers.has(se)&&!oe.has(se)&&$.push(se)}),[...p].forEach(se=>se(x,{deletedFetchers:$,viewTransitionOpts:A.viewTransitionOpts,flushSync:A.flushSync===!0})),$.forEach(se=>Ze(se)),te.forEach(se=>x.fetchers.delete(se))}function ge(E,A,{flushSync:$}={}){var Le,Te;let te=x.actionData!=null&&x.navigation.formMethod!=null&&as(x.navigation.formMethod)&&x.navigation.state==="loading"&&((Le=E.state)==null?void 0:Le._isRedirect)!==!0,se;A.actionData?Object.keys(A.actionData).length>0?se=A.actionData:se=null:te?se=x.actionData:se=null;let ae=A.loaderData?Om(x.loaderData,A.loaderData,A.matches||[],A.errors):x.loaderData,Z=x.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((Be,tt)=>Z.set(tt,pa)));let re=F?!1:Oe(E,A.matches||x.matches),pe=T===!0||x.navigation.formMethod!=null&&as(x.navigation.formMethod)&&((Te=E.state)==null?void 0:Te._isRedirect)!==!0;o&&(l=o,o=void 0),F||M==="POP"||(M==="PUSH"?t.history.push(E,E.state):M==="REPLACE"&&t.history.replace(E,E.state));let Ie;if(M==="POP"){let Be=L.get(x.location.pathname);Be&&Be.has(E.pathname)?Ie={currentLocation:x.location,nextLocation:E}:L.has(E.pathname)&&(Ie={currentLocation:E,nextLocation:x.location})}else if(w){let Be=L.get(x.location.pathname);Be?Be.add(E.pathname):(Be=new Set([E.pathname]),L.set(x.location.pathname,Be)),Ie={currentLocation:x.location,nextLocation:E}}U({...A,actionData:se,loaderData:ae,historyAction:M,location:E,initialized:!0,navigation:_o,revalidation:"idle",restoreScrollPosition:re,preventScrollReset:pe,blockers:Z},{viewTransitionOpts:Ie,flushSync:$===!0}),M="POP",T=!1,w=!1,F=!1,O=!1,Ae==null||Ae.resolve(),Ae=null}async function Ce(E,A){if(typeof E=="number"){t.history.go(E);return}let $=Tc(x.location,x.matches,c,E,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:te,submission:se,error:ae}=Dm(!1,$,A),Z=x.location,re=Xa(x.location,te,A&&A.state);re={...re,...t.history.encodeLocation(re)};let pe=A&&A.replace!=null?A.replace:void 0,Ie="PUSH";pe===!0?Ie="REPLACE":pe===!1||se!=null&&as(se.formMethod)&&se.formAction===x.location.pathname+x.location.search&&(Ie="REPLACE");let Le=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Te=(A&&A.flushSync)===!0,Be=zs({currentLocation:Z,nextLocation:re,historyAction:Ie});if(Be){$t(Be,{state:"blocked",location:re,proceed(){$t(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Ce(E,A)},reset(){let tt=new Map(x.blockers);tt.set(Be,pa),U({blockers:tt})}});return}await Q(Ie,re,{submission:se,pendingError:ae,preventScrollReset:Le,replace:A&&A.replace,enableViewTransition:A&&A.viewTransition,flushSync:Te})}function ke(){Ae||(Ae=uv()),De(),U({revalidation:"loading"});let E=Ae.promise;return x.navigation.state==="submitting"?E:x.navigation.state==="idle"?(Q(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),E):(Q(M||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:w===!0}),E)}async function Q(E,A,$){S&&S.abort(),S=null,M=E,F=($&&$.startUninterruptedRevalidation)===!0,Pe(x.location,x.matches),T=($&&$.preventScrollReset)===!0,w=($&&$.enableViewTransition)===!0;let te=o||l,se=$&&$.overrideNavigation,ae=$!=null&&$.initialHydration&&x.matches&&x.matches.length>0&&!h?x.matches:Mn(te,A,c),Z=($&&$.flushSync)===!0;if(ae&&x.initialized&&!O&&sv(x.location,A)&&!($&&$.submission&&as($.submission.formMethod))){ge(A,{matches:ae},{flushSync:Z});return}let re=He(ae,te,A.pathname);if(re.active&&re.matches&&(ae=re.matches),!ae){let{error:ht,notFoundMatches:D,route:ee}=Pt(A.pathname);ge(A,{matches:D,loaderData:{},errors:{[ee.id]:ht}},{flushSync:Z});return}S=new AbortController;let pe=kr(t.history,A,S.signal,$&&$.submission),Ie=t.unstable_getContext?await t.unstable_getContext():new Cm,Le;if($&&$.pendingError)Le=[In(ae).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&as($.submission.formMethod)){let ht=await Me(pe,A,$.submission,ae,Ie,re.active,$&&$.initialHydration===!0,{replace:$.replace,flushSync:Z});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[D,ee]=ht.pendingActionResult;if(gs(ee)&&ti(ee.error)&&ee.error.status===404){S=null,ge(A,{matches:ht.matches,loaderData:{},errors:{[D]:ee.error}});return}}ae=ht.matches||ae,Le=ht.pendingActionResult,se=Po(A,$.submission),Z=!1,re.active=!1,pe=kr(t.history,pe.url,pe.signal)}let{shortCircuited:Te,matches:Be,loaderData:tt,errors:mt}=await P(pe,A,ae,Ie,re.active,se,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,Z,Le);Te||(S=null,ge(A,{matches:Be||ae,...zm(Le),loaderData:tt,errors:mt}))}async function Me(E,A,$,te,se,ae,Z,re={}){De();let pe=lv(A,$);if(U({navigation:pe},{flushSync:re.flushSync===!0}),ae){let Te=await Ue(te,A.pathname,E.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){if(Te.partialMatches.length===0){let{matches:tt,route:mt}=Ti(l);return{matches:tt,pendingActionResult:[mt.id,{type:"error",error:Te.error}]}}let Be=In(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[Be,{type:"error",error:Te.error}]}}else if(Te.matches)te=Te.matches;else{let{notFoundMatches:Be,error:tt,route:mt}=Pt(A.pathname);return{matches:Be,pendingActionResult:[mt.id,{type:"error",error:tt}]}}}let Ie,Le=Ki(te,A);if(!Le.route.action&&!Le.route.lazy)Ie={type:"error",error:Es(405,{method:E.method,pathname:A.pathname,routeId:Le.route.id})};else{let Te=Jr(a,i,E,te,Le,Z?[]:r,se),Be=await We(E,Te,se,null);if(Ie=Be[Le.route.id],!Ie){for(let tt of te)if(Be[tt.route.id]){Ie=Be[tt.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(nr(Ie)){let Te;return re&&re.replace!=null?Te=re.replace:Te=Am(Ie.response.headers.get("Location"),new URL(E.url),c)===x.location.pathname+x.location.search,await fe(E,Ie,!0,{submission:$,replace:Te}),{shortCircuited:!0}}if(gs(Ie)){let Te=In(te,Le.route.id);return(re&&re.replace)!==!0&&(M="PUSH"),{matches:te,pendingActionResult:[Te.route.id,Ie,Le.route.id]}}return{matches:te,pendingActionResult:[Le.route.id,Ie]}}async function P(E,A,$,te,se,ae,Z,re,pe,Ie,Le,Te){let Be=ae||Po(A,Z),tt=Z||re||$m(Be),mt=!F&&!Ie;if(se){if(mt){let Ct=K(Te);U({navigation:Be,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Le})}let nt=await Ue($,A.pathname,E.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){if(nt.partialMatches.length===0){let{matches:Cs,route:ks}=Ti(l);return{matches:Cs,loaderData:{},errors:{[ks.id]:nt.error}}}let Ct=In(nt.partialMatches).route.id;return{matches:nt.partialMatches,loaderData:{},errors:{[Ct]:nt.error}}}else if(nt.matches)$=nt.matches;else{let{error:Ct,notFoundMatches:Cs,route:ks}=Pt(A.pathname);return{matches:Cs,loaderData:{},errors:{[ks.id]:Ct}}}}let ht=o||l,{dsMatches:D,revalidatingFetchers:ee}=Em(E,te,a,i,t.history,x,$,tt,A,Ie?[]:r,Ie===!0,O,_,we,le,W,ht,c,t.patchRoutesOnNavigation!=null,Te);if(G=++Se,!t.dataStrategy&&!D.some(nt=>nt.shouldLoad)&&!D.some(nt=>nt.route.unstable_middleware)&&ee.length===0){let nt=gt();return ge(A,{matches:$,loaderData:{},errors:Te&&gs(Te[1])?{[Te[0]]:Te[1].error}:null,...zm(Te),...nt?{fetchers:new Map(x.fetchers)}:{}},{flushSync:Le}),{shortCircuited:!0}}if(mt){let nt={};if(!se){nt.navigation=Be;let Ct=K(Te);Ct!==void 0&&(nt.actionData=Ct)}ee.length>0&&(nt.fetchers=he(ee)),U(nt,{flushSync:Le})}ee.forEach(nt=>{dt(nt.key),nt.controller&&oe.set(nt.key,nt.controller)});let Ne=()=>ee.forEach(nt=>dt(nt.key));S&&S.signal.addEventListener("abort",Ne);let{loaderResults:Je,fetcherResults:it}=await V(D,ee,E,te);if(E.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Ne),ee.forEach(nt=>oe.delete(nt.key));let lt=Ai(Je);if(lt)return await fe(E,lt.result,!0,{replace:pe}),{shortCircuited:!0};if(lt=Ai(it),lt)return W.add(lt.key),await fe(E,lt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Ge,errors:Ot}=Pm(x,$,Je,Te,ee,it);Ie&&x.errors&&(Ot={...x.errors,...Ot});let Ss=gt(),an=Jt(G),ln=Ss||an||ee.length>0;return{matches:$,loaderData:Ge,errors:Ot,...ln?{fetchers:new Map(x.fetchers)}:{}}}function K(E){if(E&&!gs(E[1]))return{[E[0]]:E[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function he(E){return E.forEach(A=>{let $=x.fetchers.get(A.key),te=xa(void 0,$?$.data:void 0);x.fetchers.set(A.key,te)}),new Map(x.fetchers)}async function ve(E,A,$,te){dt(E);let se=(te&&te.flushSync)===!0,ae=o||l,Z=Tc(x.location,x.matches,c,$,A,te==null?void 0:te.relative),re=Mn(ae,Z,c),pe=He(re,ae,Z);if(pe.active&&pe.matches&&(re=pe.matches),!re){je(E,A,Es(404,{pathname:Z}),{flushSync:se});return}let{path:Ie,submission:Le,error:Te}=Dm(!0,Z,te);if(Te){je(E,A,Te,{flushSync:se});return}let Be=t.unstable_getContext?await t.unstable_getContext():new Cm,tt=(te&&te.preventScrollReset)===!0;if(Le&&as(Le.formMethod)){await be(E,A,Ie,re,Be,pe.active,se,tt,Le);return}le.set(E,{routeId:A,path:Ie}),await ye(E,A,Ie,re,Be,pe.active,se,tt,Le)}async function be(E,A,$,te,se,ae,Z,re,pe){De(),le.delete(E);let Ie=x.fetchers.get(E);_e(E,ov(pe,Ie),{flushSync:Z});let Le=new AbortController,Te=kr(t.history,$,Le.signal,pe);if(ae){let pt=await Ue(te,new URL(Te.url).pathname,Te.signal,E);if(pt.type==="aborted")return;if(pt.type==="error"){je(E,A,pt.error,{flushSync:Z});return}else if(pt.matches)te=pt.matches;else{je(E,A,Es(404,{pathname:$}),{flushSync:Z});return}}let Be=Ki(te,$);if(!Be.route.action&&!Be.route.lazy){let pt=Es(405,{method:pe.formMethod,pathname:$,routeId:A});je(E,A,pt,{flushSync:Z});return}oe.set(E,Le);let tt=Se,mt=Jr(a,i,Te,te,Be,r,se),D=(await We(Te,mt,se,E))[Be.route.id];if(Te.signal.aborted){oe.get(E)===Le&&oe.delete(E);return}if(we.has(E)){if(nr(D)||gs(D)){_e(E,Sn(void 0));return}}else{if(nr(D))if(oe.delete(E),G>tt){_e(E,Sn(void 0));return}else return W.add(E),_e(E,xa(pe)),fe(Te,D,!1,{fetcherSubmission:pe,preventScrollReset:re});if(gs(D)){je(E,A,D.error);return}}let ee=x.navigation.location||x.location,Ne=kr(t.history,ee,Le.signal),Je=o||l,it=x.navigation.state!=="idle"?Mn(Je,x.navigation.location,c):x.matches;rt(it,"Didn't find any matches after fetcher action");let lt=++Se;B.set(E,lt);let Ge=xa(pe,D.data);x.fetchers.set(E,Ge);let{dsMatches:Ot,revalidatingFetchers:Ss}=Em(Ne,se,a,i,t.history,x,it,pe,ee,r,!1,O,_,we,le,W,Je,c,t.patchRoutesOnNavigation!=null,[Be.route.id,D]);Ss.filter(pt=>pt.key!==E).forEach(pt=>{let Ks=pt.key,jn=x.fetchers.get(Ks),wn=xa(void 0,jn?jn.data:void 0);x.fetchers.set(Ks,wn),dt(Ks),pt.controller&&oe.set(Ks,pt.controller)}),U({fetchers:new Map(x.fetchers)});let an=()=>Ss.forEach(pt=>dt(pt.key));Le.signal.addEventListener("abort",an);let{loaderResults:ln,fetcherResults:nt}=await V(Ot,Ss,Ne,se);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",an),B.delete(E),oe.delete(E),Ss.forEach(pt=>oe.delete(pt.key)),x.fetchers.has(E)){let pt=Sn(D.data);x.fetchers.set(E,pt)}let Ct=Ai(ln);if(Ct)return fe(Ne,Ct.result,!1,{preventScrollReset:re});if(Ct=Ai(nt),Ct)return W.add(Ct.key),fe(Ne,Ct.result,!1,{preventScrollReset:re});let{loaderData:Cs,errors:ks}=Pm(x,it,ln,void 0,Ss,nt);Jt(lt),x.navigation.state==="loading"&&lt>G?(rt(M,"Expected pending action"),S&&S.abort(),ge(x.navigation.location,{matches:it,loaderData:Cs,errors:ks,fetchers:new Map(x.fetchers)})):(U({errors:ks,loaderData:Om(x.loaderData,Cs,it,ks),fetchers:new Map(x.fetchers)}),O=!1)}async function ye(E,A,$,te,se,ae,Z,re,pe){let Ie=x.fetchers.get(E);_e(E,xa(pe,Ie?Ie.data:void 0),{flushSync:Z});let Le=new AbortController,Te=kr(t.history,$,Le.signal);if(ae){let ee=await Ue(te,new URL(Te.url).pathname,Te.signal,E);if(ee.type==="aborted")return;if(ee.type==="error"){je(E,A,ee.error,{flushSync:Z});return}else if(ee.matches)te=ee.matches;else{je(E,A,Es(404,{pathname:$}),{flushSync:Z});return}}let Be=Ki(te,$);oe.set(E,Le);let tt=Se,mt=Jr(a,i,Te,te,Be,r,se),D=(await We(Te,mt,se,E))[Be.route.id];if(oe.get(E)===Le&&oe.delete(E),!Te.signal.aborted){if(we.has(E)){_e(E,Sn(void 0));return}if(nr(D))if(G>tt){_e(E,Sn(void 0));return}else{W.add(E),await fe(Te,D,!1,{preventScrollReset:re});return}if(gs(D)){je(E,A,D.error);return}_e(E,Sn(D.data))}}async function fe(E,A,$,{submission:te,fetcherSubmission:se,preventScrollReset:ae,replace:Z}={}){A.response.headers.has("X-Remix-Revalidate")&&(O=!0);let re=A.response.headers.get("Location");rt(re,"Expected a Location header on the redirect Response"),re=Am(re,new URL(E.url),c);let pe=Xa(x.location,re,{_isRedirect:!0});if(n){let mt=!1;if(A.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(Ud(re)){const ht=xp(re,!0);mt=ht.origin!==s.location.origin||Ps(ht.pathname,c)==null}if(mt){Z?s.location.replace(re):s.location.assign(re);return}}S=null;let Ie=Z===!0||A.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:Te,formEncType:Be}=x.navigation;!te&&!se&&Le&&Te&&Be&&(te=$m(x.navigation));let tt=te||se;if($y.has(A.response.status)&&tt&&as(tt.formMethod))await Q(Ie,pe,{submission:{...tt,formAction:re},preventScrollReset:ae||T,enableViewTransition:$?w:void 0});else{let mt=Po(pe,te);await Q(Ie,pe,{overrideNavigation:mt,fetcherSubmission:se,preventScrollReset:ae||T,enableViewTransition:$?w:void 0})}}async function We(E,A,$,te){let se,ae={};try{se=await qy(d,E,A,te,$,!1)}catch(Z){return A.filter(re=>re.shouldLoad).forEach(re=>{ae[re.route.id]={type:"error",error:Z}}),ae}if(E.signal.aborted)return ae;for(let[Z,re]of Object.entries(se))if(av(re)){let pe=re.result;ae[Z]={type:"redirect",response:ev(pe,E,Z,A,c)}}else ae[Z]=await Xy(re);return ae}async function V(E,A,$,te){let se=We($,E,te,null),ae=Promise.all(A.map(async pe=>{if(pe.matches&&pe.match&&pe.request&&pe.controller){let Le=(await We(pe.request,pe.matches,te,pe.key))[pe.match.route.id];return{[pe.key]:Le}}else return Promise.resolve({[pe.key]:{type:"error",error:Es(404,{pathname:pe.path})}})})),Z=await se,re=(await ae).reduce((pe,Ie)=>Object.assign(pe,Ie),{});return{loaderResults:Z,fetcherResults:re}}function De(){O=!0,le.forEach((E,A)=>{oe.has(A)&&_.add(A),dt(A)})}function _e(E,A,$={}){x.fetchers.set(E,A),U({fetchers:new Map(x.fetchers)},{flushSync:($&&$.flushSync)===!0})}function je(E,A,$,te={}){let se=In(x.matches,A);Ze(E),U({errors:{[se.route.id]:$},fetchers:new Map(x.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function qe(E){return de.set(E,(de.get(E)||0)+1),we.has(E)&&we.delete(E),x.fetchers.get(E)||Fy}function Ze(E){let A=x.fetchers.get(E);oe.has(E)&&!(A&&A.state==="loading"&&B.has(E))&&dt(E),le.delete(E),B.delete(E),W.delete(E),we.delete(E),_.delete(E),x.fetchers.delete(E)}function hs(E){let A=(de.get(E)||0)-1;A<=0?(de.delete(E),we.add(E)):de.set(E,A),U({fetchers:new Map(x.fetchers)})}function dt(E){let A=oe.get(E);A&&(A.abort(),oe.delete(E))}function _t(E){for(let A of E){let $=qe(A),te=Sn($.data);x.fetchers.set(A,te)}}function gt(){let E=[],A=!1;for(let $ of W){let te=x.fetchers.get($);rt(te,`Expected fetcher: ${$}`),te.state==="loading"&&(W.delete($),E.push($),A=!0)}return _t(E),A}function Jt(E){let A=[];for(let[$,te]of B)if(te<E){let se=x.fetchers.get($);rt(se,`Expected fetcher: ${$}`),se.state==="loading"&&(dt($),B.delete($),A.push($))}return _t(A),A.length>0}function ns(E,A){let $=x.blockers.get(E)||pa;return Re.get(E)!==A&&Re.set(E,A),$}function fs(E){x.blockers.delete(E),Re.delete(E)}function $t(E,A){let $=x.blockers.get(E)||pa;rt($.state==="unblocked"&&A.state==="blocked"||$.state==="blocked"&&A.state==="blocked"||$.state==="blocked"&&A.state==="proceeding"||$.state==="blocked"&&A.state==="unblocked"||$.state==="proceeding"&&A.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${A.state}`);let te=new Map(x.blockers);te.set(E,A),U({blockers:te})}function zs({currentLocation:E,nextLocation:A,historyAction:$}){if(Re.size===0)return;Re.size>1&&It(!1,"A router only supports one blocker at a time");let te=Array.from(Re.entries()),[se,ae]=te[te.length-1],Z=x.blockers.get(se);if(!(Z&&Z.state==="proceeding")&&ae({currentLocation:E,nextLocation:A,historyAction:$}))return se}function Pt(E){let A=Es(404,{pathname:E}),$=o||l,{matches:te,route:se}=Ti($);return{notFoundMatches:te,route:se,error:A}}function Ls(E,A,$){if(g=E,N=A,v=$||null,!I&&x.navigation===_o){I=!0;let te=Oe(x.location,x.matches);te!=null&&U({restoreScrollPosition:te})}return()=>{g=null,N=null,v=null}}function H(E,A){return v&&v(E,A.map(te=>xy(te,x.loaderData)))||E.key}function Pe(E,A){if(g&&N){let $=H(E,A);g[$]=N()}}function Oe(E,A){if(g){let $=H(E,A),te=g[$];if(typeof te=="number")return te}return null}function He(E,A,$){if(t.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Yi(A,$,c,!0)}}else return{active:!0,matches:Yi(A,$,c,!0)||[]};return{active:!1,matches:null}}async function Ue(E,A,$,te){if(!t.patchRoutesOnNavigation)return{type:"success",matches:E};let se=E;for(;;){let ae=o==null,Z=o||l,re=i;try{await t.patchRoutesOnNavigation({signal:$,path:A,matches:se,fetcherKey:te,patch:(Le,Te)=>{$.aborted||Mm(Le,Te,Z,re,a,!1)}})}catch(Le){return{type:"error",error:Le,partialMatches:se}}finally{ae&&!$.aborted&&(l=[...l])}if($.aborted)return{type:"aborted"};let pe=Mn(Z,A,c);if(pe)return{type:"success",matches:pe};let Ie=Yi(Z,A,c,!0);if(!Ie||se.length===Ie.length&&se.every((Le,Te)=>Le.route.id===Ie[Te].route.id))return{type:"success",matches:null};se=Ie}}function St(E){i={},o=ei(E,a,void 0,i)}function Et(E,A,$=!1){let te=o==null;Mm(E,A,o||l,i,a,$),te&&(l=[...l],U({}))}return k={get basename(){return c},get future(){return m},get state(){return x},get routes(){return l},get window(){return s},initialize:me,subscribe:Y,enableScrollRestoration:Ls,navigate:Ce,fetch:ve,revalidate:ke,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:qe,deleteFetcher:hs,dispose:Ke,getBlocker:ns,deleteBlocker:fs,patchRoutes:Et,_internalFetchControllers:oe,_internalSetRoutes:St,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){U(E)}},k}function Hy(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tc(t,s,n,r,a,i){let l,o;if(a){l=[];for(let d of s)if(l.push(d),d.route.id===a){o=d;break}}else l=s,o=s[s.length-1];let c=Bd(r||".",Fd(l),Ps(t.pathname,n)||t.pathname,i==="path");if(r==null&&(c.search=t.search,c.hash=t.hash),(r==null||r===""||r===".")&&o){let d=Vd(c.search);if(o.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&d){let m=new URLSearchParams(c.search),f=m.getAll("index");m.delete("index"),f.filter(g=>g).forEach(g=>m.append("index",g));let p=m.toString();c.search=p?`?${p}`:""}}return n!=="/"&&(c.pathname=My({basename:n,pathname:c.pathname})),Vn(c)}function Dm(t,s,n){if(!n||!Hy(n))return{path:s};if(n.formMethod&&!iv(n.formMethod))return{path:s,error:Es(405,{method:n.formMethod})};let r=()=>({path:s,error:Es(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=Ep(s);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!as(i))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[g,v])=>`${p}${g}=${v}
`,""):String(n.body);return{path:s,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!as(i))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:s,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}rt(typeof FormData=="function","FormData is not available in this environment");let o,c;if(n.formData)o=Pc(n.formData),c=n.formData;else if(n.body instanceof FormData)o=Pc(n.body),c=n.body;else if(n.body instanceof URLSearchParams)o=n.body,c=_m(o);else if(n.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(n.body),c=_m(o)}catch{return r()}let d={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(as(d.formMethod))return{path:s,submission:d};let m=Kn(s);return t&&m.search&&Vd(m.search)&&o.append("index",""),m.search=`?${o}`,{path:Vn(m),submission:d}}function Em(t,s,n,r,a,i,l,o,c,d,m,f,p,g,v,N,I,y,h,b){var F;let j=b?gs(b[1])?b[1].error:b[1].data:void 0,k=a.createURL(i.location),x=a.createURL(c),M;if(m&&i.errors){let O=Object.keys(i.errors)[0];M=l.findIndex(_=>_.route.id===O)}else if(b&&gs(b[1])){let O=b[0];M=l.findIndex(_=>_.route.id===O)-1}let T=b?b[1].statusCode:void 0,S=T&&T>=400,w={currentUrl:k,currentParams:((F=i.matches[0])==null?void 0:F.params)||{},nextUrl:x,nextParams:l[0].params,...o,actionResult:j,actionStatus:T},L=l.map((O,_)=>{let{route:oe}=O,Se=null;if(M!=null&&_>M?Se=!1:oe.lazy?Se=!0:oe.loader==null?Se=!1:m?Se=Ac(oe,i.loaderData,i.errors):Jy(i.loaderData,i.matches[_],O)&&(Se=!0),Se!==null)return _c(n,r,t,O,d,s,Se);let G=S?!1:f||k.pathname+k.search===x.pathname+x.search||k.search!==x.search||Wy(i.matches[_],O),B={...w,defaultShouldRevalidate:G},W=Nl(O,B);return _c(n,r,t,O,d,s,W,B)}),X=[];return v.forEach((O,_)=>{if(m||!l.some(we=>we.route.id===O.routeId)||g.has(_))return;let oe=i.fetchers.get(_),Se=oe&&oe.state!=="idle"&&oe.data===void 0,G=Mn(I,O.path,y);if(!G){if(h&&Se)return;X.push({key:_,routeId:O.routeId,path:O.path,matches:null,match:null,request:null,controller:null});return}if(N.has(_))return;let B=Ki(G,O.path),W=new AbortController,le=kr(a,O.path,W.signal),de=null;if(p.has(_))p.delete(_),de=Jr(n,r,le,G,B,d,s);else if(Se)f&&(de=Jr(n,r,le,G,B,d,s));else{let we={...w,defaultShouldRevalidate:S?!1:f};Nl(B,we)&&(de=Jr(n,r,le,G,B,d,s,we))}de&&X.push({key:_,routeId:O.routeId,path:O.path,matches:de,match:B,request:le,controller:W})}),{dsMatches:L,revalidatingFetchers:X}}function Ac(t,s,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=s!=null&&t.id in s,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function Jy(t,s,n){let r=!s||n.route.id!==s.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function Wy(t,s){let n=t.route.path;return t.pathname!==s.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==s.params["*"]}function Nl(t,s){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(s);if(typeof n=="boolean")return n}return s.defaultShouldRevalidate}function Mm(t,s,n,r,a,i){let l;if(t){let d=r[t];rt(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),l=d.children}else l=n;let o=[],c=[];if(s.forEach(d=>{let m=l.find(f=>Np(d,f));m?c.push({existingRoute:m,newRoute:d}):o.push(d)}),o.length>0){let d=ei(o,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...d)}if(i&&c.length>0)for(let d=0;d<c.length;d++){let{existingRoute:m,newRoute:f}=c[d],p=m,[g]=ei([f],a,[],{},!0);Object.assign(p,{element:g.element?g.element:p.element,errorElement:g.errorElement?g.errorElement:p.errorElement,hydrateFallbackElement:g.hydrateFallbackElement?g.hydrateFallbackElement:p.hydrateFallbackElement})}}function Np(t,s){return"id"in t&&"id"in s&&t.id===s.id?!0:t.index===s.index&&t.path===s.path&&t.caseSensitive===s.caseSensitive?(!t.children||t.children.length===0)&&(!s.children||s.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=s.children)==null?void 0:a.some(i=>Np(n,i))}):!1}var Im=new WeakMap,Sp=({key:t,route:s,manifest:n,mapRouteProperties:r})=>{let a=n[s.id];if(rt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[t];if(!i)return;let l=Im.get(a);l||(l={},Im.set(a,l));let o=l[t];if(o)return o;let c=(async()=>{let d=my(t),f=a[t]!==void 0&&t!=="hasErrorBoundary";if(d)It(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(f)It(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let p=await i();p!=null&&(Object.assign(a,{[t]:p}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(p=>p===void 0)&&(a.lazy=void 0))})();return l[t]=c,c},Rm=new WeakMap;function Yy(t,s,n,r,a){let i=n[t.id];if(rt(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let m=Rm.get(i);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let f=(async()=>{rt(typeof t.lazy=="function","No lazy route function found");let p=await t.lazy(),g={};for(let v in p){let N=p[v];if(N===void 0)continue;let I=fy(v),h=i[v]!==void 0&&v!=="hasErrorBoundary";I?It(!I,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):h?It(!h,`Route "${i.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):g[v]=N}Object.assign(i,g),Object.assign(i,{...r(i),lazy:void 0})})();return Rm.set(i,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let l=Object.keys(t.lazy),o=[],c;for(let m of l){if(a&&a.includes(m))continue;let f=Sp({key:m,route:t,manifest:n,mapRouteProperties:r});f&&(o.push(f),m===s&&(c=f))}let d=o.length>0?Promise.all(o).then(()=>{}):void 0;return d==null||d.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:c}}async function Tm(t){let s=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(s.map(a=>a.resolve()))).forEach((a,i)=>{n[s[i].route.id]=a}),n}async function Ky(t){return t.matches.some(s=>s.route.unstable_middleware)?Cp(t,()=>Tm(t)):Tm(t)}function Cp(t,s){return Gy(t,s,r=>r,nv,n);function n(r,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:r}}));{let{matches:l}=t,o=Math.min(l.findIndex(d=>d.route.id===a)||0,l.findIndex(d=>d.unstable_shouldCallHandler())||0),c=In(l,l[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:r}})}}}async function Gy(t,s,n,r,a){let{matches:i,request:l,params:o,context:c}=t,d=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(p=>[f.route.id,p]):[]);return await kp({request:l,params:o,context:c},d,s,n,r,a)}async function kp(t,s,n,r,a,i,l=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=s[l];if(!c)return await n();let[d,m]=c,f,p=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await kp(t,s,n,r,a,i,l+1)},f.value}catch(g){return f={value:await i(g,d,f)},f.value}};try{let g=await m(t,p),v=g!=null?r(g):void 0;return a(v)?v:f?v??f.value:(f={value:await p()},f.value)}catch(g){return await i(g,d,f)}}function Dp(t,s,n,r,a){let i=Sp({key:"unstable_middleware",route:r.route,manifest:s,mapRouteProperties:t}),l=Yy(r.route,as(n.method)?"action":"loader",s,t,a);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function _c(t,s,n,r,a,i,l,o=null){let c=!1,d=Dp(t,s,n,r,a);return{...r,_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(m){return c=!0,o?typeof m=="boolean"?Nl(r,{...o,defaultShouldRevalidate:m}):Nl(r,o):l},resolve(m){return c||l||m&&!as(n.method)&&(r.route.lazy||r.route.loader)?Qy({request:n,match:r,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:m,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Jr(t,s,n,r,a,i,l,o=null){return r.map(c=>c.route.id!==a.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Dp(t,s,n,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:_c(t,s,n,c,i,l,!0,o))}async function qy(t,s,n,r,a,i){n.some(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(n.map(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware}));let l={request:s,params:n[0].params,context:a,matches:n},c=await t({...l,fetcherKey:r,unstable_runClientMiddleware:d=>{let m=l;return Cp(m,()=>d({...m,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>{var m,f;return[(m=d._lazyPromises)==null?void 0:m.handler,(f=d._lazyPromises)==null?void 0:f.route]}))}catch{}return c}async function Qy({request:t,match:s,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:i}){let l,o,c=as(t.method),d=c?"action":"loader",m=f=>{let p,g=new Promise((I,y)=>p=y);o=()=>p(),t.signal.addEventListener("abort",o);let v=I=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${s.route.id}]`)):f({request:t,params:s.params,context:i},...I!==void 0?[I]:[]),N=(async()=>{try{return{type:"data",result:await(a?a(y=>v(y)):v())}}catch(I){return{type:"error",result:I}}})();return Promise.race([N,g])};try{let f=c?s.route.action:s.route.loader;if(n||r)if(f){let p,[g]=await Promise.all([m(f).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;l=g}else{await n;let p=c?s.route.action:s.route.loader;if(p)[l]=await Promise.all([m(p),r]);else if(d==="action"){let g=new URL(t.url),v=g.pathname+g.search;throw Es(405,{method:t.method,pathname:v,routeId:s.route.id})}else return{type:"data",result:void 0}}else if(f)l=await m(f);else{let p=new URL(t.url),g=p.pathname+p.search;throw Es(404,{pathname:g})}}catch(f){return{type:"error",result:f}}finally{o&&t.signal.removeEventListener("abort",o)}return l}async function Zy(t){let s=t.headers.get("Content-Type");return s&&/\bapplication\/json\b/.test(s)?t.body==null?null:t.json():t.text()}async function Xy(t){var r,a,i,l,o,c;let{result:s,type:n}=t;if(Mp(s)){let d;try{d=await Zy(s)}catch(m){return{type:"error",error:m}}return n==="error"?{type:"error",error:new wl(s.status,s.statusText,d),statusCode:s.status,headers:s.headers}:{type:"data",data:d,statusCode:s.status,headers:s.headers}}return n==="error"?Lm(s)?s.data instanceof Error?{type:"error",error:s.data,statusCode:(r=s.init)==null?void 0:r.status,headers:(a=s.init)!=null&&a.headers?new Headers(s.init.headers):void 0}:{type:"error",error:new wl(((i=s.init)==null?void 0:i.status)||500,void 0,s.data),statusCode:ti(s)?s.status:void 0,headers:(l=s.init)!=null&&l.headers?new Headers(s.init.headers):void 0}:{type:"error",error:s,statusCode:ti(s)?s.status:void 0}:Lm(s)?{type:"data",data:s.data,statusCode:(o=s.init)==null?void 0:o.status,headers:(c=s.init)!=null&&c.headers?new Headers(s.init.headers):void 0}:{type:"data",data:s}}function ev(t,s,n,r,a){let i=t.headers.get("Location");if(rt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ud(i)){let l=r.slice(0,r.findIndex(o=>o.route.id===n)+1);i=Tc(new URL(s.url),l,a,i),t.headers.set("Location",i)}return t}function Am(t,s,n){if(Ud(t)){let r=t,a=r.startsWith("//")?new URL(s.protocol+r):new URL(r),i=Ps(a.pathname,n)!=null;if(a.origin===s.origin&&i)return a.pathname+a.search+a.hash}return t}function kr(t,s,n,r){let a=t.createURL(Ep(s)).toString(),i={signal:n};if(r&&as(r.formMethod)){let{formMethod:l,formEncType:o}=r;i.method=l.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(r.json)):o==="text/plain"?i.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?i.body=Pc(r.formData):i.body=r.formData}return new Request(a,i)}function Pc(t){let s=new URLSearchParams;for(let[n,r]of t.entries())s.append(n,typeof r=="string"?r:r.name);return s}function _m(t){let s=new FormData;for(let[n,r]of t.entries())s.append(n,r);return s}function tv(t,s,n,r=!1,a=!1){let i={},l=null,o,c=!1,d={},m=n&&gs(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in s))return;let p=f.route.id,g=s[p];if(rt(!nr(g),"Cannot handle redirect results in processLoaderData"),gs(g)){let v=g.error;if(m!==void 0&&(v=m,m=void 0),l=l||{},a)l[p]=v;else{let N=In(t,p);l[N.route.id]==null&&(l[N.route.id]=v)}r||(i[p]=wp),c||(c=!0,o=ti(g.error)?g.error.status:500),g.headers&&(d[p]=g.headers)}else i[p]=g.data,g.statusCode&&g.statusCode!==200&&!c&&(o=g.statusCode),g.headers&&(d[p]=g.headers)}),m!==void 0&&n&&(l={[n[0]]:m},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:o||200,loaderHeaders:d}}function Pm(t,s,n,r,a,i){let{loaderData:l,errors:o}=tv(s,n,r);return a.filter(c=>!c.matches||c.matches.some(d=>d.shouldLoad)).forEach(c=>{let{key:d,match:m,controller:f}=c;if(f&&f.signal.aborted)return;let p=i[d];if(rt(p,"Did not find corresponding fetcher result"),gs(p)){let g=In(t.matches,m==null?void 0:m.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:p.error}),t.fetchers.delete(d)}else if(nr(p))rt(!1,"Unhandled fetcher revalidation redirect");else{let g=Sn(p.data);t.fetchers.set(d,g)}}),{loaderData:l,errors:o}}function Om(t,s,n,r){let a=Object.entries(s).filter(([,i])=>i!==wp).reduce((i,[l,o])=>(i[l]=o,i),{});for(let i of n){let l=i.route.id;if(!s.hasOwnProperty(l)&&t.hasOwnProperty(l)&&i.route.loader&&(a[l]=t[l]),r&&r.hasOwnProperty(l))break}return a}function zm(t){return t?gs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function In(t,s){return(s?t.slice(0,t.findIndex(r=>r.route.id===s)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ti(t){let s=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function Es(t,{pathname:s,routeId:n,method:r,type:a,message:i}={}){let l="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&s&&n?o=`You made a ${r} request to "${s}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):t===403?(l="Forbidden",o=`Route "${n}" does not match URL "${s}"`):t===404?(l="Not Found",o=`No route matches URL "${s}"`):t===405&&(l="Method Not Allowed",r&&s&&n?o=`You made a ${r.toUpperCase()} request to "${s}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new wl(t||500,l,new Error(o),!0)}function Ai(t){let s=Object.entries(t);for(let n=s.length-1;n>=0;n--){let[r,a]=s[n];if(nr(a))return{key:r,result:a}}}function Ep(t){let s=typeof t=="string"?Kn(t):t;return Vn({...s,hash:""})}function sv(t,s){return t.pathname!==s.pathname||t.search!==s.search?!1:t.hash===""?s.hash!=="":t.hash===s.hash?!0:s.hash!==""}function nv(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([s,n])=>typeof s=="string"&&rv(n))}function rv(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function av(t){return Mp(t.result)&&Ly.has(t.result.status)}function gs(t){return t.type==="error"}function nr(t){return(t&&t.type)==="redirect"}function Lm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Mp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iv(t){return zy.has(t.toUpperCase())}function as(t){return Py.has(t.toUpperCase())}function Vd(t){return new URLSearchParams(t).getAll("index").some(s=>s==="")}function Ki(t,s){let n=typeof s=="string"?Kn(s).search:s.search;if(t[t.length-1].route.index&&Vd(n||""))return t[t.length-1];let r=vp(t);return r[r.length-1]}function $m(t){let{formMethod:s,formAction:n,formEncType:r,text:a,formData:i,json:l}=t;if(!(!s||!n||!r)){if(a!=null)return{formMethod:s,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:s,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:s,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Po(t,s){return s?{state:"loading",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lv(t,s){return{state:"submitting",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function xa(t,s){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function ov(t,s){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s?s.data:void 0}}function Sn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cv(t,s){try{let n=t.sessionStorage.getItem(jp);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&s.set(a,new Set(i||[]))}}catch{}}function dv(t,s){if(s.size>0){let n={};for(let[r,a]of s)n[r]=[...a];try{t.sessionStorage.setItem(jp,JSON.stringify(n))}catch(r){It(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function uv(){let t,s,n=new Promise((r,a)=>{t=async i=>{r(i);try{await n}catch{}},s=async i=>{a(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:s}}var pr=u.createContext(null);pr.displayName="DataRouter";var ci=u.createContext(null);ci.displayName="DataRouterState";u.createContext(!1);var Hd=u.createContext({isTransitioning:!1});Hd.displayName="ViewTransition";var Ip=u.createContext(new Map);Ip.displayName="Fetchers";var mv=u.createContext(null);mv.displayName="Await";var rn=u.createContext(null);rn.displayName="Navigation";var Ul=u.createContext(null);Ul.displayName="Location";var bn=u.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var Jd=u.createContext(null);Jd.displayName="RouteError";function hv(t,{relative:s}={}){rt(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=u.useContext(rn),{hash:a,pathname:i,search:l}=ui(t,{relative:s}),o=i;return n!=="/"&&(o=i==="/"?n:sn([n,i])),r.createHref({pathname:o,search:l,hash:a})}function di(){return u.useContext(Ul)!=null}function xr(){return rt(di(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(Ul).location}var Rp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tp(t){u.useContext(rn).static||u.useLayoutEffect(t)}function fv(){let{isDataRoute:t}=u.useContext(bn);return t?Dv():pv()}function pv(){rt(di(),"useNavigate() may be used only in the context of a <Router> component.");let t=u.useContext(pr),{basename:s,navigator:n}=u.useContext(rn),{matches:r}=u.useContext(bn),{pathname:a}=xr(),i=JSON.stringify(Fd(r)),l=u.useRef(!1);return Tp(()=>{l.current=!0}),u.useCallback((c,d={})=>{if(It(l.current,Rp),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=Bd(c,JSON.parse(i),a,d.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:sn([s,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[s,n,i,a,t])}u.createContext(null);function ui(t,{relative:s}={}){let{matches:n}=u.useContext(bn),{pathname:r}=xr(),a=JSON.stringify(Fd(n));return u.useMemo(()=>Bd(t,JSON.parse(a),r,s==="path"),[t,a,r,s])}function xv(t,s,n,r,a){rt(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=u.useContext(rn),{matches:l}=u.useContext(bn),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",m=o?o.pathnameBase:"/",f=o&&o.route;{let h=f&&f.path||"";Ap(d,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let p=xr(),g;g=p;let v=g.pathname||"/",N=v;if(m!=="/"){let h=m.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(h.length).join("/")}let I=Mn(t,{pathname:N});return It(f||I!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),It(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jv(I&&I.map(h=>Object.assign({},h,{params:Object.assign({},c,h.params),pathname:sn([m,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?m:sn([m,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),l,n,r,a)}function gv(){let t=kv(),s=ti(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=u.createElement(u.Fragment,null,u.createElement("p",null,"💿 Hey developer 👋"),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:i},"ErrorBoundary")," or"," ",u.createElement("code",{style:i},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),n?u.createElement("pre",{style:a},n):null,l)}var yv=u.createElement(gv,null),vv=class extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.unstable_onError?this.props.unstable_onError(t,s):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?u.createElement(bn.Provider,{value:this.props.routeContext},u.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bv({routeContext:t,match:s,children:n}){let r=u.useContext(pr);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(bn.Provider,{value:t},n)}function jv(t,s=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let d=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:f,errors:p}=n,g=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,m,f)=>{let p,g=!1,v=null,N=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||yv,o&&(c<0&&f===0?(Ap("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,N=null):c===f&&(g=!0,N=m.route.hydrateFallbackElement||null)));let I=s.concat(i.slice(0,f+1)),y=()=>{let h;return p?h=v:g?h=N:m.route.Component?h=u.createElement(m.route.Component,null):m.route.element?h=m.route.element:h=d,u.createElement(bv,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:h})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?u.createElement(vv,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):y()},null)}function Wd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(t){let s=u.useContext(pr);return rt(s,Wd(t)),s}function Nv(t){let s=u.useContext(ci);return rt(s,Wd(t)),s}function Sv(t){let s=u.useContext(bn);return rt(s,Wd(t)),s}function Yd(t){let s=Sv(t),n=s.matches[s.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Cv(){return Yd("useRouteId")}function kv(){var r;let t=u.useContext(Jd),s=Nv("useRouteError"),n=Yd("useRouteError");return t!==void 0?t:(r=s.errors)==null?void 0:r[n]}function Dv(){let{router:t}=wv("useNavigate"),s=Yd("useNavigate"),n=u.useRef(!1);return Tp(()=>{n.current=!0}),u.useCallback(async(a,i={})=>{It(n.current,Rp),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:s,...i}))},[t,s])}var Fm={};function Ap(t,s,n){!s&&!Fm[t]&&(Fm[t]=!0,It(!1,n))}var Bm={};function Um(t,s){!t&&!Bm[s]&&(Bm[s]=!0,console.warn(s))}function Ev(t){let s={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&It(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(s,{element:u.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&It(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(s,{hydrateFallbackElement:u.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&It(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(s,{errorElement:u.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),s}var Mv=["HydrateFallback","hydrateFallbackElement"],Iv=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",s(n))}})}};function Rv({router:t,flushSync:s,unstable_onError:n}){let[r,a]=u.useState(t.state),[i,l]=u.useState(),[o,c]=u.useState({isTransitioning:!1}),[d,m]=u.useState(),[f,p]=u.useState(),[g,v]=u.useState(),N=u.useRef(new Map),I=u.useCallback(k=>{a(x=>(k.errors&&n&&Object.entries(k.errors).forEach(([M,T])=>{var S;((S=x.errors)==null?void 0:S[M])!==T&&n(T)}),k))},[n]),y=u.useCallback((k,{deletedFetchers:x,flushSync:M,viewTransitionOpts:T})=>{k.fetchers.forEach((w,L)=>{w.data!==void 0&&N.current.set(L,w.data)}),x.forEach(w=>N.current.delete(w)),Um(M===!1||s!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Um(T==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!S){s&&M?s(()=>I(k)):u.startTransition(()=>I(k));return}if(s&&M){s(()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let w=t.window.document.startViewTransition(()=>{s(()=>I(k))});w.finished.finally(()=>{s(()=>{m(void 0),p(void 0),l(void 0),c({isTransitioning:!1})})}),s(()=>p(w));return}f?(d&&d.resolve(),f.skipTransition(),v({state:k,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(l(k),c({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[t.window,s,f,d,I]);u.useLayoutEffect(()=>t.subscribe(y),[t,y]),u.useEffect(()=>{o.isTransitioning&&!o.flushSync&&m(new Iv)},[o]),u.useEffect(()=>{if(d&&i&&t.window){let k=i,x=d.promise,M=t.window.document.startViewTransition(async()=>{u.startTransition(()=>I(k)),await x});M.finished.finally(()=>{m(void 0),p(void 0),l(void 0),c({isTransitioning:!1})}),p(M)}},[i,d,t.window,I]),u.useEffect(()=>{d&&i&&r.location.key===i.location.key&&d.resolve()},[d,f,r.location,i]),u.useEffect(()=>{!o.isTransitioning&&g&&(l(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[o.isTransitioning,g]);let h=u.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:k=>t.navigate(k),push:(k,x,M)=>t.navigate(k,{state:x,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(k,x,M)=>t.navigate(k,{replace:!0,state:x,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),b=t.basename||"/",j=u.useMemo(()=>({router:t,navigator:h,static:!1,basename:b,unstable_onError:n}),[t,h,b,n]);return u.createElement(u.Fragment,null,u.createElement(pr.Provider,{value:j},u.createElement(ci.Provider,{value:r},u.createElement(Ip.Provider,{value:N.current},u.createElement(Hd.Provider,{value:o},u.createElement(_v,{basename:b,location:r.location,navigationType:r.historyAction,navigator:h},u.createElement(Tv,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var Tv=u.memo(Av);function Av({routes:t,future:s,state:n,unstable_onError:r}){return xv(t,void 0,n,r,s)}function _v({basename:t="/",children:s=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){rt(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=u.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof n=="string"&&(n=Kn(n));let{pathname:c="/",search:d="",hash:m="",state:f=null,key:p="default"}=n,g=u.useMemo(()=>{let v=Ps(c,l);return v==null?null:{location:{pathname:v,search:d,hash:m,state:f,key:p},navigationType:r}},[l,c,d,m,f,p,r]);return It(g!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:u.createElement(rn.Provider,{value:o},u.createElement(Ul.Provider,{children:s,value:g}))}var Gi="get",qi="application/x-www-form-urlencoded";function Vl(t){return t!=null&&typeof t.tagName=="string"}function Pv(t){return Vl(t)&&t.tagName.toLowerCase()==="button"}function Ov(t){return Vl(t)&&t.tagName.toLowerCase()==="form"}function zv(t){return Vl(t)&&t.tagName.toLowerCase()==="input"}function Lv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $v(t,s){return t.button===0&&(!s||s==="_self")&&!Lv(t)}var _i=null;function Fv(){if(_i===null)try{new FormData(document.createElement("form"),0),_i=!1}catch{_i=!0}return _i}var Bv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oo(t){return t!=null&&!Bv.has(t)?(It(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qi}"`),null):t}function Uv(t,s){let n,r,a,i,l;if(Ov(t)){let o=t.getAttribute("action");r=o?Ps(o,s):null,n=t.getAttribute("method")||Gi,a=Oo(t.getAttribute("enctype"))||qi,i=new FormData(t)}else if(Pv(t)||zv(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?Ps(c,s):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Gi,a=Oo(t.getAttribute("formenctype"))||Oo(o.getAttribute("enctype"))||qi,i=new FormData(o,t),!Fv()){let{name:d,type:m,value:f}=t;if(m==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Vl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gi,r=null,a=qi,l=t}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kd(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Vv(t,s,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:s&&Ps(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Hv(t,s){if(t.id in s)return s[t.id];try{let n=await import(t.module);return s[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jv(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wv(t,s,n){let r=await Promise.all(t.map(async a=>{let i=s.routes[a.route.id];if(i){let l=await Hv(i,n);return l.links?l.links():[]}return[]}));return qv(r.flat(1).filter(Jv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vm(t,s,n,r,a,i){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,o=(c,d)=>{var m;return n[d].pathname!==c.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?s.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?s.filter((c,d)=>{var f;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Yv(t,s,{includeHydrateFallback:n}={}){return Kv(t.map(r=>{let a=s.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Kv(t){return[...new Set(t)]}function Gv(t){let s={},n=Object.keys(t).sort();for(let r of n)s[r]=t[r];return s}function qv(t,s){let n=new Set;return new Set(s),t.reduce((r,a)=>{let i=JSON.stringify(Gv(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function _p(){let t=u.useContext(pr);return Kd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qv(){let t=u.useContext(ci);return Kd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gd=u.createContext(void 0);Gd.displayName="FrameworkContext";function Pp(){let t=u.useContext(Gd);return Kd(t,"You must render this element inside a <HydratedRouter> element"),t}function Zv(t,s){let n=u.useContext(Gd),[r,a]=u.useState(!1),[i,l]=u.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:f}=s,p=u.useRef(null);u.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=y=>{y.forEach(h=>{l(h.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return p.current&&I.observe(p.current),()=>{I.disconnect()}}},[t]),u.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let g=()=>{a(!0)},v=()=>{a(!1),l(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ga(o,g),onBlur:ga(c,v),onMouseEnter:ga(d,g),onMouseLeave:ga(m,v),onTouchStart:ga(f,g)}]:[!1,p,{}]}function ga(t,s){return n=>{t&&t(n),n.defaultPrevented||s(n)}}function Xv({page:t,...s}){let{router:n}=_p(),r=u.useMemo(()=>Mn(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?u.createElement(tb,{page:t,matches:r,...s}):null}function eb(t){let{manifest:s,routeModules:n}=Pp(),[r,a]=u.useState([]);return u.useEffect(()=>{let i=!1;return Wv(t,s,n).then(l=>{i||a(l)}),()=>{i=!0}},[t,s,n]),r}function tb({page:t,matches:s,...n}){let r=xr(),{manifest:a,routeModules:i}=Pp(),{basename:l}=_p(),{loaderData:o,matches:c}=Qv(),d=u.useMemo(()=>Vm(t,s,c,a,r,"data"),[t,s,c,a,r]),m=u.useMemo(()=>Vm(t,s,c,a,r,"assets"),[t,s,c,a,r]),f=u.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,N=!1;if(s.forEach(y=>{var b;let h=a.routes[y.route.id];!h||!h.hasLoader||(!d.some(j=>j.route.id===y.route.id)&&y.route.id in o&&((b=i[y.route.id])!=null&&b.shouldRevalidate)||h.hasClientLoader?N=!0:v.add(y.route.id))}),v.size===0)return[];let I=Vv(t,l,"data");return N&&v.size>0&&I.searchParams.set("_routes",s.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[I.pathname+I.search]},[l,o,r,a,d,s,t,i]),p=u.useMemo(()=>Yv(m,a),[m,a]),g=eb(m);return u.createElement(u.Fragment,null,f.map(v=>u.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>u.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:N})=>u.createElement("link",{key:v,nonce:n.nonce,...N})))}function sb(...t){return s=>{t.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var Op=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Op&&(window.__reactRouterVersion="7.8.2")}catch{}function nb(t,s){return Vy({basename:s==null?void 0:s.basename,unstable_getContext:s==null?void 0:s.unstable_getContext,future:s==null?void 0:s.future,history:oy({window:s==null?void 0:s.window}),hydrationData:(s==null?void 0:s.hydrationData)||rb(),routes:t,mapRouteProperties:Ev,hydrationRouteProperties:Mv,dataStrategy:s==null?void 0:s.dataStrategy,patchRoutesOnNavigation:s==null?void 0:s.patchRoutesOnNavigation,window:s==null?void 0:s.window}).initialize()}function rb(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ab(t.errors)}),t}function ab(t){if(!t)return null;let s=Object.entries(t),n={};for(let[r,a]of s)if(a&&a.__type==="RouteErrorResponse")n[r]=new wl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let l=new i(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}var zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lp=u.forwardRef(function({onClick:s,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:f,...p},g){let{basename:v}=u.useContext(rn),N=typeof d=="string"&&zp.test(d),I,y=!1;if(typeof d=="string"&&N&&(I=d,Op))try{let S=new URL(window.location.href),w=d.startsWith("//")?new URL(S.protocol+d):new URL(d),L=Ps(w.pathname,v);w.origin===S.origin&&L!=null?d=L+w.search+w.hash:y=!0}catch{It(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=hv(d,{relative:a}),[b,j,k]=Zv(r,p),x=cb(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:f});function M(S){s&&s(S),S.defaultPrevented||x(S)}let T=u.createElement("a",{...p,...k,href:I||h,onClick:y||i?s:M,ref:sb(g,j),target:c,"data-discover":!N&&n==="render"?"true":void 0});return b&&!N?u.createElement(u.Fragment,null,T,u.createElement(Xv,{page:h})):T});Lp.displayName="Link";var ib=u.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...d},m){let f=ui(l,{relative:d.relative}),p=xr(),g=u.useContext(ci),{navigator:v,basename:N}=u.useContext(rn),I=g!=null&&fb(f)&&o===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,h=p.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(h=h.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&N&&(b=Ps(b,N)||b);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=h===y||!a&&h.startsWith(y)&&h.charAt(j)==="/",x=b!=null&&(b===y||!a&&b.startsWith(y)&&b.charAt(y.length)==="/"),M={isActive:k,isPending:x,isTransitioning:I},T=k?s:void 0,S;typeof r=="function"?S=r(M):S=[r,k?"active":null,x?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let w=typeof i=="function"?i(M):i;return u.createElement(Lp,{...d,"aria-current":T,className:S,ref:m,style:w,to:l,viewTransition:o},typeof c=="function"?c(M):c)});ib.displayName="NavLink";var lb=u.forwardRef(({discover:t="render",fetcherKey:s,navigate:n,reloadDocument:r,replace:a,state:i,method:l=Gi,action:o,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:f,...p},g)=>{let v=mb(),N=hb(o,{relative:d}),I=l.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&zp.test(o),h=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let j=b.nativeEvent.submitter,k=(j==null?void 0:j.getAttribute("formmethod"))||l;v(j||b.currentTarget,{fetcherKey:s,method:k,navigate:n,replace:a,state:i,relative:d,preventScrollReset:m,viewTransition:f})};return u.createElement("form",{ref:g,method:I,action:N,onSubmit:r?c:h,...p,"data-discover":!y&&t==="render"?"true":void 0})});lb.displayName="Form";function ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $p(t){let s=u.useContext(pr);return rt(s,ob(t)),s}function cb(t,{target:s,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=fv(),c=xr(),d=ui(t,{relative:i});return u.useCallback(m=>{if($v(m,s)){m.preventDefault();let f=n!==void 0?n:Vn(c)===Vn(d);o(t,{replace:f,state:r,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,d,n,r,s,t,a,i,l])}var db=0,ub=()=>`__${String(++db)}__`;function mb(){let{router:t}=$p("useSubmit"),{basename:s}=u.useContext(rn),n=Cv();return u.useCallback(async(r,a={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=Uv(r,s);if(a.navigate===!1){let m=a.fetcherKey||ub();await t.fetch(m,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,s,n])}function hb(t,{relative:s}={}){let{basename:n}=u.useContext(rn),r=u.useContext(bn);rt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...ui(t||".",{relative:s})},l=xr();if(t==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(m=>m==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let m=o.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:sn([n,i.pathname])),Vn(i)}function fb(t,{relative:s}={}){let n=u.useContext(Hd);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$p("useViewTransitionState"),a=ui(t,{relative:s});if(!n.isTransitioning)return!1;let i=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jl(a.pathname,l)!=null||jl(a.pathname,i)!=null}function pb(t){return u.createElement(Rv,{flushSync:fp.flushSync,...t})}const xb="modulepreload",gb=function(t){return"/"+t},Hm={},et=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=gb(c),c in Hm)return;Hm[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":xb,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fp=(...t)=>t.filter((s,n,r)=>!!s&&r.indexOf(s)===n).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=u.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:l,...o},c)=>u.createElement("svg",{ref:c,...vb,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:Fp("lucide",a),...o},[...l.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,s)=>{const n=u.forwardRef(({className:r,...a},i)=>u.createElement(bb,{ref:i,iconNode:s,className:Fp(`lucide-${yb(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Ee("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ee("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ee("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ee("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ee("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ee("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ee("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ee("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ee("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ee("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Ee("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Ee("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Bb=()=>{const[t,s]=u.useState([{id:1,type:"assistant",content:"Hi! I'm here to help you with your case. What can I assist you with today?",timestamp:new Date}]),[n,r]=u.useState(""),[a,i]=u.useState("initial"),[l,o]=u.useState(null),[c,d]=u.useState([]),[m,f]=u.useState({}),[p,g]=u.useState(null),[v,N]=u.useState(0),[I,y]=u.useState(!1),[h,b]=u.useState("clean"),[j,k]=u.useState(!1),[x,M]=u.useState({}),[T,S]=u.useState(null),[w,L]=u.useState(null),[X,F]=u.useState(null),[O,_]=u.useState(!1),oe=u.useRef(null),Se=u.useRef(null),G=[{id:"overview",icon:()=>e.jsx(yr,{size:18}),label:"Overview"},{id:"timeline",icon:()=>e.jsx(gr,{size:18}),label:"Timeline"},{id:"deep-dive",icon:()=>e.jsx(ra,{size:18}),label:"Deep Dive"},{id:"drafting",icon:()=>e.jsx(ms,{size:18}),label:"Drafting",active:!0},{id:"files",icon:()=>e.jsx(vr,{size:18}),label:"Files"}];u.useEffect(()=>{var Q;(Q=oe.current)==null||Q.scrollIntoView({behavior:"smooth"})},[t]);const B=()=>{if(n.trim()==="")return;const Q={id:Date.now(),type:"user",content:n,timestamp:new Date};s(Me=>[...Me,Q]),a==="initial"&&n.toLowerCase().includes("draft")&&n.toLowerCase().includes("complaint")?setTimeout(()=>{i("upload"),W(`I'll help you draft a complaint. To ensure I create the most effective document for your case, I'll need a reference complaint to understand your preferred structure and style.

Please upload a reference complaint that you'd like me to use as a template.`,{showUpload:!0})},1e3):a==="initial"&&setTimeout(()=>{W("I can help you with various tasks including drafting legal documents, analyzing case files, or answering questions about your case. What would you like to work on?")},1e3),r("")},W=(Q,Me={})=>{const P={id:Date.now(),type:"assistant",content:Q,timestamp:new Date,...Me};s(K=>[...K,P])},le=Q=>{const Me=Q.target.files[0];if(Me){o({name:Me.name,size:`${Math.round(Me.size/1024)} KB`,type:Me.type});const P={id:Date.now(),type:"user",content:`Uploaded: ${Me.name}`,isFile:!0,file:{name:Me.name,size:`${Math.round(Me.size/1024)} KB`},timestamp:new Date};s(K=>[...K,P]),i("analyzing"),setTimeout(()=>{W("Thank you for uploading the reference complaint. I'm now analyzing it along with your case files to understand the context and identify key elements for your complaint.",{isAnalyzing:!0}),setTimeout(()=>{de()},3e3)},500)}},de=()=>{i("assumptions"),s(Me=>Me.map(P=>P.isAnalyzing?{...P,isAnalyzing:!1,isAnalyzingComplete:!0}:P)),d([{id:1,category:"Legal Theory",assumption:"Based on the case files and the reference complaint, I'm planning to structure this as a **negligence claim** with emphasis on duty of care breach by the defendant driver.",question:"Is negligence the primary legal theory you want to pursue, or should I also include claims for gross negligence or recklessness?",options:["Negligence only","Include gross negligence","Include both gross negligence and recklessness"],selected:null},{id:2,category:"Damages Strategy",assumption:"I notice medical expenses total $47,500 with ongoing treatment. The reference complaint includes future medical costs and loss of earning capacity.",question:"Should I include claims for future medical expenses and lost earning capacity based on Dr. Mitchell's prognosis?",options:["Yes, include both","Only future medical","Only past damages"],selected:null},{id:3,category:"Jurisdictional Basis",assumption:"The accident occurred in Springfield County and all parties reside here. I'll assert jurisdiction based on the location of the incident and parties' residence.",question:"Are there any additional jurisdictional considerations I should address?",options:["No, location and residence are sufficient","Add amount in controversy","Include federal question jurisdiction"],selected:null},{id:4,category:"Defendant Information",assumption:"I've identified the primary defendant as the other driver. The case files suggest potential employer liability under respondeat superior.",question:"Should I name the driver's employer (ABC Delivery Co.) as an additional defendant?",options:["Yes, include the employer","No, driver only"],selected:null}]),W("I've analyzed your reference complaint and case files. Before I begin drafting, I want to confirm these key decisions that will shape your complaint:",{showAssumptions:!0}),setTimeout(()=>{var Me;(Me=oe.current)==null||Me.scrollIntoView({behavior:"smooth"})},100)},we=(Q,Me)=>{f(K=>({...K,[Q]:Me})),c.every(K=>m[K.id]!==void 0||Q===K.id)&&setTimeout(()=>{t.find(he=>he.isConfirmation)||W("Perfect! I have all the information I need. I'll now draft your complaint based on these confirmed parameters.",{isConfirmation:!0,showBeginDrafting:!0})},100)},Re=(Q,Me)=>{M(P=>({...P,[Q]:Me}))},Ye=Q=>{S(Q),L(null),x[Q]||M(Me=>({...Me,[Q]:""}))},Ae=()=>{T!==null&&(f(Q=>({...Q,[T]:void 0})),M(Q=>({...Q,[T]:""}))),S(null),L(null),F(null)},me=Q=>{const Me=x[Q];!Me||!Me.trim()||(we(Q,`Custom: ${Me.trim()}`),S(null))},Ke=Q=>{const Me=m[Q];F(Me),Me&&Me.startsWith("Custom: ")&&M(P=>({...P,[Q]:Me.replace("Custom: ","")})),L(Q),S(Q)},Y=()=>{i("drafting"),_(!0);const Q=Date.now();g(Q),N(0),s(P=>P.map(K=>K.isConfirmation?{...K,showBeginDrafting:!1,isDraftingStarted:!0}:K)),W("I'm now drafting your complaint. This will take a few moments as I incorporate all relevant case facts and structure it according to your specifications.",{isDrafting:!0}),setTimeout(()=>{var P;(P=oe.current)==null||P.scrollIntoView({behavior:"smooth"})},100);const Me=setInterval(()=>{const P=Math.floor((Date.now()-Q)/1e3);N(P),P>=5&&(clearInterval(Me),U())},1e3)},U=()=>{i("complete"),y(!0),s(Q=>Q.map(Me=>Me.isDrafting?{...Me,isDrafting:!1,isDraftingComplete:!0}:Me)),W(`Your complaint draft is ready! I've incorporated all the case facts, applied the legal theories we discussed, and structured it based on your reference document.

Your complaint has been saved to your case files as "Davis v Johnson - Complaint - Draft 1.docx".`,{isDraftComplete:!0,actions:[{label:"Review Draft",icon:()=>e.jsx(Qe,{size:16}),primary:!0},{label:"Export to Word",icon:()=>e.jsx(Jl,{size:16})}]}),setTimeout(()=>{var Q;(Q=oe.current)==null||Q.scrollIntoView({behavior:"smooth"})},100)},ge=()=>{i("review")},Ce=({message:Q})=>{const Me=Q.type==="user";return e.jsx("div",{className:`flex ${Me?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`max-w-full ${Me?"order-2":"order-1"}`,children:[!Me&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center mr-2",children:e.jsx(Yl,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Supio Assistant"})]}),Q.isFile&&e.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-3 inline-block",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wl,{size:20,className:"text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:Q.file.name}),e.jsx("div",{className:"text-sm text-gray-500",children:Q.file.size})]})]})}),!Q.isFile&&e.jsxs("div",{className:`rounded-lg px-4 py-3 ${Me?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-800"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap",children:Q.content}),Q.showUpload&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("input",{ref:Se,type:"file",className:"hidden",accept:".pdf,.doc,.docx",onChange:le}),e.jsxs("button",{onClick:()=>{var P;return(P=Se.current)==null?void 0:P.click()},className:"w-full flex flex-col items-center justify-center py-6 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Os,{size:32,className:"text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload reference complaint"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX"})]})]}),Q.isAnalyzing&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Analyzing reference document and case files..."})]}),Q.isAnalyzingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Analysis complete"})]}),Q.showBeginDrafting&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{onClick:Y,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:["Begin Drafting",e.jsx(nn,{size:20,className:"ml-2"})]})}),Q.isDraftingStarted&&e.jsx("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:e.jsx("span",{className:"text-sm",children:"Drafting started..."})}),Q.showAssumptions&&c.length>0&&e.jsx("div",{className:"mt-4 space-y-4",children:c.map((P,K)=>{var ye;const he=m[P.id],ve=he&&he.startsWith("Custom: "),be=T===P.id;return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.category}),he&&e.jsx(es,{size:16,className:"text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:P.assumption}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:P.question}),be?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:x[P.id]||"",onChange:fe=>Re(P.id,fe.target.value),placeholder:"Enter your custom instruction for this aspect of the complaint...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"3",autoFocus:!0},P.id),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:Ae,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel Instruction"}),e.jsx("button",{onClick:()=>me(P.id),disabled:!((ye=x[P.id])!=null&&ye.trim()),className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-md transition-colors",children:"Confirm"})]})]}):ve?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:he.replace("Custom: ",""),disabled:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-gray-50 text-gray-700 resize-none",rows:"3"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>Ke(P.id),disabled:O,className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${O?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100"}`,children:"Edit"})})]}):e.jsxs("div",{className:"space-y-2",children:[P.options.map((fe,We)=>e.jsx("button",{onClick:()=>!O&&we(P.id,fe),disabled:O,className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${he===fe?"bg-blue-100 text-blue-800 border border-blue-300":O?"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:fe},We)),e.jsx("button",{onClick:()=>!O&&Ye(P.id),disabled:O,className:`w-full text-left px-3 py-2 rounded-md text-sm border border-gray-200 transition-colors ${O?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200"}`,children:"Provide custom instruction..."})]})]},P.id)})}),Q.isDrafting&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Drafting complaint..."}),e.jsxs("span",{className:"text-sm font-medium",children:[v,"s elapsed"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Incorporating case facts and legal arguments..."})]}),Q.isDraftingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Drafting complete!"})]}),Q.isDraftComplete&&Q.actions&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Q.actions.map((P,K)=>e.jsxs("button",{onClick:()=>{P.label==="Review Draft"&&ge()},className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${P.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[P.icon(),e.jsx("span",{className:"ml-2",children:P.label})]},K))})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 px-1",children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},ke=()=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:G.map(Q=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${Q.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[Q.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:Q.label})]},Q.id))})}),e.jsxs("div",{className:"flex-1 bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"font-medium text-gray-900",children:"Complaint - Davis v. Johnson"}),e.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"98% Complete"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>b("clean"),className:`px-3 py-1 text-sm rounded ${h==="clean"?"bg-white shadow-sm":"text-gray-600"}`,children:"Clean View"}),e.jsx("button",{onClick:()=>b("changes"),className:`px-3 py-1 text-sm rounded ${h==="changes"?"bg-white shadow-sm":"text-gray-600"}`,children:"Changes View"}),e.jsx("button",{onClick:()=>b("compare"),className:`px-3 py-1 text-sm rounded ${h==="compare"?"bg-white shadow-sm":"text-gray-600"}`,children:"Compare"})]})})]})}),e.jsxs("div",{className:"p-8 prose max-w-none overflow-auto",children:[e.jsxs("h1",{className:"text-center text-2xl font-bold mb-8",children:["IN THE CIRCUIT COURT OF SPRINGFIELD COUNTY",e.jsx("br",{}),"STATE OF ILLINOIS, LAW DIVISION"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"font-bold",children:"SARAH DAVIS,"}),e.jsx("p",{className:"ml-8",children:"Plaintiff,"}),e.jsx("p",{className:"mt-2",children:"v."}),e.jsx("p",{className:"mt-2 font-bold",children:"MICHAEL JOHNSON,"}),e.jsxs("p",{className:"font-bold",children:["and ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),","]}),e.jsx("p",{className:"ml-8",children:"Defendants."})]}),e.jsx("h2",{className:"text-center font-bold text-xl mb-6",children:"COMPLAINT AT LAW"}),e.jsxs("p",{className:"mb-4",children:["NOW COMES the Plaintiff, ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"}),", by and through undersigned counsel, and brings this Complaint against Defendants ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," and"," ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),", and in support states as follows:"]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"PARTIES"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[e.jsxs("li",{children:["Plaintiff ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:["Defendant ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:[h==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant XYZ INSURANCE is a corporation..."}),e.jsxs("span",{className:h==="changes"?"bg-blue-100":"",children:["Defendant ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY]"})," is believed to be the insurance carrier for Defendant MICHAEL JOHNSON."]})]})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"FACTS"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:"4",children:[e.jsxs("li",{children:["On ",e.jsx("span",{className:"font-semibold",children:"March 15, 2024"}),", at approximately 2:30 PM, Plaintiff was lawfully operating her motor vehicle eastbound on Oak Street in Springfield, Illinois."]}),e.jsx("li",{children:"At said time and place, Defendant MICHAEL JOHNSON was operating his motor vehicle westbound on Oak Street, approaching the intersection with Main Street."}),e.jsxs("li",{children:[h==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant JOHNSON was under the influence of alcohol..."}),e.jsx("span",{className:h==="changes"?"bg-blue-100":"",children:"Defendant JOHNSON was distracted by his mobile device and failed to observe the traffic signal at the intersection of Oak Street and Main Street, running a red light."})]}),e.jsx("li",{children:"As a direct result of Defendant JOHNSON's negligent operation of his vehicle, his vehicle collided with Plaintiff's vehicle in the intersection, causing significant damage and injuries to Plaintiff."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"COUNT I - NEGLIGENCE"}),e.jsx("p",{className:"mb-2",children:"(Against Defendant MICHAEL JOHNSON)"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:"8",children:[e.jsx("li",{children:"Plaintiff realleges and incorporates paragraphs 1 through 7 as if fully set forth herein."}),e.jsx("li",{children:"Defendant JOHNSON owed a duty to Plaintiff and other motorists to operate his vehicle in a safe and reasonable manner, including obeying traffic control devices."}),e.jsx("li",{children:"Defendant JOHNSON breached said duty by operating his vehicle while distracted by his mobile device, failing to observe the traffic signal, and running a red light."}),e.jsx("li",{children:"As a direct and proximate result of Defendant JOHNSON's negligence, Plaintiff sustained serious injuries including back injuries requiring ongoing treatment, totaling $47,500 in medical expenses."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"WHEREFORE"}),e.jsx("p",{className:"mb-4",children:"WHEREFORE, Plaintiff SARAH DAVIS respectfully requests that this Honorable Court enter judgment in her favor and against Defendant MICHAEL JOHNSON for damages in excess of $50,000, together with costs of suit, and for such other relief as this Court deems just and proper."}),e.jsxs("div",{className:"mt-8 text-right",children:[e.jsx("p",{className:"mb-2",children:"Respectfully submitted,"}),e.jsx("p",{className:"mb-4",children:"SARAH DAVIS, Plaintiff"}),e.jsx("p",{children:"By: _________________________"}),e.jsx("p",{children:"[Attorney Name]"}),e.jsx("p",{children:"[Attorney Information]"})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50",children:"Find Next Gap"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept All Changes"}),e.jsx("button",{className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Export"})]})]})]}),e.jsxs("div",{className:"w-96 space-y-4 p-4 bg-gray-50 overflow-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Fill Gaps"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Insurance Company Name"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Page 1, Parties section"}),e.jsx("input",{type:"text",placeholder:"Enter insurance company name...",className:"mt-2 w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"2 more items need input"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Strategic Adaptations"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Simplified defendant structure"}),e.jsx("p",{className:"text-gray-600",children:"Focused on individual defendant rather than commercial entity"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Updated jurisdiction"}),e.jsx("p",{className:"text-gray-600",children:"Changed venue to Springfield County based on case location"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Incorporated medical damages"}),e.jsx("p",{className:"text-gray-600",children:"Included $47,500 in medical expenses from case files"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Adapted fact pattern"}),e.jsx("p",{className:"text-gray-600",children:"Updated accident location and circumstances to match Davis v. Johnson case"})]})]})]})]})]})]})]});return a==="review"?e.jsx(ke,{}):e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:G.map(Q=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${Q.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[Q.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:Q.label})]},Q.id))})}),e.jsx("div",{className:"flex-1 bg-white p-6",children:e.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-40",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-64 mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-56 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-4/5"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})]})]})}),e.jsxs("div",{className:"w-[35%] border-l border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-4",children:[t.map(Q=>e.jsx(Ce,{message:Q},Q.id)),e.jsx("div",{ref:oe})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,onChange:Q=>r(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&B(),placeholder:a==="initial"?"Ask me to help draft a complaint...":"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:B,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e.jsx(yn,{size:16})})]})})]})]})]})},Gp=Object.freeze(Object.defineProperty({__proto__:null,default:Bb},Symbol.toStringTag,{value:"Module"})),Ub=()=>{const[t,s]=u.useState([{id:1,type:"assistant",content:"Hi! I'm here to help you with your case. What can I assist you with today?",timestamp:new Date}]),[n,r]=u.useState(""),[a,i]=u.useState("initial"),[l,o]=u.useState(null),[c,d]=u.useState([]),[m,f]=u.useState({}),[p,g]=u.useState(null),[v,N]=u.useState(0),[I,y]=u.useState(!1),[h,b]=u.useState("clean"),[j,k]=u.useState(!1),[x,M]=u.useState("main"),[T,S]=u.useState([{id:"main",title:"AI Assistant",type:"main"}]),[w,L]=u.useState(null),[X,F]=u.useState({}),[O,_]=u.useState(null),[oe,Se]=u.useState(null),[G,B]=u.useState(null),[W,le]=u.useState(!1),de=u.useRef(null),we=u.useRef(null),Re=[{id:"overview",icon:()=>e.jsx(yr,{size:18}),label:"Overview"},{id:"timeline",icon:()=>e.jsx(gr,{size:18}),label:"Timeline"},{id:"deep-dive",icon:()=>e.jsx(ra,{size:18}),label:"Deep Dive"},{id:"drafting",icon:()=>e.jsx(ms,{size:18}),label:"Drafting",active:!0},{id:"files",icon:()=>e.jsx(vr,{size:18}),label:"Files"}];u.useEffect(()=>{var V;(V=de.current)==null||V.scrollIntoView({behavior:"smooth"})},[t]),u.useEffect(()=>{var V;w&&w.messages&&x!=="main"&&((V=de.current)==null||V.scrollIntoView({behavior:"smooth"}))},[w==null?void 0:w.messages,x]);const Ye=()=>{const V=Date.now(),De={id:Date.now()+1,type:"assistant",content:`I'll help you draft a complaint. To ensure I create the most effective document for your case, I'll need a reference complaint to understand your preferred structure and style.

Please upload a reference complaint that you'd like me to use as a template.`,timestamp:new Date,showUpload:!0};L({id:V,title:"Drafting a Complaint",status:"Needs input",phase:"upload",createdAt:new Date,messages:[De],uploadedFile:null,assumptions:[],assumptionResponses:{},draftingStartTime:null,elapsedTime:0,draftReady:!1});const je={id:`drafting-${V}`,title:"Drafting",type:"drafting",taskId:V};S(qe=>[...qe,je]),setTimeout(()=>{M(je.id)},400)},Ae=()=>{if(n.trim()==="")return;const V={id:Date.now(),type:"user",content:n,timestamp:new Date};x==="main"?(s(De=>[...De,V]),a==="initial"&&n.toLowerCase().includes("draft")&&n.toLowerCase().includes("complaint")?setTimeout(()=>{Ke("I'll create a new drafting session for your complaint.",{isTaskCard:!0,taskType:"complaint-draft"}),Ye()},1e3):a==="initial"&&setTimeout(()=>{Ke("I can help you with various tasks including drafting legal documents, analyzing case files, or answering questions about your case. What would you like to work on?")},1e3)):me(V),r("")},me=V=>{if(!w)return;const De={...w,messages:[...w.messages,V]};L(De)},Ke=(V,De={})=>{const _e={id:Date.now(),type:"assistant",content:V,timestamp:new Date,...De};s(je=>[...je,_e])},Y=V=>{const De=V.target.files[0];if(De&&w){const _e={name:De.name,size:`${Math.round(De.size/1024)} KB`,type:De.type},je={id:Date.now(),type:"user",content:`Uploaded: ${De.name}`,isFile:!0,file:{name:De.name,size:`${Math.round(De.size/1024)} KB`},timestamp:new Date},qe={...w,uploadedFile:_e,messages:[...w.messages,je],phase:"analyzing",status:"Generating"};L(qe),setTimeout(()=>{const Ze={...qe,messages:[...qe.messages,{id:Date.now(),type:"assistant",content:"Thank you for uploading the reference complaint. I'm now analyzing it along with your case files to understand the context and identify key elements for your complaint.",timestamp:new Date,isAnalyzing:!0}]};L(Ze),setTimeout(()=>{U(Ze.id)},3e3)},500)}},U=V=>{L(De=>{if(!De||De.id!==V)return De;const _e=[{id:1,category:"Legal Theory",assumption:"Based on the case files and the reference complaint, I'm planning to structure this as a **negligence claim** with emphasis on duty of care breach by the defendant driver.",question:"Is negligence the primary legal theory you want to pursue, or should I also include claims for gross negligence or recklessness?",options:["Negligence only","Include gross negligence","Include both gross negligence and recklessness"],selected:null},{id:2,category:"Damages Strategy",assumption:"I notice medical expenses total $47,500 with ongoing treatment. The reference complaint includes future medical costs and loss of earning capacity.",question:"Should I include claims for future medical expenses and lost earning capacity based on Dr. Mitchell's prognosis?",options:["Yes, include both","Only future medical","Only past damages"],selected:null},{id:3,category:"Jurisdictional Basis",assumption:"The accident occurred in Springfield County and all parties reside here. I'll assert jurisdiction based on the location of the incident and parties' residence.",question:"Are there any additional jurisdictional considerations I should address?",options:["No, location and residence are sufficient","Add amount in controversy","Include federal question jurisdiction"],selected:null},{id:4,category:"Defendant Information",assumption:"I've identified the primary defendant as the other driver. The case files suggest potential employer liability under respondeat superior.",question:"Should I name the driver's employer (ABC Delivery Co.) as an additional defendant?",options:["Yes, include the employer","No, driver only"],selected:null}],je=De.messages.map(Ze=>Ze.isAnalyzing?{...Ze,isAnalyzing:!1,isAnalyzingComplete:!0}:Ze),qe={id:Date.now(),type:"assistant",content:"I've analyzed your reference complaint and case files. Before I begin drafting, I want to confirm these key decisions that will shape your complaint:",timestamp:new Date,showAssumptions:!0};return{...De,phase:"assumptions",status:"Needs input",assumptions:_e,messages:[...je,qe]}})},ge=(V,De)=>{if(!w)return;const _e={...w.assumptionResponses,[V]:De},je={...w,assumptionResponses:_e};L(je),w.assumptions.every(Ze=>_e[Ze.id]!==void 0)&&setTimeout(()=>{L(Ze=>{if(!Ze)return Ze;if(!Ze.messages.find(dt=>dt.isConfirmation)){const dt={id:Date.now(),type:"assistant",content:"Perfect! I have all the information I need. I'll now draft your complaint based on these confirmed parameters.",timestamp:new Date,isConfirmation:!0,showBeginDrafting:!0};return{...Ze,messages:[...Ze.messages,dt]}}return Ze})},100)},Ce=(V,De)=>{F(_e=>({..._e,[V]:De}))},ke=V=>{_(V),Se(null),X[V]||F(De=>({...De,[V]:""}))},Q=()=>{if(O!==null){const V={...w,assumptionResponses:{...w.assumptionResponses,[O]:void 0}};L(V),F(De=>({...De,[O]:""}))}_(null),Se(null),B(null)},Me=V=>{const De=X[V];!De||!De.trim()||(ge(V,`Custom: ${De.trim()}`),_(null))},P=V=>{const De=w.assumptionResponses[V];B(De),De&&De.startsWith("Custom: ")&&F(_e=>({..._e,[V]:De.replace("Custom: ","")})),Se(V),_(V)},K=()=>{if(!w)return;le(!0);const V=Date.now();L(_e=>{if(!_e)return _e;const je=_e.messages.map(Ze=>Ze.isConfirmation?{...Ze,showBeginDrafting:!1,isDraftingStarted:!0}:Ze),qe={id:Date.now(),type:"assistant",content:"I'm now drafting your complaint. This will take a few moments as I incorporate all relevant case facts and structure it according to your specifications.",timestamp:new Date,isDrafting:!0};return{..._e,phase:"drafting",status:"Generating",draftingStartTime:V,elapsedTime:0,messages:[...je,qe]}});const De=setInterval(()=>{const _e=Math.floor((Date.now()-V)/1e3);L(je=>je?{...je,elapsedTime:_e}:null),_e>=5&&(clearInterval(De),he())},1e3)},he=()=>{L(V=>{if(!V)return V;const De=V.messages.map(je=>je.isDrafting?{...je,isDrafting:!1,isDraftingComplete:!0}:je),_e={id:Date.now(),type:"assistant",content:`Your complaint draft is ready! I've incorporated all the case facts, applied the legal theories we discussed, and structured it based on your reference document.

Your complaint has been saved to your case files as "Davis v Johnson - Complaint - Draft 1.docx".`,timestamp:new Date,isDraftComplete:!0,actions:[{label:"Review Draft",icon:()=>e.jsx(Qe,{size:16}),primary:!0},{label:"Export to Word",icon:()=>e.jsx(Jl,{size:16})}]};return{...V,phase:"complete",status:"Draft complete",draftReady:!0,messages:[...De,_e]}})},ve=()=>{if(!w)return;const V={...w,phase:"review"};L(V)},be=V=>{switch(V){case"Needs input":return"bg-yellow-100 text-yellow-800";case"Generating":return"bg-blue-100 text-blue-800";case"Draft complete":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ye=()=>{if(w){const V=T.find(De=>De.type==="drafting");V&&M(V.id)}},fe=({message:V,isInDraftingTab:De=!1})=>{const _e=V.type==="user";return e.jsx("div",{className:`flex ${_e?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`max-w-full ${_e?"order-2":"order-1"}`,children:[!_e&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center mr-2",children:e.jsx(Yl,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Supio Assistant"})]}),V.isFile&&e.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-3 inline-block",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wl,{size:20,className:"text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:V.file.name}),e.jsx("div",{className:"text-sm text-gray-500",children:V.file.size})]})]})}),V.isTaskCard&&w&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 cursor-pointer hover:bg-blue-100 transition-colors max-w-2xl",onClick:ye,children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ms,{size:20,className:"text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:w.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0 ${be(w.status)}`,children:w.status})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Started ",w.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[w.status==="Generating"&&w.phase==="drafting"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"animate-spin",size:14}),e.jsxs("span",{children:["Drafting... ",w.elapsedTime,"s"]})]}),w.status==="Needs input"&&w.phase==="assumptions"&&e.jsx("span",{children:"Verifying assumptions"}),w.status==="Needs input"&&w.phase==="upload"&&e.jsx("span",{children:"Needs reference doc"}),w.status==="Draft complete"&&e.jsx("span",{children:"Ready for review"})]}),e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Click to view →"})]})]}),!V.isFile&&!V.isTaskCard&&e.jsxs("div",{className:`rounded-lg px-4 py-3 ${_e?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-800"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap",children:V.content}),V.showUpload&&De&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("input",{ref:we,type:"file",className:"hidden",accept:".pdf,.doc,.docx",onChange:Y}),e.jsxs("button",{onClick:()=>{var je;return(je=we.current)==null?void 0:je.click()},className:"w-full flex flex-col items-center justify-center py-6 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Os,{size:32,className:"text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload reference complaint"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX"})]})]}),V.isAnalyzing&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Analyzing reference document and case files..."})]}),V.isAnalyzingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Analysis complete"})]}),V.showBeginDrafting&&De&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{onClick:K,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:["Begin Drafting",e.jsx(nn,{size:20,className:"ml-2"})]})}),V.isDraftingStarted&&e.jsx("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:e.jsx("span",{className:"text-sm",children:"Drafting started..."})}),V.showAssumptions&&De&&w&&w.assumptions.length>0&&e.jsx("div",{className:"mt-4 space-y-4",children:w.assumptions.map((je,qe)=>{var _t;const Ze=w.assumptionResponses[je.id],hs=Ze&&Ze.startsWith("Custom: "),dt=O===je.id;return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.category}),Ze&&e.jsx(es,{size:16,className:"text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:je.assumption}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:je.question}),dt?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:X[je.id]||"",onChange:gt=>Ce(je.id,gt.target.value),placeholder:"Enter your custom instruction for this aspect of the complaint...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"3",autoFocus:!0},je.id),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:Q,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel Instruction"}),e.jsx("button",{onClick:()=>Me(je.id),disabled:!((_t=X[je.id])!=null&&_t.trim()),className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-md transition-colors",children:"Confirm"})]})]}):hs?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:Ze.replace("Custom: ",""),disabled:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-gray-50 text-gray-700 resize-none",rows:"3"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>P(je.id),disabled:W,className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${W?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100"}`,children:"Edit"})})]}):e.jsxs("div",{className:"space-y-2",children:[je.options.map((gt,Jt)=>e.jsx("button",{onClick:()=>!W&&ge(je.id,gt),disabled:W,className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${Ze===gt?"bg-blue-100 text-blue-800 border border-blue-300":W?"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:gt},Jt)),e.jsx("button",{onClick:()=>!W&&ke(je.id),disabled:W,className:`w-full text-left px-3 py-2 rounded-md text-sm border border-gray-200 transition-colors ${W?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200"}`,children:"Provide custom instruction..."})]})]},je.id)})}),V.isDrafting&&De&&w&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Drafting complaint..."}),e.jsxs("span",{className:"text-sm font-medium",children:[w.elapsedTime,"s elapsed"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Incorporating case facts and legal arguments..."})]}),V.isDraftingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Drafting completed in 5 seconds!"})]}),V.isDraftComplete&&V.actions&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:V.actions.map((je,qe)=>e.jsxs("button",{onClick:()=>{je.label==="Review Draft"&&ve()},className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${je.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[je.icon(),e.jsx("span",{className:"ml-2",children:je.label})]},qe))})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 px-1",children:new Date(V.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},We=()=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:Re.map(V=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${V.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[V.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:V.label})]},V.id))})}),e.jsxs("div",{className:"flex-1 bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"font-medium text-gray-900",children:"Complaint - Davis v. Johnson"}),e.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"98% Complete"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>b("clean"),className:`px-3 py-1 text-sm rounded ${h==="clean"?"bg-white shadow-sm":"text-gray-600"}`,children:"Clean View"}),e.jsx("button",{onClick:()=>b("changes"),className:`px-3 py-1 text-sm rounded ${h==="changes"?"bg-white shadow-sm":"text-gray-600"}`,children:"Changes View"}),e.jsx("button",{onClick:()=>b("compare"),className:`px-3 py-1 text-sm rounded ${h==="compare"?"bg-white shadow-sm":"text-gray-600"}`,children:"Compare"})]})})]})}),e.jsxs("div",{className:"p-8 prose max-w-none overflow-auto",children:[e.jsxs("h1",{className:"text-center text-2xl font-bold mb-8",children:["IN THE CIRCUIT COURT OF SPRINGFIELD COUNTY",e.jsx("br",{}),"STATE OF ILLINOIS, LAW DIVISION"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"font-bold",children:"SARAH DAVIS,"}),e.jsx("p",{className:"ml-8",children:"Plaintiff,"}),e.jsx("p",{className:"mt-2",children:"v."}),e.jsx("p",{className:"mt-2 font-bold",children:"MICHAEL JOHNSON,"}),e.jsxs("p",{className:"font-bold",children:["and ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),","]}),e.jsx("p",{className:"ml-8",children:"Defendants."})]}),e.jsx("h2",{className:"text-center font-bold text-xl mb-6",children:"COMPLAINT AT LAW"}),e.jsxs("p",{className:"mb-4",children:["NOW COMES the Plaintiff, ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"}),", by and through undersigned counsel, and brings this Complaint against Defendants ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," and"," ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),", and in support states as follows:"]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"PARTIES"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[e.jsxs("li",{children:["Plaintiff ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:["Defendant ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:[h==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant XYZ INSURANCE is a corporation..."}),e.jsxs("span",{className:h==="changes"?"bg-blue-100":"",children:["Defendant ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY]"})," is believed to be the insurance carrier for Defendant MICHAEL JOHNSON."]})]})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"FACTS"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:"4",children:[e.jsxs("li",{children:["On ",e.jsx("span",{className:"font-semibold",children:"March 15, 2024"}),", at approximately 2:30 PM, Plaintiff was lawfully operating her motor vehicle eastbound on Oak Street in Springfield, Illinois."]}),e.jsx("li",{children:"At said time and place, Defendant MICHAEL JOHNSON was operating his motor vehicle westbound on Oak Street, approaching the intersection with Main Street."}),e.jsxs("li",{children:[h==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant JOHNSON was under the influence of alcohol..."}),e.jsx("span",{className:h==="changes"?"bg-blue-100":"",children:"Defendant JOHNSON was distracted by his mobile device and failed to observe the traffic signal at the intersection of Oak Street and Main Street, running a red light."})]}),e.jsx("li",{children:"As a direct result of Defendant JOHNSON's negligent operation of his vehicle, his vehicle collided with Plaintiff's vehicle in the intersection, causing significant damage and injuries to Plaintiff."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"COUNT I - NEGLIGENCE"}),e.jsx("p",{className:"mb-2",children:"(Against Defendant MICHAEL JOHNSON)"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:"8",children:[e.jsx("li",{children:"Plaintiff realleges and incorporates paragraphs 1 through 7 as if fully set forth herein."}),e.jsx("li",{children:"Defendant JOHNSON owed a duty to Plaintiff and other motorists to operate his vehicle in a safe and reasonable manner, including obeying traffic control devices."}),e.jsx("li",{children:"Defendant JOHNSON breached said duty by operating his vehicle while distracted by his mobile device, failing to observe the traffic signal, and running a red light."}),e.jsx("li",{children:"As a direct and proximate result of Defendant JOHNSON's negligence, Plaintiff sustained serious injuries including back injuries requiring ongoing treatment, totaling $47,500 in medical expenses."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"WHEREFORE"}),e.jsx("p",{className:"mb-4",children:"WHEREFORE, Plaintiff SARAH DAVIS respectfully requests that this Honorable Court enter judgment in her favor and against Defendant MICHAEL JOHNSON for damages in excess of $50,000, together with costs of suit, and for such other relief as this Court deems just and proper."}),e.jsxs("div",{className:"mt-8 text-right",children:[e.jsx("p",{className:"mb-2",children:"Respectfully submitted,"}),e.jsx("p",{className:"mb-4",children:"SARAH DAVIS, Plaintiff"}),e.jsx("p",{children:"By: _________________________"}),e.jsx("p",{children:"[Attorney Name]"}),e.jsx("p",{children:"[Attorney Information]"})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50",children:"Find Next Gap"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept All Changes"}),e.jsx("button",{className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Export"})]})]})]}),e.jsxs("div",{className:"w-96 space-y-4 p-4 bg-gray-50 overflow-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Fill Gaps"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Insurance Company Name"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Page 1, Parties section"}),e.jsx("input",{type:"text",placeholder:"Enter insurance company name...",className:"mt-2 w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"2 more items need input"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Strategic Adaptations"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Simplified defendant structure"}),e.jsx("p",{className:"text-gray-600",children:"Focused on individual defendant rather than commercial entity"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Updated jurisdiction"}),e.jsx("p",{className:"text-gray-600",children:"Changed venue to Springfield County based on case location"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Incorporated medical damages"}),e.jsx("p",{className:"text-gray-600",children:"Included $47,500 in medical expenses from case files"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Adapted fact pattern"}),e.jsx("p",{className:"text-gray-600",children:"Updated accident location and circumstances to match Davis v. Johnson case"})]})]})]})]})]})]})]});return w&&w.phase==="review"?e.jsx(We,{}):e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:Re.map(V=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${V.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[V.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:V.label})]},V.id))})}),e.jsx("div",{className:"flex-1 bg-white p-6",children:e.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-40",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-64 mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-56 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-4/5"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})]})]})}),e.jsxs("div",{className:"w-[35%] border-l border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex",children:T.map(V=>e.jsxs("button",{onClick:()=>M(V.id),className:`flex-1 px-4 py-3 text-sm font-medium border-r border-gray-200 last:border-r-0 transition-colors ${x===V.id?"bg-white text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[V.title,V.type==="drafting"&&w&&e.jsx("span",{className:`ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${be(w.status)}`,children:w.status==="Generating"&&w.phase==="drafting"?"generating":w.status==="Needs input"?"input needed":w.status==="Draft complete"?"complete":w.status})]},V.id))})}),x==="main"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-4",children:[t.map(V=>e.jsx(fe,{message:V},V.id)),e.jsx("div",{ref:de})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,onChange:V=>r(V.target.value),onKeyPress:V=>V.key==="Enter"&&Ae(),placeholder:a==="initial"?"Ask me to help draft a complaint...":"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:Ae,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e.jsx(yn,{size:16})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-4",children:[w&&w.messages.map(V=>e.jsx(fe,{message:V,isInDraftingTab:!0},V.id)),e.jsx("div",{ref:de})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,onChange:V=>r(V.target.value),onKeyPress:V=>V.key==="Enter"&&Ae(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:Ae,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e.jsx(yn,{size:16})})]})})]})]})]})]})},qp=Object.freeze(Object.defineProperty({__proto__:null,default:Ub},Symbol.toStringTag,{value:"Module"})),Qp=[{id:"overview",icon:()=>ne.createElement(yr,{size:18}),label:"Overview"},{id:"timeline",icon:()=>ne.createElement(gr,{size:18}),label:"Timeline"},{id:"deep-dive",icon:()=>ne.createElement(ra,{size:18}),label:"Deep Dive"},{id:"drafting",icon:()=>ne.createElement(ms,{size:18}),label:"Drafting",active:!0},{id:"files",icon:()=>ne.createElement(vr,{size:18}),label:"Files"}],Vb=[{id:1,type:"info",title:"Case Update Available",message:"New medical records have been added to Davis v. Johnson case",timestamp:new Date(Date.now()-30*60*1e3),read:!0},{id:2,type:"success",title:"Document Processing Complete",message:"Police report analysis has been completed",timestamp:new Date(Date.now()-2*60*60*1e3),read:!0},{id:3,type:"warning",title:"Deadline Reminder",message:"Discovery deadline is approaching in 5 days",timestamp:new Date(Date.now()-4*60*60*1e3),read:!0},{id:4,type:"info",title:"System Maintenance",message:"Scheduled maintenance window tonight from 11 PM - 1 AM EST",timestamp:new Date(Date.now()-6*60*60*1e3),read:!0}],Hb=[{id:1,category:"Legal Theory",assumption:"Based on the case files and the reference complaint, I'm planning to structure this as a **negligence claim** with emphasis on duty of care breach by the defendant driver.",question:"Is negligence the primary legal theory you want to pursue, or should I also include claims for gross negligence or recklessness?",options:["Negligence only","Include gross negligence","Include both gross negligence and recklessness"],selected:null},{id:2,category:"Damages Strategy",assumption:"I notice medical expenses total $47,500 with ongoing treatment. The reference complaint includes future medical costs and loss of earning capacity.",question:"Should I include claims for future medical expenses and lost earning capacity based on Dr. Mitchell's prognosis?",options:["Yes, include both","Only future medical","Only past damages"],selected:null},{id:3,category:"Jurisdictional Basis",assumption:"The accident occurred in Springfield County and all parties reside here. I'll assert jurisdiction based on the location of the incident and parties' residence.",question:"Are there any additional jurisdictional considerations I should address?",options:["No, location and residence are sufficient","Add amount in controversy","Include federal question jurisdiction"],selected:null},{id:4,category:"Defendant Information",assumption:"I've identified the primary defendant as the other driver. The case files suggest potential employer liability under respondeat superior.",question:"Should I name the driver's employer (ABC Delivery Co.) as an additional defendant?",options:["Yes, include the employer","No, driver only"],selected:null}],Jb=t=>{switch(t){case"success":return ne.createElement(es,{size:16,className:"text-green-500"});case"warning":return ne.createElement(Vp,{size:16,className:"text-yellow-500"});case"error":return ne.createElement(ut,{size:16,className:"text-red-500"});default:return ne.createElement(Qe,{size:16,className:"text-blue-500"})}},Zp=t=>{switch(t){case"Needs input":return"bg-yellow-100 text-yellow-800";case"Generating":return"bg-blue-100 text-blue-800";case"Draft complete":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Wb=()=>{const[t,s]=u.useState([{id:1,type:"assistant",content:"Hi! I'm here to help you with your case. What can I assist you with today?",timestamp:new Date}]),[n,r]=u.useState(""),[a,i]=u.useState("initial"),[l,o]=u.useState("clean"),[c,d]=u.useState(!1),[m,f]=u.useState("main"),[p,g]=u.useState([{id:"main",title:"AI Assistant",type:"main"}]),[v,N]=u.useState(null),[I,y]=u.useState(!1),[h,b]=u.useState({}),[j,k]=u.useState(null),[x,M]=u.useState(null),[T,S]=u.useState(null),[w,L]=u.useState(!1),[X,F]=u.useState(!1),[O,_]=u.useState([]),[oe,Se]=u.useState(Vb),G=u.useRef(null);u.useEffect(()=>{var U;(U=G.current)==null||U.scrollIntoView({behavior:"smooth"})},[t]),u.useEffect(()=>{var U;v&&v.messages&&m!=="main"&&((U=G.current)==null||U.scrollIntoView({behavior:"smooth"}))},[v==null?void 0:v.messages,m]),u.useEffect(()=>{const U=ge=>{const Ce=ge.target;!Ce.closest(".notification-panel-container")&&!Ce.closest(".jobs-panel-container")&&(L(!1),F(!1))};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]);const B=U=>{U!=="main"&&(g(ge=>ge.filter(Ce=>Ce.id!==U)),m===U&&f("main"))},W=()=>{if(!v)return;const U=p.find(Ce=>Ce.type==="drafting");if(U){f(U.id);return}const ge={id:`drafting-${v.id}`,title:"Drafting",type:"drafting",taskId:v.id};g(Ce=>[...Ce,ge]),f(ge.id)},le=U=>{_(ge=>[...ge,U])},de=(U,ge)=>{_(Ce=>Ce.map(ke=>ke.id===U?{...ke,...ge}:ke))},we=U=>{U.type==="drafting"&&v&&U.taskId===v.id&&(W(),F(!1),setTimeout(()=>{var ge;(ge=G.current)==null||ge.scrollIntoView({behavior:"smooth"})},100))},Re=U=>{const ge={id:Date.now(),timestamp:new Date,read:!1,...U};Se(Ce=>[ge,...Ce])},Ye=(U,ge)=>{U==="review"?(Y(),L(!1)):U==="export"&&(console.log("Exporting to Word..."),L(!1))},Ae=(U,ge={})=>{const Ce={id:Date.now(),type:"assistant",content:U,timestamp:new Date,...ge};s(ke=>[...ke,Ce])},me=(U,ge,Ce={})=>{if(!v||v.id!==U)return;const ke={id:Date.now(),type:"assistant",content:ge,timestamp:new Date,...Ce},Q={...v,messages:[...v.messages,ke]};N(Q)},Ke=()=>{const U=Date.now(),ge={id:Date.now()+1,type:"assistant",content:`I'll help you draft a complaint. To ensure I create the most effective document for your case, I'll need a reference complaint to understand your preferred structure and style.

Please upload a reference complaint that you'd like me to use as a template.`,timestamp:new Date,showUpload:!0};N({id:U,title:"Drafting a Complaint",status:"Needs input",phase:"upload",createdAt:new Date,messages:[ge],uploadedFile:null,assumptions:[],assumptionResponses:{},draftingStartTime:null,elapsedTime:0,draftReady:!1});const ke={id:`drafting-${U}`,title:"Drafting",type:"drafting",taskId:U};g(Q=>[...Q,ke]),setTimeout(()=>{f(ke.id)},400)},Y=()=>{if(!v)return;const U={...v,phase:"review"};N(U)};return{messages:t,setMessages:s,inputValue:n,setInputValue:r,currentPhase:a,setCurrentPhase:i,viewMode:l,setViewMode:o,showChat:c,setShowChat:d,activeChatTab:m,setActiveChatTab:f,chatTabs:p,setChatTabs:g,draftingTask:v,setDraftingTask:N,draftingStarted:I,setDraftingStarted:y,customInputs:h,setCustomInputs:b,customModeAssumption:j,setCustomModeAssumption:k,editingCustomAssumption:x,setEditingCustomAssumption:M,originalResponseBeforeEdit:T,setOriginalResponseBeforeEdit:S,showNotifications:w,setShowNotifications:L,showJobsList:X,setShowJobsList:F,jobs:O,setJobs:_,notifications:oe,setNotifications:Se,messagesEndRef:G,closeTab:B,reopenDraftingTab:W,addJob:le,updateJob:de,handleJobClick:we,addNotification:Re,handleNotificationAction:Ye,addAssistantMessage:Ae,addAssistantMessageToTask:me,createDraftingTask:Ke,handleReviewDraft:Y}},Yb=(t,s,n,r,a,i,l,o)=>{const c=N=>{s(I=>{if(!I||I.id!==N)return I;const y=I.messages.map(b=>b.isAnalyzing?{...b,isAnalyzing:!1,isAnalyzingComplete:!0}:b),h={id:Date.now(),type:"assistant",content:"I've analyzed your reference complaint and case files. Before I begin drafting, I want to confirm these key decisions that will shape your complaint:",timestamp:new Date,showAssumptions:!0};return{...I,phase:"assumptions",status:"Needs input",assumptions:Hb,messages:[...y,h]}})},d=(N,I)=>{if(!t)return;const y={...t.assumptionResponses,[N]:I},h={...t,assumptionResponses:y};s(h),t.assumptions.every(j=>y[j.id]!==void 0)&&setTimeout(()=>{s(j=>{if(!j)return j;if(!j.messages.find(x=>x.isConfirmation)){const x={id:Date.now(),type:"assistant",content:"Perfect! I have all the information I need. I'll now draft your complaint based on these confirmed parameters.",timestamp:new Date,isConfirmation:!0,showBeginDrafting:!0};return{...j,messages:[...j.messages,x]}}return j})},100)};return{presentAssumptions:c,handleAssumptionResponse:d,handleCustomInput:(N,I)=>{r({...n,[N]:I})},toggleCustomMode:N=>{i(N),l(null),n[N]||r({...n,[N]:""})},cancelCustomInstruction:()=>{if(a!==null&&t){const N={...t,assumptionResponses:{...t.assumptionResponses,[a]:void 0}};s(N),r({...n,[a]:""})}i(null),l(null),o(null)},confirmCustomInstruction:N=>{const I=n[N];!I||!I.trim()||(d(N,`Custom: ${I.trim()}`),i(null))},editCustomInstruction:N=>{if(!t)return;const I=t.assumptionResponses[N];o(I),I&&I.startsWith("Custom: ")&&r({...n,[N]:I.replace("Custom: ","")}),l(N),i(N)}}},Kb=(t,s,n,r,a,i,l)=>{const o=m=>{var p;const f=(p=m.target.files)==null?void 0:p[0];if(f&&t){const g={name:f.name,size:`${Math.round(f.size/1024)} KB`,type:f.type},v={id:Date.now(),type:"user",content:`Uploaded: ${f.name}`,isFile:!0,file:{name:f.name,size:`${Math.round(f.size/1024)} KB`},timestamp:new Date},N={...t,uploadedFile:g,messages:[...t.messages,v],phase:"analyzing",status:"Generating"};s(N),setTimeout(()=>{const I={...N,messages:[...N.messages,{id:Date.now(),type:"assistant",content:"Thank you for uploading the reference complaint. I'm now analyzing it along with your case files to understand the context and identify key elements for your complaint.",timestamp:new Date,isAnalyzing:!0}]};s(I),setTimeout(()=>{l&&l(I.id)},3e3)},500)}},c=m=>{if(!t)return;n(!0);const f=Date.now(),p={id:`job-${t.id}`,taskId:t.id,type:"drafting",title:"Draft Complaint",description:"Davis v. Johnson - MVA Case",status:"In Progress",startTime:f,elapsedTime:0,createdAt:new Date};r(p),s(v=>{if(!v)return v;const N=v.messages.map(y=>y.isConfirmation?{...y,showBeginDrafting:!1,isDraftingStarted:!0}:y),I={id:Date.now(),type:"assistant",content:"I'm now drafting your complaint. This will take a few moments as I incorporate all relevant case facts and structure it according to your specifications.",timestamp:new Date,isDrafting:!0};return{...v,phase:"drafting",status:"Generating",draftingStartTime:f,elapsedTime:0,messages:[...N,I]}});const g=setInterval(()=>{const v=Math.floor((Date.now()-f)/1e3);s(N=>N?{...N,elapsedTime:v}:null),a(p.id,{elapsedTime:v}),v>=30&&(clearInterval(g),d())},1e3)},d=()=>{s(m=>{if(!m||m.phase==="complete")return m;a(`job-${m.id}`,{status:"Complete",completedAt:new Date});const f=m.messages.map(g=>g.isDrafting?{...g,isDrafting:!1,isDraftingComplete:!0}:g),p={id:Date.now(),type:"assistant",content:`Your complaint draft is ready! I've incorporated all the case facts, applied the legal theories we discussed, and structured it based on your reference document.

Your complaint has been saved to your case files as "Davis v Johnson - Complaint - Draft 1.docx".`,timestamp:new Date,isDraftComplete:!0,actions:[{label:"Review Draft",icon:()=>ne.createElement(Qe,{size:16}),primary:!0},{label:"Export to Word",icon:()=>ne.createElement(Jl,{size:16})}]};return{...m,phase:"complete",status:"Draft complete",draftReady:!0,messages:[...f,p]}}),setTimeout(()=>{i({type:"success",title:"Draft Complete",message:"Your complaint draft is ready for review",actions:[{label:"Review Document",action:"review",icon:()=>ne.createElement(hn,{size:14}),primary:!0},{label:"Export to Word",action:"export",icon:()=>ne.createElement(eu,{size:14})}]})},100)};return{handleFileUpload:o,startDrafting:c,completeDraft:d}},Xp=t=>{const n=new Date().getTime()-t.getTime(),r=Math.floor(n/(1e3*60)),a=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r}m ago`:a<24?`${a}h ago`:`${i}d ago`},su=({notifications:t,onNotificationAction:s})=>e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.filter(n=>!n.read).length," unread"]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map(n=>e.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${n.read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Jb(n.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),!n.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Xp(n.timestamp)}),n.actions&&e.jsx("div",{className:"mt-3 flex space-x-2",children:n.actions.map((r,a)=>e.jsxs("button",{onClick:()=>s==null?void 0:s(r.action,n.id),className:`inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${r.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.icon(),e.jsx("span",{className:"ml-1",children:r.label})]},a))})]})]})},n.id))}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{className:"w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all notifications"})})]}),Gb=Object.freeze(Object.defineProperty({__proto__:null,default:su},Symbol.toStringTag,{value:"Module"})),nu=({jobs:t,onJobClick:s})=>e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jobs"})}),t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(na,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent jobs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Background jobs you initiate will appear here"})]}):e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map(n=>e.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>s==null?void 0:s(n),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ms,{size:14,className:"text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ml-2 flex-shrink-0 ${n.status==="Complete"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:n.status})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[e.jsxs("span",{children:["Started ",Xp(n.createdAt)]}),e.jsx("span",{children:n.status==="Complete"?`Completed in ${n.elapsedTime}s`:`${n.elapsedTime}s elapsed`})]})]})]})},n.id))})]}),qb=Object.freeze(Object.defineProperty({__proto__:null,default:nu},Symbol.toStringTag,{value:"Module"})),ex=({children:t,notifications:s,showNotifications:n,setShowNotifications:r,jobs:a,showJobsList:i,setShowJobsList:l,onNotificationAction:o,onJobClick:c})=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2 relative",children:[e.jsxs("div",{className:"relative notification-panel-container",children:[e.jsxs("button",{onClick:()=>{r(!n),l(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:[e.jsx(Hl,{size:18}),s.filter(d=>!d.read).length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-medium",children:s.filter(d=>!d.read).length})})]}),n&&e.jsx(su,{notifications:s,onNotificationAction:o})]}),e.jsxs("div",{className:"relative jobs-panel-container",children:[e.jsx("button",{onClick:()=>{l(!i),r(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(na,{size:18})}),i&&e.jsx(nu,{jobs:a,onJobClick:c})]})]})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:Qp.map(d=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${d.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[d.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:d.label})]},d.id))})}),t]})]}),Qb=Object.freeze(Object.defineProperty({__proto__:null,default:ex},Symbol.toStringTag,{value:"Module"})),Lc=({message:t,isInDraftingTab:s=!1,draftingTask:n,customInputs:r={},customModeAssumption:a,draftingStarted:i=!1,onFileUpload:l,onStartDrafting:o,onAssumptionResponse:c,onCustomInput:d,onToggleCustomMode:m,onCancelCustomInstruction:f,onConfirmCustomInstruction:p,onEditCustomInstruction:g,onReviewDraft:v,onTaskCardClick:N})=>{var h,b;const I=u.useRef(null),y=t.type==="user";return e.jsx("div",{className:`flex ${y?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`max-w-full ${y?"order-2":"order-1"}`,children:[!y&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center mr-2",children:e.jsx(Yl,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Supio Assistant"})]}),t.isFile&&e.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-3 inline-block",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wl,{size:20,className:"text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:(h=t.file)==null?void 0:h.name}),e.jsx("div",{className:"text-sm text-gray-500",children:(b=t.file)==null?void 0:b.size})]})]})}),t.isTaskCard&&n&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 cursor-pointer hover:bg-blue-100 transition-colors max-w-2xl",onClick:N,children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ms,{size:20,className:"text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:n.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0 ${Zp(n.status)}`,children:n.status})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Started ",n.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[n.status==="Generating"&&n.phase==="drafting"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"animate-spin",size:14}),e.jsxs("span",{children:["Drafting... ",n.elapsedTime,"s"]})]}),n.status==="Needs input"&&n.phase==="assumptions"&&e.jsx("span",{children:"Verifying assumptions"}),n.status==="Needs input"&&n.phase==="upload"&&e.jsx("span",{children:"Needs reference doc"}),n.status==="Draft complete"&&e.jsx("span",{children:"Ready for review"})]}),e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Click to view →"})]})]}),!t.isFile&&!t.isTaskCard&&e.jsxs("div",{className:`rounded-lg px-4 py-3 ${y?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-800"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap",children:t.content}),t.showUpload&&s&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("input",{ref:I,type:"file",className:"hidden",accept:".pdf,.doc,.docx",onChange:l}),e.jsxs("button",{onClick:()=>{var j;return(j=I.current)==null?void 0:j.click()},className:"w-full flex flex-col items-center justify-center py-6 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Os,{size:32,className:"text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload reference complaint"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX"})]})]}),t.isAnalyzing&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Analyzing reference document and case files..."})]}),t.isAnalyzingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Analysis complete"})]}),t.showBeginDrafting&&s&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{onClick:o,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:["Begin Drafting",e.jsx(nn,{size:20,className:"ml-2"})]})}),t.isDraftingStarted&&e.jsx("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:e.jsx("span",{className:"text-sm",children:"Drafting started..."})}),t.showAssumptions&&s&&n&&n.assumptions.length>0&&e.jsx("div",{className:"mt-4 space-y-4",children:n.assumptions.map(j=>{var T;const k=n.assumptionResponses[j.id],x=k&&k.startsWith("Custom: "),M=a===j.id;return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:j.category}),k&&e.jsx(es,{size:16,className:"text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:j.assumption}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:j.question}),M?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:r[j.id]||"",onChange:S=>d==null?void 0:d(j.id,S.target.value),placeholder:"Enter your custom instruction for this aspect of the complaint...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,autoFocus:!0},j.id),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:f,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel Instruction"}),e.jsx("button",{onClick:()=>p==null?void 0:p(j.id),disabled:!((T=r[j.id])!=null&&T.trim()),className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-md transition-colors",children:"Confirm"})]})]}):x?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:k.replace("Custom: ",""),disabled:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-gray-50 text-gray-700 resize-none",rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>g==null?void 0:g(j.id),disabled:i,className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${i?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100"}`,children:"Edit"})})]}):e.jsxs("div",{className:"space-y-2",children:[j.options.map((S,w)=>e.jsx("button",{onClick:()=>!i&&(c==null?void 0:c(j.id,S)),disabled:i,className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${k===S?"bg-blue-100 text-blue-800 border border-blue-300":i?"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:S},w)),e.jsx("button",{onClick:()=>!i&&(m==null?void 0:m(j.id)),disabled:i,className:`w-full text-left px-3 py-2 rounded-md text-sm border border-gray-200 transition-colors ${i?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200"}`,children:"Provide custom instruction..."})]})]},j.id)})}),t.isDrafting&&s&&n&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{className:"animate-spin",size:16}),e.jsx("span",{className:"text-sm",children:"Drafting complaint..."}),e.jsxs("span",{className:"text-sm font-medium",children:[n.elapsedTime,"s elapsed"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Incorporating case facts and legal arguments..."})]}),t.isDraftingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Drafting completed in 30 seconds!"})]}),t.isDraftComplete&&t.actions&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.actions.map((j,k)=>e.jsxs("button",{onClick:()=>{j.label==="Review Draft"&&(v==null||v())},className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${j.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[j.icon(),e.jsx("span",{className:"ml-2",children:j.label})]},k))})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 px-1",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},Zb=Object.freeze(Object.defineProperty({__proto__:null,default:Lc},Symbol.toStringTag,{value:"Module"})),tx=({viewMode:t,setViewMode:s,notifications:n,showNotifications:r,setShowNotifications:a,jobs:i,showJobsList:l,setShowJobsList:o,onNotificationAction:c,onJobClick:d})=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Davis v. Johnson - MVA Case"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Case history"}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2 relative",children:[e.jsxs("div",{className:"relative notification-panel-container",children:[e.jsxs("button",{onClick:()=>{a(!r),o(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:[e.jsx(Hl,{size:18}),n.filter(m=>!m.read).length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-medium",children:n.filter(m=>!m.read).length})})]}),r&&e.jsx(su,{notifications:n,onNotificationAction:c})]}),e.jsxs("div",{className:"relative jobs-panel-container",children:[e.jsx("button",{onClick:()=>{o(!l),a(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(na,{size:18})}),l&&e.jsx(nu,{jobs:i,onJobClick:d})]})]})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200",children:e.jsx("div",{className:"p-4 space-y-1",children:Qp.map(m=>e.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer ${m.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[m.icon(),e.jsx("span",{className:"ml-3 text-sm font-medium",children:m.label})]},m.id))})}),e.jsxs("div",{className:"flex-1 bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"font-medium text-gray-900",children:"Complaint - Davis v. Johnson"}),e.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"98% Complete"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>s("clean"),className:`px-3 py-1 text-sm rounded ${t==="clean"?"bg-white shadow-sm":"text-gray-600"}`,children:"Clean View"}),e.jsx("button",{onClick:()=>s("changes"),className:`px-3 py-1 text-sm rounded ${t==="changes"?"bg-white shadow-sm":"text-gray-600"}`,children:"Changes View"}),e.jsx("button",{onClick:()=>s("compare"),className:`px-3 py-1 text-sm rounded ${t==="compare"?"bg-white shadow-sm":"text-gray-600"}`,children:"Compare"})]})})]})}),e.jsxs("div",{className:"p-8 prose max-w-none overflow-auto",children:[e.jsxs("h1",{className:"text-center text-2xl font-bold mb-8",children:["IN THE CIRCUIT COURT OF SPRINGFIELD COUNTY",e.jsx("br",{}),"STATE OF ILLINOIS, LAW DIVISION"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"font-bold",children:"SARAH DAVIS,"}),e.jsx("p",{className:"ml-8",children:"Plaintiff,"}),e.jsx("p",{className:"mt-2",children:"v."}),e.jsx("p",{className:"mt-2 font-bold",children:"MICHAEL JOHNSON,"}),e.jsxs("p",{className:"font-bold",children:["and ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),","]}),e.jsx("p",{className:"ml-8",children:"Defendants."})]}),e.jsx("h2",{className:"text-center font-bold text-xl mb-6",children:"COMPLAINT AT LAW"}),e.jsxs("p",{className:"mb-4",children:["NOW COMES the Plaintiff, ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"}),", by and through undersigned counsel, and brings this Complaint against Defendants ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," and"," ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY - needs confirmation]"}),", and in support states as follows:"]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"PARTIES"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",children:[e.jsxs("li",{children:["Plaintiff ",e.jsx("span",{className:"font-semibold",children:"SARAH DAVIS"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:["Defendant ",e.jsx("span",{className:"font-semibold",children:"MICHAEL JOHNSON"})," is an individual residing in Springfield County, Illinois."]}),e.jsxs("li",{children:[t==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant XYZ INSURANCE is a corporation..."}),e.jsxs("span",{className:t==="changes"?"bg-blue-100":"",children:["Defendant ",e.jsx("span",{className:"bg-yellow-200",children:"[INSURANCE COMPANY]"})," is believed to be the insurance carrier for Defendant MICHAEL JOHNSON."]})]})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"FACTS"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:4,children:[e.jsxs("li",{children:["On ",e.jsx("span",{className:"font-semibold",children:"March 15, 2024"}),", at approximately 2:30 PM, Plaintiff was lawfully operating her motor vehicle eastbound on Oak Street in Springfield, Illinois."]}),e.jsx("li",{children:"At said time and place, Defendant MICHAEL JOHNSON was operating his motor vehicle westbound on Oak Street, approaching the intersection with Main Street."}),e.jsxs("li",{children:[t==="changes"&&e.jsx("span",{className:"line-through text-gray-400",children:"Defendant JOHNSON was under the influence of alcohol..."}),e.jsx("span",{className:t==="changes"?"bg-blue-100":"",children:"Defendant JOHNSON was distracted by his mobile device and failed to observe the traffic signal at the intersection of Oak Street and Main Street, running a red light."})]}),e.jsx("li",{children:"As a direct result of Defendant JOHNSON's negligent operation of his vehicle, his vehicle collided with Plaintiff's vehicle in the intersection, causing significant damage and injuries to Plaintiff."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"COUNT I - NEGLIGENCE"}),e.jsx("p",{className:"mb-2",children:"(Against Defendant MICHAEL JOHNSON)"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",start:8,children:[e.jsx("li",{children:"Plaintiff realleges and incorporates paragraphs 1 through 7 as if fully set forth herein."}),e.jsx("li",{children:"Defendant JOHNSON owed a duty to Plaintiff and other motorists to operate his vehicle in a safe and reasonable manner, including obeying traffic control devices."}),e.jsx("li",{children:"Defendant JOHNSON breached said duty by operating his vehicle while distracted by his mobile device, failing to observe the traffic signal, and running a red light."}),e.jsx("li",{children:"As a direct and proximate result of Defendant JOHNSON's negligence, Plaintiff sustained serious injuries including back injuries requiring ongoing treatment, totaling $47,500 in medical expenses."})]}),e.jsx("h3",{className:"font-bold mt-6 mb-3",children:"WHEREFORE"}),e.jsx("p",{className:"mb-4",children:"WHEREFORE, Plaintiff SARAH DAVIS respectfully requests that this Honorable Court enter judgment in her favor and against Defendant MICHAEL JOHNSON for damages in excess of $50,000, together with costs of suit, and for such other relief as this Court deems just and proper."}),e.jsxs("div",{className:"mt-8 text-right",children:[e.jsx("p",{className:"mb-2",children:"Respectfully submitted,"}),e.jsx("p",{className:"mb-4",children:"SARAH DAVIS, Plaintiff"}),e.jsx("p",{children:"By: _________________________"}),e.jsx("p",{children:"[Attorney Name]"}),e.jsx("p",{children:"[Attorney Information]"})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50",children:"Find Next Gap"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept All Changes"}),e.jsx("button",{className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Export"})]})]})]}),e.jsxs("div",{className:"w-96 space-y-4 p-4 bg-gray-50 overflow-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Fill Gaps"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Insurance Company Name"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Page 1, Parties section"}),e.jsx("input",{type:"text",placeholder:"Enter insurance company name...",className:"mt-2 w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"2 more items need input"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Strategic Adaptations"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Simplified defendant structure"}),e.jsx("p",{className:"text-gray-600",children:"Focused on individual defendant rather than commercial entity"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Updated jurisdiction"}),e.jsx("p",{className:"text-gray-600",children:"Changed venue to Springfield County based on case location"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Incorporated medical damages"}),e.jsx("p",{className:"text-gray-600",children:"Included $47,500 in medical expenses from case files"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Adapted fact pattern"}),e.jsx("p",{className:"text-gray-600",children:"Updated accident location and circumstances to match Davis v. Johnson case"})]})]})]})]})]})]})]}),Xb=Object.freeze(Object.defineProperty({__proto__:null,default:tx},Symbol.toStringTag,{value:"Module"})),sx=()=>{const{messages:t,setMessages:s,inputValue:n,setInputValue:r,currentPhase:a,viewMode:i,setViewMode:l,activeChatTab:o,setActiveChatTab:c,chatTabs:d,draftingTask:m,setDraftingTask:f,draftingStarted:p,setDraftingStarted:g,customInputs:v,setCustomInputs:N,customModeAssumption:I,setCustomModeAssumption:y,setEditingCustomAssumption:h,setOriginalResponseBeforeEdit:b,showNotifications:j,setShowNotifications:k,showJobsList:x,setShowJobsList:M,jobs:T,notifications:S,messagesEndRef:w,closeTab:L,reopenDraftingTab:X,addJob:F,updateJob:O,handleJobClick:_,addNotification:oe,handleNotificationAction:Se,addAssistantMessage:G,createDraftingTask:B,handleReviewDraft:W}=Wb(),{presentAssumptions:le,handleAssumptionResponse:de,handleCustomInput:we,toggleCustomMode:Re,cancelCustomInstruction:Ye,confirmCustomInstruction:Ae,editCustomInstruction:me}=Yb(m,f,v,N,I,y,h,b),{handleFileUpload:Ke,startDrafting:Y}=Kb(m,f,g,F,O,oe,le),U=()=>{if(n.trim()==="")return;const ke={id:Date.now(),type:"user",content:n,timestamp:new Date};o==="main"?(s(Q=>[...Q,ke]),a==="initial"&&n.toLowerCase().includes("draft")&&n.toLowerCase().includes("complaint")?setTimeout(()=>{G("I'll create a new drafting session for your complaint.",{isTaskCard:!0,taskType:"complaint-draft"}),B()},1e3):a==="initial"&&setTimeout(()=>{G("I can help you with various tasks including drafting legal documents, analyzing case files, or answering questions about your case. What would you like to work on?")},1e3)):ge(ke),r("")},ge=ke=>{if(!m)return;const Q={...m,messages:[...m.messages,ke]};f(Q)},Ce=()=>{m&&(X(),setTimeout(()=>{var ke;(ke=w.current)==null||ke.scrollIntoView({behavior:"smooth"})},100))};return m&&m.phase==="review"?e.jsx(tx,{viewMode:i,setViewMode:l,notifications:S,showNotifications:j,setShowNotifications:k,jobs:T,showJobsList:x,setShowJobsList:M,onNotificationAction:Se,onJobClick:_}):e.jsxs(ex,{notifications:S,showNotifications:j,setShowNotifications:k,jobs:T,showJobsList:x,setShowJobsList:M,onNotificationAction:Se,onJobClick:_,children:[e.jsx("div",{className:"flex-1 bg-white p-6",children:e.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 h-40",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-64 mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"}),e.jsx("div",{className:"bg-gray-200 rounded h-20"})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-56 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-4/5"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})]})]})}),e.jsxs("div",{className:"w-[35%] border-l border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex",children:d.map(ke=>e.jsxs("div",{className:`flex-1 flex items-center border-r border-gray-200 last:border-r-0 ${o===ke.id?"bg-white text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx("button",{onClick:()=>c(ke.id),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors text-left",children:e.jsxs("span",{className:"flex items-center",children:[ke.title,ke.type==="drafting"&&m&&e.jsx("span",{className:`ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${Zp(m.status)}`,children:m.status==="Generating"&&m.phase==="drafting"?"generating":m.status==="Needs input"?"input needed":m.status==="Draft complete"?"complete":m.status})]})}),ke.type!=="main"&&e.jsx("button",{onClick:Q=>{Q.stopPropagation(),L(ke.id)},className:"p-1 mr-2 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(ut,{size:14})})]},ke.id))})}),o==="main"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-4",children:[t.map(ke=>e.jsx(Lc,{message:ke,draftingTask:m,onTaskCardClick:Ce},ke.id)),e.jsx("div",{ref:w})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,onChange:ke=>r(ke.target.value),onKeyPress:ke=>ke.key==="Enter"&&U(),placeholder:a==="initial"?"Ask me to help draft a complaint...":"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:U,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e.jsx(yn,{size:16})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsxs("div",{className:"space-y-4",children:[m&&m.messages.map(ke=>e.jsx(Lc,{message:ke,isInDraftingTab:!0,draftingTask:m,customInputs:v,customModeAssumption:I,draftingStarted:p,onFileUpload:Ke,onStartDrafting:()=>Y(le),onAssumptionResponse:de,onCustomInput:we,onToggleCustomMode:Re,onCancelCustomInstruction:Ye,onConfirmCustomInstruction:Ae,onEditCustomInstruction:me,onReviewDraft:W},ke.id)),e.jsx("div",{ref:w})]})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,onChange:ke=>r(ke.target.value),onKeyPress:ke=>ke.key==="Enter"&&U(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:U,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e.jsx(yn,{size:16})})]})})]})]})]})},ej=Object.freeze(Object.defineProperty({__proto__:null,default:sx},Symbol.toStringTag,{value:"Module"})),tj=()=>e.jsx(sx,{}),nx=Object.freeze(Object.defineProperty({__proto__:null,default:tj},Symbol.toStringTag,{value:"Module"})),Km=[{id:1,name:"Demand Letter - MVA",creator:"Sarah Chen",dateCreated:"2024-08-10",lastModified:"2024-08-14",description:"Motor vehicle accident demand letter template",sectionCount:7,sections:[{id:1,name:"Introduction",tag:"SEC_INTRO",isExpanded:!0,steps:[{id:1,type:"text",content:"We represent [CLIENT_NAME] in connection with the motor vehicle accident that occurred on [ACCIDENT_DATE] at [ACCIDENT_LOCATION]. This letter serves as formal notice of our client's claim and demand for settlement.",action:"append",parameters:{}}]},{id:2,name:"Incident Description",tag:"SEC_INCIDENT",isExpanded:!0,steps:[{id:2,type:"resource",resourceId:"chronology",action:"append",parameters:{event_types:["Incident"],format:"Narrative"}}]},{id:3,name:"Liability",tag:"SEC_LIABILITY",isExpanded:!0,steps:[{id:3,type:"text",content:"The facts clearly establish that your insured was negligent and solely responsible for this motor vehicle collision.",action:"append",parameters:{}},{id:4,type:"resource",resourceId:"chronology",action:"append",parameters:{event_types:["Incident"],format:"Narrative"}},{id:5,type:"prompt",prompt:"Analyze the police report for liability factors. Include specific citations to the police report, witness statements, traffic violations, and any admissions of fault. Focus on establishing clear negligence.",action:"append",parameters:{}}]},{id:4,name:"Medical Treatment",tag:"SEC_MEDICAL",isExpanded:!0,steps:[{id:6,type:"resource",resourceId:"medical_records",action:"append",parameters:{record_types:["Emergency Room Reports","Discharge Summaries","Progress Notes"],include_diagnoses:!0}},{id:7,type:"prompt",prompt:"Focus on motor vehicle accident injuries. Highlight emergency treatment, ongoing therapy, and prognosis. Emphasize the connection between the collision and all injuries.",action:"append",parameters:{}}]},{id:5,name:"Damages - Pain and Suffering",tag:"SEC_PAIN_SUFFERING",isExpanded:!0,steps:[{id:8,type:"prompt",prompt:"Describe the client's pain and suffering from the motor vehicle accident, including physical pain from injuries, emotional trauma from the crash, loss of enjoyment of life, and impact on daily activities. Include specific examples of how the collision has affected driving, work, and family life.",action:"append",parameters:{}}]},{id:6,name:"Economic Damages",tag:"SEC_ECONOMIC",isExpanded:!0,steps:[{id:9,type:"text",content:"Our client has incurred the following economic damages as a direct result of your insured's negligence:",action:"append",parameters:{}},{id:10,type:"prompt",prompt:"List all economic damages including medical expenses, lost wages, vehicle damage and rental costs, and future medical costs. Include specific dollar amounts where available.",action:"append",parameters:{}}]},{id:7,name:"Settlement Demand",tag:"SEC_DEMAND",isExpanded:!0,steps:[{id:11,type:"text",content:"In consideration of the foregoing, we demand settlement in the amount of $[DEMAND_AMOUNT]. This demand is valid for thirty (30) days from the date of this letter.",action:"append",parameters:{}}]}]},{id:2,name:"Demand Letter - Premises Liability",creator:"Michael Rodriguez",dateCreated:"2024-08-08",lastModified:"2024-08-12",description:"Premises liability demand letter template",sectionCount:7,sections:[{id:1,name:"Introduction",tag:"SEC_INTRO",isExpanded:!0,steps:[{id:1,type:"text",content:"We represent [CLIENT_NAME] regarding the premises liability incident that occurred on [INCIDENT_DATE] at [PROPERTY_ADDRESS]. This letter constitutes formal notice of our client's claim.",action:"append",parameters:{}}]},{id:2,name:"Incident Description",tag:"SEC_INCIDENT",isExpanded:!0,steps:[{id:2,type:"resource",resourceId:"chronology",action:"append",parameters:{event_types:["Incident"],format:"Narrative"}}]},{id:3,name:"Liability",tag:"SEC_LIABILITY",isExpanded:!0,steps:[{id:3,type:"text",content:"As the property owner/occupier, your insured owed a duty of care to maintain the premises in a reasonably safe condition and breached that duty.",action:"append",parameters:{}},{id:4,type:"resource",resourceId:"chronology",action:"append",parameters:{event_types:["Incident"],format:"Narrative"}},{id:5,type:"prompt",prompt:"Analyze liability for premises accidents. Include specific dangerous conditions, lack of warnings, failure to inspect or repair, notice issues, and relevant safety standards. Cite any incident reports or inspection records.",action:"append",parameters:{}}]},{id:4,name:"Medical Treatment",tag:"SEC_MEDICAL",isExpanded:!0,steps:[{id:6,type:"resource",resourceId:"medical_records",action:"append",parameters:{record_types:["Emergency Room Reports","Diagnostic Results","Progress Notes"],include_diagnoses:!0}},{id:7,type:"prompt",prompt:"Focus on premises liability injuries. Highlight emergency treatment for slip/fall or impact injuries, ongoing rehabilitation, and prognosis. Emphasize the connection between the dangerous condition and all injuries.",action:"append",parameters:{}}]},{id:5,name:"Damages - Pain and Suffering",tag:"SEC_PAIN_SUFFERING",isExpanded:!0,steps:[{id:8,type:"prompt",prompt:"Detail the client's pain and suffering from the premises accident, including physical pain from the fall/injury, emotional trauma, loss of enjoyment of life, and ongoing limitations. Include specific examples of how the incident has affected daily activities, mobility, and confidence in public spaces.",action:"append",parameters:{}}]},{id:6,name:"Economic Damages",tag:"SEC_ECONOMIC",isExpanded:!0,steps:[{id:9,type:"text",content:"Our client has incurred the following economic damages as a direct result of the dangerous condition on your property:",action:"append",parameters:{}},{id:10,type:"prompt",prompt:"Calculate and list all economic losses including medical bills, lost income, future treatment costs, and any damaged property. Provide supporting documentation references.",action:"append",parameters:{}}]},{id:7,name:"Settlement Demand",tag:"SEC_DEMAND",isExpanded:!0,steps:[{id:11,type:"text",content:"Therefore, we demand settlement in the amount of $[DEMAND_AMOUNT] to resolve this matter. This offer remains open for thirty (30) days from the date of this correspondence.",action:"append",parameters:{}}]}]},{id:3,name:"Expert Disclosure",creator:"Jennifer Liu",dateCreated:"2024-08-05",lastModified:"2024-08-11",description:"Expert Disclosure - CO",sectionCount:4,sections:[{id:1,name:"Expert Identification",tag:"SEC_EXPERT_ID",isExpanded:!0,steps:[{id:1,type:"text",content:"Pursuant to C.R.C.P. 26(a)(2), Plaintiff hereby discloses the following expert witnesses who may be called to testify at trial:",action:"append",parameters:{}},{id:2,type:"resource",resourceId:"witness_list",action:"append",parameters:{witness_types:["Expert Witnesses"],include_summary:!1,sort_by:"Type"}}]},{id:2,name:"Medical Providers",tag:"SEC_PROVIDERS",isExpanded:!0,steps:[{id:3,type:"text",content:"The following treating physicians and healthcare providers may testify regarding their observations, treatment, and opinions:",action:"append",parameters:{}},{id:4,type:"resource",resourceId:"providers_list",action:"append",parameters:{provider_types:["Doctors","Physical Therapists"],include_summary:!0,sort_by:"First Date Seen"}},{id:5,type:"prompt",prompt:"Summarize the anticipated testimony and opinions of each treating provider, including their qualifications, the subject matter of their testimony, and the substance of their expected opinions.",action:"append",parameters:{}},{id:6,type:"prompt",prompt:"Detail each provider's education, training, experience, publications, and professional certifications that qualify them to offer opinions in this case.",action:"append",parameters:{}}]},{id:3,name:"Expert Witnesses",tag:"SEC_EXPERTS",isExpanded:!0,steps:[{id:7,type:"resource",resourceId:"witness_list",action:"append",parameters:{witness_types:["Expert Witnesses"],include_summary:!1,sort_by:"Type"}},{id:8,type:"prompt",prompt:"Summarize the anticipated testimony and opinions of each non-treating expert witness, including their qualifications and the substance of their expected opinions.",action:"append",parameters:{}}]},{id:4,name:"Reservation of Rights",tag:"SEC_RESERVATION",isExpanded:!0,steps:[{id:9,type:"text",content:"Plaintiff reserves the right to supplement this disclosure as discovery progresses and to call any expert disclosed by Defendant as a rebuttal witness.",action:"append",parameters:{}}]}]},{id:4,name:"Complaint",creator:"David Thompson",dateCreated:"2024-08-01",lastModified:"2024-08-09",description:"Complaint - CO",sectionCount:6,sections:[{id:1,name:"Caption and Parties",tag:"SEC_CAPTION",isExpanded:!0,steps:[{id:1,type:"text",content:"IN THE DISTRICT COURT IN AND FOR [COUNTY] COUNTY, COLORADO",action:"append",parameters:{}},{id:2,type:"resource",resourceId:"key_entities",action:"append",parameters:{entity_types:["Plaintiffs","Defendants"],include_contact:!1,include_roles:!0}}]},{id:2,name:"Jurisdiction and Venue",tag:"SEC_JURISDICTION",isExpanded:!0,steps:[{id:3,type:"text",content:"This Court has jurisdiction over this matter pursuant to C.R.S. § [STATUTE]. Venue is proper in this judicial district pursuant to C.R.C.P. 98.",action:"append",parameters:{}}]},{id:3,name:"Factual Background",tag:"SEC_FACTS",isExpanded:!0,steps:[{id:4,type:"resource",resourceId:"chronology",action:"append",parameters:{event_types:["Incident","Legal"],format:"Narrative",date_range:"All Events"}},{id:5,type:"prompt",prompt:"Organize factual allegations into numbered paragraphs. Include key dates, locations, and circumstances that support your causes of action.",action:"append",parameters:{}}]},{id:4,name:"Legal Theories and Claims",tag:"SEC_CLAIMS",isExpanded:!0,steps:[{id:6,type:"text",content:"Plaintiff realleges and incorporates by reference all preceding paragraphs as if fully set forth herein.",action:"append",parameters:{}},{id:7,type:"resource",resourceId:"legal_issues",action:"append",parameters:{analysis_depth:"Include Case Law",jurisdiction:"Colorado State"}},{id:8,type:"prompt",prompt:"Draft causes of action based on the legal theories identified. For each claim, plead all required elements with specific factual support. Use separate numbered counts as needed.",action:"append",parameters:{}}]},{id:5,name:"Damages",tag:"SEC_DAMAGES",isExpanded:!0,steps:[{id:9,type:"text",content:"As a direct and proximate result of Defendant's conduct, Plaintiff has suffered and will continue to suffer damages including but not limited to:",action:"append",parameters:{}},{id:10,type:"prompt",prompt:"Plead damages comprehensively including economic losses, pain and suffering, and any punitive damages if applicable. Be specific but not excessive.",action:"append",parameters:{}}]},{id:6,name:"Prayer for Relief",tag:"SEC_PRAYER",isExpanded:!0,steps:[{id:11,type:"text",content:"WHEREFORE, Plaintiff respectfully requests that this Court enter judgment in favor of Plaintiff and against Defendant for:",action:"append",parameters:{}},{id:12,type:"prompt",prompt:"Draft specific prayer for relief including monetary damages, injunctive relief if applicable, attorney fees, costs, and general relief clause.",action:"append",parameters:{}}]}]}],sj=["Jane Doe v. Acme Corp","Smith v. Johnson Medical","Estate of Williams","Rodriguez v. City of Springfield"],$c=[{id:"case_summary",name:"Case Summary",icon:Qe,description:"Generate a summary of the case",parameters:[{id:"length",name:"Length",type:"select",options:["Brief (1 paragraph)","Standard (2-3 paragraphs)","Detailed (full page)"],default:"Standard (2-3 paragraphs)"},{id:"focus",name:"Focus Areas",type:"multiselect",options:["Liability","Damages","Timeline","Key Players","Medical Issues"],default:[]},{id:"prompt",name:"Additional Instructions",type:"prompt",placeholder:"e.g., Emphasize the defendant's negligence and focus on emotional impact",default:""}]},{id:"key_entities",name:"Key Entities",icon:Cl,description:"Extract key people and organizations",parameters:[{id:"entity_types",name:"Entity Types",type:"multiselect",options:["Plaintiffs","Defendants","Witnesses","Experts","Medical Providers","Insurance Companies"],default:["Plaintiffs","Defendants"]},{id:"include_contact",name:"Include Contact Info",type:"checkbox",default:!0},{id:"include_roles",name:"Include Roles/Relationships",type:"checkbox",default:!0}]},{id:"chronology",name:"Chronology Events",icon:Aa,description:"List events in chronological order",parameters:[{id:"date_range",name:"Date Range",type:"select",options:["All Events","Last 30 Days","Last 90 Days","Last Year","Custom Range"],default:"All Events"},{id:"event_types",name:"Event Types",type:"multiselect",options:["Medical","Legal","Communication","Incident","Treatment"],default:[]},{id:"format",name:"Format",type:"select",options:["Bulleted List","Table","Narrative"],default:"Bulleted List"}]},{id:"case_facts",name:"Case Facts",icon:Eb,description:"Extract important case facts",parameters:[{id:"fact_categories",name:"Categories",type:"multiselect",options:["Disputed Facts","Undisputed Facts","Key Evidence","Witness Statements"],default:["Undisputed Facts"]},{id:"priority",name:"Priority Level",type:"select",options:["All Facts","High Priority Only","High and Medium Priority"],default:"All Facts"},{id:"prompt",name:"Extraction Focus",type:"prompt",placeholder:"e.g., Focus on facts that establish causation and timeline inconsistencies",default:""}]},{id:"medical_records",name:"Medical Records Summary",icon:Gt,description:"Summarize medical records",parameters:[{id:"providers",name:"Filter by Provider",type:"text",placeholder:"e.g., Springfield General Hospital",default:""},{id:"record_types",name:"Record Types",type:"multiselect",options:["Discharge Summaries","Operative Reports","Progress Notes","Diagnostic Results","Prescriptions"],default:[]},{id:"include_diagnoses",name:"Include Diagnosis Codes",type:"checkbox",default:!1}]},{id:"providers_list",name:"Providers List",icon:Cl,description:"Generate list of providers",parameters:[{id:"provider_types",name:"Provider Types",type:"multiselect",options:["Doctors","Physical Therapists","Chiropractors","All"],default:["Doctors"]},{id:"include_summary",name:"Include Testimony Summary",type:"checkbox",default:!1},{id:"sort_by",name:"Sort By",type:"select",options:["Name","Facility","Type","First Date Seen"],default:"Relevance"}]},{id:"financials",name:"Financials",icon:Hp,description:"Access extracted financial information including bills, liens, and payment details",parameters:[{id:"financial_types",name:"Financial Types",type:"multiselect",options:["Bills","Liens","Payments","Outstanding Balances","Insurance Claims"],default:["Bills"]},{id:"filter_by_provider",name:"Filter by Provider",type:"text",placeholder:"e.g., Springfield Medical Center",default:""},{id:"filter_by_physician",name:"Filter by Physician",type:"text",placeholder:"e.g., Dr. Smith",default:""},{id:"min_amount",name:"Minimum Amount",type:"text",placeholder:"e.g., 500",default:""},{id:"max_amount",name:"Maximum Amount",type:"text",placeholder:"e.g., 10000",default:""},{id:"status_filter",name:"Payment Status",type:"multiselect",options:["Paid","Unpaid","Partially Paid","In Collections"],default:["Unpaid","Partially Paid"]},{id:"include_details",name:"Include Financial Details",type:"checkbox",default:!0},{id:"prompt",name:"Additional Filters",type:"prompt",placeholder:"e.g., Focus on bills related to the accident date range or specific injury treatment",default:""}]}],rx=({onCreateNew:t,onSelectBlueprint:s})=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Blueprint Library"}),e.jsxs("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"New Blueprint"]})]})})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Blueprints"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and organize your document blueprints"})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-700",children:[e.jsx("div",{className:"col-span-4",children:"Name"}),e.jsx("div",{className:"col-span-2",children:"Creator"}),e.jsx("div",{className:"col-span-2",children:"Created"}),e.jsx("div",{className:"col-span-2",children:"Modified"}),e.jsx("div",{className:"col-span-1",children:"Sections"}),e.jsx("div",{className:"col-span-1",children:"Actions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:Km.map(n=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 hover:bg-gray-50 cursor-pointer group",onClick:()=>s(n),children:[e.jsx("div",{className:"col-span-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-sm text-gray-500",children:n.description})]})]})}),e.jsx("div",{className:"col-span-2 text-sm text-gray-600",children:n.creator}),e.jsx("div",{className:"col-span-2 text-sm text-gray-600",children:new Date(n.dateCreated).toLocaleDateString()}),e.jsx("div",{className:"col-span-2 text-sm text-gray-600",children:new Date(n.lastModified).toLocaleDateString()}),e.jsx("div",{className:"col-span-1 text-sm text-gray-600",children:n.sectionCount}),e.jsx("div",{className:"col-span-1",children:e.jsx("button",{onClick:r=>{r.stopPropagation()},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-gray-400 hover:text-gray-600",children:e.jsx(Ob,{className:"w-4 h-4"})})})]},n.id))}),Km.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No blueprints yet"}),e.jsxs("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 inline-flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Create Your First Blueprint"]})]})]})]})})]}),nj=Object.freeze(Object.defineProperty({__proto__:null,default:rx},Symbol.toStringTag,{value:"Module"})),rj=()=>{const[t,s]=u.useState(null),n=u.useRef({});return{activeTextStep:t,setActiveTextStep:s,textAreaRefs:n,copyToClipboard:a=>{navigator.clipboard.writeText(a).then(()=>{})}}},ax=({stepId:t,textAreaRef:s})=>{const n=(r,a=null)=>{if(!s.current)return;const i=s.current,l=i.selectionStart,o=i.selectionEnd,c=i.value.substring(l,o),d=i.value.substring(0,l),m=i.value.substring(o);let f="";switch(r){case"bold":f=c?`**${c}**`:"**bold text**";break;case"italic":f=c?`*${c}*`:"*italic text*";break;case"underline":f=c?`<u>${c}</u>`:"<u>underlined text</u>";break;case"bulletList":f=c?`• ${c}`:"• List item";break;case"numberedList":f=c?`1. ${c}`:"1. List item";break;case"fontSize":f=c?`<span style="font-size: ${a}">${c}</span>`:`<span style="font-size: ${a}">text</span>`;break;default:return}const p=d+f+m;i.value=p,i.dispatchEvent(new Event("input",{bubbles:!0}));const g=l+f.length;setTimeout(()=>{i.focus(),i.setSelectionRange(g,g)},0)};return e.jsxs("div",{className:"border border-gray-300 rounded-t-md bg-gray-50 px-3 py-2 flex items-center gap-1 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-2",children:[e.jsx("button",{onClick:()=>n("bold"),className:"p-1 hover:bg-gray-200 rounded text-gray-700",title:"Bold",children:e.jsx(wb,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n("italic"),className:"p-1 hover:bg-gray-200 rounded text-gray-700",title:"Italic",children:e.jsx(Ib,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n("underline"),className:"p-1 hover:bg-gray-200 rounded text-gray-700",title:"Underline",children:e.jsx($b,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-2",children:[e.jsx("button",{onClick:()=>n("bulletList"),className:"p-1 hover:bg-gray-200 rounded text-gray-700",title:"Bullet List",children:e.jsx(ra,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n("numberedList"),className:"p-1 hover:bg-gray-200 rounded text-gray-700",title:"Numbered List",children:e.jsx(Tb,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("select",{onChange:r=>n("fontSize",r.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",defaultValue:"",children:[e.jsx("option",{value:"",children:"Font Size"}),e.jsx("option",{value:"12px",children:"12px"}),e.jsx("option",{value:"14px",children:"14px"}),e.jsx("option",{value:"16px",children:"16px"}),e.jsx("option",{value:"18px",children:"18px"}),e.jsx("option",{value:"20px",children:"20px"}),e.jsx("option",{value:"24px",children:"24px"})]})})]})},aj=Object.freeze(Object.defineProperty({__proto__:null,default:ax},Symbol.toStringTag,{value:"Module"})),ix=({resource:t,step:s,section:n,updateStepParameter:r})=>!t.parameters||t.parameters.length===0?null:e.jsx("div",{className:"mt-3 space-y-3 p-3 bg-gray-50 rounded-md",children:t.parameters.map(a=>{var l,o,c;const i=((l=s.parameters)==null?void 0:l[a.id])??a.default;switch(a.type){case"select":return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:a.name}),e.jsx("select",{value:i,onChange:d=>r(n.id,s.id,a.id,d.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:(o=a.options)==null?void 0:o.map(d=>e.jsx("option",{value:d,children:d},d))})]},a.id);case"multiselect":return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:a.name}),e.jsx("div",{className:"space-y-1",children:(c=a.options)==null?void 0:c.map(d=>e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",checked:i.includes(d),onChange:m=>{const f=m.target.checked?[...i,d]:i.filter(p=>p!==d);r(n.id,s.id,a.id,f)},className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:d})]},d))})]},a.id);case"checkbox":return e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:d=>r(n.id,s.id,a.id,d.target.checked),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:a.name})]},a.id);case"text":return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:a.name}),e.jsx("input",{type:"text",value:i,onChange:d=>r(n.id,s.id,a.id,d.target.value),placeholder:a.placeholder,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},a.id);case"prompt":return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:a.name}),e.jsx("textarea",{value:i,onChange:d=>r(n.id,s.id,a.id,d.target.value),placeholder:a.placeholder,rows:3,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},a.id);default:return null}})}),ij=Object.freeze(Object.defineProperty({__proto__:null,default:ix},Symbol.toStringTag,{value:"Module"})),lx=({section:t,step:s,isFirst:n,stepIndex:r,activeTextStep:a,setActiveTextStep:i,textAreaRefs:l,updateStep:o,updateStepParameter:c,deleteStep:d})=>{const[m,f]=u.useState(!1),p=s.type==="resource"&&s.resourceId?$c.find(g=>g.id===s.resourceId):null;return e.jsxs("div",{className:"flex items-start gap-3 group",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center text-sm font-medium",children:r+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("select",{value:s.type,onChange:g=>o(t.id,s.id,{type:g.target.value,resourceId:void 0,parameters:{}}),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"resource",children:"Resource"}),e.jsx("option",{value:"prompt",children:"Prompt"})]}),!n&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:s.action,onChange:g=>o(t.id,s.id,{action:g.target.value}),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"append",children:"Append to"}),e.jsx("option",{value:"prepend",children:"Prepend to"}),e.jsx("option",{value:"replace",children:"Replace"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"previous content"})]}),e.jsx("button",{onClick:()=>d(t.id,s.id),className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity p-1 text-gray-400 hover:text-red-600",disabled:t.steps.length===1,children:e.jsx(tu,{className:"w-4 h-4"})})]}),s.type==="text"?e.jsxs("div",{children:[a===s.id&&e.jsx(ax,{stepId:s.id,textAreaRef:{current:l.current[s.id]}}),e.jsx("textarea",{ref:g=>l.current[s.id]=g,value:s.content||"",onChange:g=>o(t.id,s.id,{content:g.target.value}),onFocus:()=>i(s.id),onBlur:()=>i(null),placeholder:"Enter text content...",className:`w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${a===s.id?"rounded-b-md rounded-t-none":"rounded-md"}`,rows:3})]}):s.type==="prompt"?e.jsxs("div",{children:[e.jsx("textarea",{value:s.prompt||"",onChange:g=>o(t.id,s.id,{prompt:g.target.value}),placeholder:"Enter prompt to transform the current content...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This prompt will be applied to the current working content of this section."})]}):e.jsxs("div",{children:[p?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-300 rounded-md",children:[e.jsx("div",{className:"flex items-center gap-2",children:(()=>{const g=p.icon;return e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:p.name})]})})()}),e.jsx("button",{onClick:()=>o(t.id,s.id,{resourceId:void 0,parameters:{}}),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"w-4 h-4"})})]}),e.jsx(ix,{resource:p,step:s,section:t,updateStepParameter:c})]}):e.jsxs("button",{onClick:()=>f(!m),className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded-md text-sm text-gray-600 hover:border-gray-400 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx(Gt,{className:"w-4 h-4 inline mr-1"}),"Select Resource"]}),m&&!p&&e.jsxs("div",{className:"mt-2 p-3 bg-white border border-gray-200 rounded-md shadow-sm max-h-64 overflow-y-auto",children:[e.jsx("div",{className:"mb-2",children:e.jsx("input",{type:"text",placeholder:"Search resources...",className:"w-full px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),$c.map(g=>{const v=g.icon;return e.jsxs("button",{onClick:()=>{const N={};g.parameters.forEach(I=>{N[I.id]=I.default}),o(t.id,s.id,{resourceId:g.id,parameters:N}),f(!1)},className:"w-full text-left p-2 hover:bg-gray-50 rounded-md flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:g.name}),e.jsx("div",{className:"text-xs text-gray-500",children:g.description})]})]},g.id)})]})]})]})]})},lj=Object.freeze(Object.defineProperty({__proto__:null,default:lx},Symbol.toStringTag,{value:"Module"})),ox=({blueprintName:t,setBlueprintName:s,blueprintDescription:n,setBlueprintDescription:r,showEditDetailsModal:a,setShowEditDetailsModal:i,sections:l,selectedCase:o,setSelectedCase:c,showPreview:d,setShowPreview:m,generatedContent:f,isGenerating:p,underlayFile:g,onBack:v,onGenerate:N,onConfigureUnderlay:I,addSection:y,updateSectionName:h,deleteSection:b,toggleSection:j,moveSection:k,addStep:x,updateStep:M,updateStepParameter:T,deleteStep:S})=>{const{activeTextStep:w,setActiveTextStep:L,textAreaRefs:X,copyToClipboard:F}=rj();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",title:"Back to Blueprint Library",children:e.jsx(Up,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Blueprint Builder"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 font-medium mr-6",children:t}),e.jsxs("button",{onClick:()=>i(!0),className:"px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 border border-gray-300 rounded-md flex items-center gap-2",children:[e.jsx(Pb,{className:"w-4 h-4"}),"Edit Details"]}),e.jsxs("button",{className:"px-4 py-2 text-gray-700 hover:text-gray-900 flex items-center gap-2",children:[e.jsx(Yp,{className:"w-4 h-4"}),"Save"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:I,className:"px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-300 rounded-md flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Configure Default Underlay",g&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Default Set"]})]}),e.jsxs("button",{onClick:()=>m(!d),className:`px-4 py-2 border rounded-md flex items-center gap-2 transition-colors ${d?"border-blue-300 bg-blue-50 text-blue-700 hover:bg-blue-100":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(hn,{className:"w-4 h-4"}),d?"Hide Preview":"Show Preview"]}),e.jsxs("select",{value:o,onChange:O=>c(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a case..."}),sj.map(O=>e.jsx("option",{value:O,children:O},O))]}),e.jsxs("button",{onClick:N,disabled:!o||l.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(ni,{className:"w-4 h-4"}),"Generate"]})]})]})})}),e.jsxs("div",{className:"flex",style:{height:"calc(100vh - 4rem)"},children:[e.jsx("div",{className:`px-4 sm:px-6 lg:px-8 py-8 transition-all duration-300 overflow-y-auto ${d?"w-3/5":"w-full"}`,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Document Structure"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Build your document by adding sections and steps"})]}),e.jsx("div",{className:"p-6",children:l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No sections yet. Add your first section to get started."}),e.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 inline-flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Add Section"]})]}):e.jsxs("div",{className:"space-y-6",children:[l.map((O,_)=>e.jsxs("div",{className:"relative",children:[_>0&&e.jsx("div",{className:"absolute -top-3 left-0 right-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-gray-200 h-px flex-1"})}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{onClick:()=>j(O.id),className:"p-1 hover:bg-gray-100 rounded",children:O.isExpanded?e.jsx(Ut,{className:"w-4 h-4"}):e.jsx(nn,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:O.name,onChange:oe=>h(O.id,oe.target.value),className:"flex-1 text-lg font-medium px-2 py-1 bg-transparent border-b-2 border-transparent hover:border-gray-300 focus:border-blue-500 focus:outline-none"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-mono",children:O.tag}),e.jsx("button",{onClick:()=>F(O.tag),className:"p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-gray-600",title:"Copy tag to clipboard",children:e.jsx(Xd,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>k(_,"up"),disabled:_===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Nb,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(_,"down"),disabled:_===l.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(O.id),className:"p-1 text-gray-400 hover:text-red-600",children:e.jsx(tu,{className:"w-4 h-4"})})]})]})}),O.isExpanded&&e.jsxs("div",{className:"ml-4 space-y-4",children:[O.steps.map((oe,Se)=>e.jsx(lx,{section:O,step:oe,isFirst:Se===0,stepIndex:Se,activeTextStep:w,setActiveTextStep:L,textAreaRefs:X,updateStep:M,updateStepParameter:T,deleteStep:S},oe.id)),e.jsxs("button",{onClick:()=>x(O.id),className:"ml-11 px-3 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md flex items-center gap-1",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Add Step"]})]})]},O.id)),e.jsxs("button",{onClick:y,className:"w-full mt-6 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 flex items-center justify-center gap-2 transition-colors",children:[e.jsx(Gt,{className:"w-5 h-5"}),"Add Section"]})]})})]})}),d&&e.jsxs("div",{className:"w-2/5 bg-white shadow-xl border-l border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-6 flex-1 overflow-auto",children:p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Generating document..."})]}):f?e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap font-mono text-sm",children:f})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No content generated yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Select a case and click Generate to see a preview"})]})})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-4",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Blueprint Details"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blueprint Name"}),e.jsx("input",{type:"text",value:t,onChange:O=>s(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:n,onChange:O=>r(O.target.value),placeholder:"Add a description for this blueprint...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})]})},oj=Object.freeze(Object.defineProperty({__proto__:null,default:ox},Symbol.toStringTag,{value:"Module"})),cj=()=>{const[t,s]=u.useState("list"),[n,r]=u.useState(null),[a,i]=u.useState("New Blueprint"),[l,o]=u.useState(""),[c,d]=u.useState(!1),[m,f]=u.useState([]),[p,g]=u.useState(""),[v,N]=u.useState(!1),[I,y]=u.useState(""),[h,b]=u.useState(!1),[j,k]=u.useState(!1),[x,M]=u.useState(null),[T,S]=u.useState(!1);return{currentView:t,setCurrentView:s,currentBlueprintId:n,setCurrentBlueprintId:r,blueprintName:a,setBlueprintName:i,blueprintDescription:l,setBlueprintDescription:o,showEditDetailsModal:c,setShowEditDetailsModal:d,sections:m,setSections:f,selectedCase:p,setSelectedCase:g,showPreview:v,setShowPreview:N,generatedContent:I,setGeneratedContent:y,isGenerating:h,setIsGenerating:b,showUnderlayModal:j,setShowUnderlayModal:k,underlayFile:x,setUnderlayFile:M,showUnderlayPreview:T,setShowUnderlayPreview:S,addSection:()=>{const B={id:Date.now(),name:`Section ${m.length+1}`,tag:`SEC_${Date.now().toString(36).toUpperCase()}`,isExpanded:!0,steps:[{id:Date.now()+1,type:"text",content:"",action:"append",parameters:{}}]};f([...m,B])},updateSectionName:(B,W)=>{f(m.map(le=>le.id===B?{...le,name:W}:le))},deleteSection:B=>{f(m.filter(W=>W.id!==B))},toggleSection:B=>{f(m.map(W=>W.id===B?{...W,isExpanded:!W.isExpanded}:W))},moveSection:(B,W)=>{const le=[...m],de=W==="up"?B-1:B+1;de>=0&&de<m.length&&([le[B],le[de]]=[le[de],le[B]],f(le))},addStep:B=>{f(m.map(W=>{if(W.id===B){const le={id:Date.now(),type:"text",content:"",action:(W.steps.length===0,"append"),parameters:{}};return{...W,steps:[...W.steps,le]}}return W}))},updateStep:(B,W,le)=>{f(m.map(de=>de.id===B?{...de,steps:de.steps.map(we=>we.id===W?{...we,...le}:we)}:de))},updateStepParameter:(B,W,le,de)=>{f(m.map(we=>we.id===B?{...we,steps:we.steps.map(Re=>Re.id===W?{...Re,parameters:{...Re.parameters,[le]:de}}:Re)}:we))},deleteStep:(B,W)=>{f(m.map(le=>{if(le.id===B){const de=le.steps.filter(we=>we.id!==W);return de.length===0&&de.push({id:Date.now(),type:"text",content:"",action:"append",parameters:{}}),{...le,steps:de}}return le}))}}},dj=()=>{const[t,s]=u.useState(!1),[n,r]=u.useState("");return{isGenerating:t,generatedContent:n,generateDocument:async(i,l,o,c)=>{if(!l||o.length===0){alert("Please select a case and add at least one section to generate a document.");return}s(!0),c(!0),setTimeout(()=>{let d=`# ${i}

`;d+=`**Case:** ${l}

`,d+=`**Generated on:** ${new Date().toLocaleDateString()}

`,d+=`---

`,o.forEach((m,f)=>{d+=`## ${f+1}. ${m.name}

`,m.steps.forEach((p,g)=>{if(p.type==="text"&&p.content)d+=`${p.content}

`;else if(p.type==="prompt"&&p.prompt)d+=`[Applied prompt transformation: "${p.prompt.substring(0,50)}..."]

`,d+=`[Transformed content based on the prompt would appear here]

`;else if(p.type==="resource"){const v=$c.find(N=>N.id===p.resourceId);if(v){if(d+=`[Generated content from ${v.name}`,p.parameters){const N=Object.entries(p.parameters).filter(([I,y])=>y!==""&&y!==!1&&(Array.isArray(y)?y.length>0:!0)).map(([I,y])=>{const h=v.parameters.find(b=>b.id===I);return h?`${h.name}: ${Array.isArray(y)?y.join(", "):y}`:null}).filter(Boolean);N.length>0&&(d+=` with ${N.join(", ")}`)}switch(d+=`]

`,v.id){case"case_summary":d+=`This is a motor vehicle accident case involving the plaintiff ${l.split(" v. ")[0]} and defendant ${l.split(" v. ")[1]||"Unknown"}. The incident occurred on March 15, 2024, resulting in significant injuries to the plaintiff.

`;break;case"key_entities":d+=`• Plaintiff: ${l.split(" v. ")[0]}
• Defendant: ${l.split(" v. ")[1]||"Unknown"}
• Witness 1: John Smith
• Witness 2: Mary Johnson
• Expert: Dr. Robert Chen, MD

`;break;case"chronology":d+=`• March 15, 2024: Motor vehicle collision occurred at intersection
• March 16, 2024: Plaintiff admitted to hospital
• March 20, 2024: Initial surgery performed
• April 1, 2024: Plaintiff discharged from hospital
• April 15, 2024: Follow-up appointment with specialist

`;break;default:d+=`[Sample output from ${v.name}]

`}}}}),d+=`
`}),r(d),s(!1)},2e3)}}},uj=()=>{const t=cj(),{isGenerating:s,generatedContent:n,generateDocument:r}=dj(),a=()=>{t.setBlueprintName("New Blueprint"),t.setBlueprintDescription(""),t.setSections([]),t.setSelectedCase(""),t.setUnderlayFile(null),t.setCurrentView("builder")},i=d=>{t.setCurrentBlueprintId(d.id),t.setBlueprintName(d.name),t.setBlueprintDescription(d.description),d.sections&&t.setSections(d.sections),d.selectedCase&&t.setSelectedCase(d.selectedCase),d.underlayFile&&t.setUnderlayFile(d.underlayFile),t.setCurrentView("builder")},l=()=>{r(t.blueprintName,t.selectedCase,t.sections,t.setShowPreview)},o=d=>{var f;const m=(f=d.target.files)==null?void 0:f[0];if(m&&m.name.endsWith(".docx")){const p=t.sections.slice(0,Math.floor(t.sections.length*.7)).map(g=>g.tag);t.setUnderlayFile({name:m.name,size:`${Math.round(m.size/1024)} KB`,uploadedAt:new Date().toLocaleString(),foundTags:p})}},c=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configure Default Underlay Document"}),e.jsx("button",{onClick:()=>t.setShowUnderlayModal(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:t.underlayFile?e.jsxs("div",{children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>t.setShowUnderlayPreview(!0),className:"font-medium text-blue-600 hover:text-blue-700 hover:underline",children:t.underlayFile.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.underlayFile.size," • Uploaded ",t.underlayFile.uploadedAt]})]})]}),e.jsx("button",{onClick:()=>t.setUnderlayFile(null),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Section Mapping Status"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.sections.map((d,m)=>{var p;const f=(p=t.underlayFile)==null?void 0:p.foundTags.includes(d.tag);return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${f?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[m+1,"."]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Tag: ",d.tag]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:f?e.jsxs("span",{className:"flex items-center text-sm text-green-700",children:[e.jsx("span",{className:"w-4 h-4 mr-1",children:"✓"}),"Found"]}):e.jsxs("span",{className:"flex items-center text-sm text-red-700",children:[e.jsx(ut,{className:"w-4 h-4 mr-1"}),"Not found"]})})]},d.id)})}),t.sections.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No sections created yet. Add sections to your blueprint first."})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 cursor-pointer",children:["Replace Document",e.jsx("input",{type:"file",accept:".docx",onChange:o,className:"hidden"})]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-[75%] mx-auto",children:"Upload a .docx template file that contains section tags to map your blueprint content. This will be used as the default underlay for document generation."}),e.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Upload Document",e.jsx("input",{type:"file",accept:".docx",onChange:o,className:"hidden"})]}),e.jsxs("div",{className:"mt-6 text-left bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"How it works:"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Copy section tags from your blueprint (e.g., SEC_ABC123)"}),e.jsx("li",{children:"Place these tags in your .docx template where content should appear"}),e.jsx("li",{children:"Upload the template here to link sections to document locations"}),e.jsx("li",{children:"Generated content will replace the tags in your template"})]})]})]})})]})});return t.currentView==="list"?e.jsx(rx,{onCreateNew:a,onSelectBlueprint:i}):e.jsxs(e.Fragment,{children:[e.jsx(ox,{blueprintName:t.blueprintName,setBlueprintName:t.setBlueprintName,blueprintDescription:t.blueprintDescription,setBlueprintDescription:t.setBlueprintDescription,showEditDetailsModal:t.showEditDetailsModal,setShowEditDetailsModal:t.setShowEditDetailsModal,sections:t.sections,selectedCase:t.selectedCase,setSelectedCase:t.setSelectedCase,showPreview:t.showPreview,setShowPreview:t.setShowPreview,generatedContent:n,isGenerating:s,underlayFile:t.underlayFile,onBack:()=>t.setCurrentView("list"),onGenerate:l,onConfigureUnderlay:()=>t.setShowUnderlayModal(!0),addSection:t.addSection,updateSectionName:t.updateSectionName,deleteSection:t.deleteSection,toggleSection:t.toggleSection,moveSection:t.moveSection,addStep:t.addStep,updateStep:t.updateStep,updateStepParameter:t.updateStepParameter,deleteStep:t.deleteStep}),t.showUnderlayModal&&e.jsx(c,{})]})},cx=Object.freeze(Object.defineProperty({__proto__:null,default:uj},Symbol.toStringTag,{value:"Module"})),dx=({type:t})=>{const s=t==="deposition"?"bg-blue-50":t==="timeline"?"bg-green-50":t==="analysis"?"bg-purple-50":t==="motion"?"bg-amber-50":"bg-gray-50",n=t==="deposition"?"text-blue-800":t==="timeline"?"text-green-800":t==="analysis"?"text-purple-800":t==="motion"?"text-amber-800":"text-gray-800",r=t==="deposition"?"Q":t==="timeline"?"T":t==="analysis"?"A":t==="motion"?"M":t==="letter"?"L":"D";return e.jsx("div",{className:`w-full ${s} rounded-lg flex items-center justify-center border border-gray-200 overflow-hidden`,style:{aspectRatio:"1/1.414"},children:e.jsx("div",{className:`text-4xl font-bold ${n}`,children:r})})},mj=Object.freeze(Object.defineProperty({__proto__:null,default:dx},Symbol.toStringTag,{value:"Module"})),hj=[{id:1,name:"Complaint",description:"Generate a comprehensive civil complaint document with proper formatting, cause of action statements, and prayer for relief. Includes sections for parties, jurisdiction, factual allegations, and legal claims with customizable parameters for case-specific details.",lastUsed:"2025-05-18"},{id:2,name:"Expert Disclosure",description:"Create detailed expert witness disclosure documents with qualifications, opinions, and basis for testimony.",lastUsed:"2025-05-15"},{id:3,name:"Motion for Summary Judgement",description:"Generate comprehensive motion for summary judgment with statement of facts, legal arguments, and supporting case law.",lastUsed:"2025-05-12"},{id:4,name:"Medical Summary",description:"Compile and summarize medical records into a coherent narrative for case presentation.",lastUsed:"2025-05-10"}],fj=[{id:1,title:"Deposition Questions - John Smith",type:"Deposition",lastModified:"2025-05-15",creator:"Jane Smith",thumbnail:"deposition"},{id:2,title:"Davis v. Westfield Insurance - Timeline",type:"Timeline",lastModified:"2025-05-14",creator:"Jane Smith",thumbnail:"timeline"},{id:3,title:"Witness Statement Analysis",type:"Analysis",lastModified:"2025-05-13",creator:"Robert Johnson",thumbnail:"analysis"},{id:4,title:"Motion to Compel - ABC Corp",type:"Motion",lastModified:"2025-05-10",creator:"Jane Smith",thumbnail:"motion"},{id:5,title:"Insurance Demand Letter - Davis Case",type:"Letter",lastModified:"2025-05-08",creator:"Robert Johnson",thumbnail:"letter"}],Gm=[{id:1,title:"Jane Doe - Demand Letter (2)",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-15 13:39",editor:"Jon Bryant",size:"6.77 MB"},{id:2,title:"Jane Doe - Demand Letter (1)",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-14 12:41",editor:"Jon Bryant",size:"6.77 MB"},{id:3,title:"Jane Doe - Demand Letter",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-14 11:45",editor:"Pam Wickersham",size:"6.77 MB"},{id:4,title:"Interrogatory Responses",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-14 10:31",editor:"Dan Zhang",size:"12.60 KB"},{id:5,title:"test doc",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-13 10:22",editor:"Pam Wickersham",size:"12.60 KB"},{id:6,title:"motion to compel",path:"/Demo Law/Jane Doe MVA",lastModified:"2025-05-08 12:30",editor:"Pam Wickersham",size:"12.60 KB"}],pj=[{id:1,title:"Negligence",description:"Direct negligence claim against defendants for failure to maintain proper control of vehicle, excessive speed, and failure to avoid collision",selected:!0,keyFacts:["Defendant operated vehicle at excessive speed","Failed to maintain proper control","Failed to exercise caution at intersection","Rear-ended plaintiff's vehicle"],supportingDocs:["Police Report","Witness Statement - M. Garcia","Medical Records"]},{id:2,title:"Vicarious Liability / Respondeat Superior",description:"Employer liability for employee's negligent operation of company vehicle during course of employment",selected:!0,keyFacts:["Vehicle owned by employer (Hammer Drilling, LLC)","Operated during course of employment","Employee had permission to operate vehicle","Acting within scope of employment"],supportingDocs:["Employment Records","Vehicle Registration","Company Policy Manual"]},{id:3,title:"Negligent Entrustment",description:"Negligent entrustment of vehicle to employee driver, including negligent hiring, training, and supervision",selected:!0,keyFacts:["Employer entrusted vehicle to employee","Failed to properly train/supervise","Previous driving incidents on record","Negligent hiring practices"],supportingDocs:["HR Files","Training Records","Prior Incident Reports"]}],ru=[{id:"overview",icon:yr,label:"Overview",active:!1},{id:"timeline",icon:gr,label:"Timeline",active:!1},{id:"deep-dive",icon:ra,label:"Deep Dive",active:!1},{id:"drafting",icon:ms,label:"Drafting",active:!0},{id:"files",icon:vr,label:"Files",active:!1}],Fc=({searchQuery:t,setSearchQuery:s,documentSearchQuery:n,setDocumentSearchQuery:r,onShowBlueprintModal:a})=>{const i=[{id:"blueprint",title:"Use a Blueprint",description:"Start with a predefined workflow to generate specific document types",icon:e.jsx(Qe,{className:"h-6 w-6"}),hasCustomContent:!1},{id:"respond",title:"Build Responses",description:"Assemble responses to a list of requests or questions, e.g. interrogatories, production",icon:e.jsx(Qe,{className:"h-6 w-6"}),hasCustomContent:!0}],l=n?Gm.filter(o=>o.title.toLowerCase().includes(n.toLowerCase())):Gm;return e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Open Case History"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Print"})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:ru.map(o=>{const c=o.icon;return e.jsxs("div",{className:`flex items-center px-4 py-2 ${o.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,children:[e.jsx("div",{className:"mr-3",children:e.jsx(c,{size:18})}),e.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.id)})})}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-full xl:max-w-7xl mx-auto p-4 md:p-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Get Started"}),e.jsxs("button",{className:"flex items-center text-sm font-medium text-blue-600 hover:text-blue-800 px-3 py-1 border border-blue-500 rounded",children:[e.jsx(Qe,{size:16,className:"mr-2"}),"Create Blank Document"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700 mb-3",children:"What do you want to draft today?"}),e.jsxs("div",{className:"relative max-w-[70vw] mx-auto",children:[e.jsx("input",{type:"text",className:"block w-full rounded-md border-gray-300 border pl-4 pr-12 py-3 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-lg",placeholder:"Describe what you want to draft...",value:t,onChange:o=>s(o.target.value)}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("button",{className:"h-8 w-8 rounded bg-blue-600 flex items-center justify-center text-white",children:e.jsx(nn,{className:"h-5 w-5"})})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:i.map(o=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 transition-colors duration-150 flex flex-col",style:{width:"calc(min(400px, 30vw))",height:"350px"},children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-3",children:o.icon}),e.jsx("h3",{className:"font-medium text-lg text-gray-900 mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:o.description}),o.id==="blueprint"&&e.jsx("div",{className:"mt-auto",children:e.jsx("button",{onClick:a,className:"w-full flex items-center justify-center border border-blue-500 text-blue-600 rounded-md py-2 px-3 hover:bg-blue-50 font-medium",children:"Use Blueprint"})}),o.hasCustomContent&&o.id==="respond"&&e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center justify-center border border-blue-500 text-blue-600 rounded-md py-2 px-3 hover:bg-blue-50",children:[e.jsx(si,{size:16,className:"mr-2"}),"Upload File"]}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Supported: docx, txt, pdf"}),e.jsx("button",{className:"w-full text-gray-600 hover:text-blue-600 hover:bg-gray-100 text-sm mt-2 py-1 px-3 rounded underline underline-offset-2 transition-colors",children:"or add manually"})]})})]},o.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Recent Documents"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap gap-4",children:fj.map(o=>e.jsxs("div",{className:"cursor-pointer group",style:{width:"180px"},children:[e.jsx(dx,{type:o.thumbnail||"default"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 truncate",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.lastModified})]})]},o.id))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"All Documents"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium rounded-full px-2 py-0.5",children:"9"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"pl-9 pr-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Search documents...",value:n,onChange:o=>r(o.target.value)}),e.jsx(Hn,{className:"absolute left-3 top-2 h-4 w-4 text-gray-400"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Modified"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-blue-50 rounded-full flex items-center justify-center text-blue-700",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Supio • ",o.editor]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Last modified: ",o.lastModified]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.size}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2 justify-end",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})]})})]},o.id))})]})}),e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"1 / 25 pages"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Previous"}),e.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Next"})]})]})]})]})})]})]})},xj=Object.freeze(Object.defineProperty({__proto__:null,default:Fc},Symbol.toStringTag,{value:"Module"})),ux=()=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsx("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-lg w-full text-center",children:[e.jsx(bs,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Analyzing Case Materials"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Supio is reviewing case documents to identify potential counts of claim for your complaint. This may take a moment..."}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full w-2/3 animate-pulse"})}),e.jsx("div",{className:"text-sm text-gray-500",children:"Analyzing police reports, medical records, and witness statements..."})]})})]}),gj=Object.freeze(Object.defineProperty({__proto__:null,default:ux},Symbol.toStringTag,{value:"Module"})),mx=({identifiedCounts:t,editedCounts:s,editingCount:n,onToggleCountSelection:r,onAddCustomCount:a,onDeleteCount:i,onCountDescriptionEdit:l,setIdentifiedCounts:o,setEditingCount:c,onBack:d,onGenerateDraft:m})=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsx("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})})})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:ru.map(f=>{const p=f.icon;return e.jsxs("div",{className:`flex items-center px-4 py-2 ${f.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,children:[e.jsx("div",{className:"mr-3",children:e.jsx(p,{size:18})}),e.jsx("span",{className:"text-sm font-medium",children:f.label})]},f.id)})})}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Identified Counts of Claim"}),e.jsx("p",{className:"text-gray-600",children:"Supio has analyzed your case materials and identified the following potential counts. Review and modify as needed before generating the complaint."})]}),e.jsx("div",{className:"space-y-4 mb-6",children:t.map(f=>e.jsx("div",{className:`border rounded-lg p-4 ${f.selected?"border-blue-400 bg-blue-50":"border-gray-200 bg-white"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start flex-1",children:[e.jsx("input",{type:"checkbox",checked:f.selected,onChange:()=>r(f.id),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[f.isCustom?e.jsx("input",{type:"text",value:f.title,onChange:p=>{o(t.map(g=>g.id===f.id?{...g,title:p.target.value}:g))},className:"border-b border-gray-300 bg-transparent focus:outline-none focus:border-blue-500"}):f.title,s.has(f.id)&&e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full",children:"Edited"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>c(n===f.id?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:16,className:"inline mr-1"}),n===f.id?"Cancel":"Edit"]}),f.isCustom&&e.jsx("button",{onClick:()=>i(f.id),className:"text-red-500 hover:text-red-700",children:e.jsx(tu,{size:18})})]})]}),n===f.id?e.jsxs("div",{className:"mt-1",children:[e.jsx("textarea",{value:f.description,onChange:p=>{o(t.map(g=>g.id===f.id?{...g,description:p.target.value}:g))},className:"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-blue-500",rows:3}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>c(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>l(f.id,f.description),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("p",{className:"text-gray-600 mt-1",children:f.description}),!s.has(f.id)&&n!==f.id&&f.keyFacts.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Key Supporting Facts:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:f.keyFacts.map((p,g)=>e.jsx("li",{children:p},g))})]}),!s.has(f.id)&&n!==f.id&&f.supportingDocs.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Supporting Documents:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.supportingDocs.map((p,g)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(Qe,{size:12,className:"mr-1"}),p]},g))})]})]})]})})},f.id))}),e.jsxs("button",{onClick:a,className:"mb-6 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add Custom Count"]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-200 pt-6",children:[e.jsxs("button",{onClick:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Up,{size:16,className:"mr-2"}),"Back"]}),e.jsx("button",{onClick:m,disabled:!t.some(f=>f.selected),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate"})]})]})})]})]}),yj=Object.freeze(Object.defineProperty({__proto__:null,default:mx},Symbol.toStringTag,{value:"Module"})),hx=()=>e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsx("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-lg w-full text-center",children:[e.jsx(bs,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Generating Complaint Draft"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Supio is drafting your complaint with the selected counts. Each section is being carefully crafted based on your case facts and applicable law."}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full w-4/5 animate-pulse"})}),e.jsx("div",{className:"text-sm text-gray-500",children:"Drafting count 2 of 3: Vicarious Liability..."})]})})]}),vj=Object.freeze(Object.defineProperty({__proto__:null,default:hx},Symbol.toStringTag,{value:"Module"})),fx=({draftedComplaint:t,activeSection:s,editingSection:n,showChat:r,chatInput:a,documentTitle:i,setActiveSection:l,setEditingSection:o,setShowChat:c,setChatInput:d,setDraftedComplaint:m,onSectionEdit:f,onSaveDocument:p,onExportDocument:g})=>{const v=u.useRef({}),N=u.useRef(null),[I,y]=u.useState("section"),[h,b]=u.useState(!0),j=(x,M)=>{const T=M===1;let S="",w=1;return T||(M===2?w=12:M===3?w=17:w=12+(M-2)*5,S+=`${w}. Plaintiff repeats and re-alleges each and every allegation contained in the ${M===2?"First":"First and prior"} Count${M>2?"s":""} and incorporates the same herein as if set forth at length.

`,w++),x.title==="Negligence"?S+=`${w}. Plaintiff, [PLAINTIFF NAME] residing at [ADDRESS].

${w+1}. Defendant, [DEFENDANT 1 NAME] resides at [ADDRESS].

${w+2}. That at all times hereinafter mentioned, Defendant, [DEFENDANT 2 NAME], is a limited liability company authorized to do business in the State of New Jersey with offices at [ADDRESS].

${w+3}. Defendants John Doe(s) 1-100 and A.B.C. Corporation(s) 1-100 are fictional Defendants designated as other natural persons and/or business entities responsible, individually and/or jointly or severally, or by their agents, servants, contractors/sub-contractors, and/or employees, for the negligent ownership, lease, operation, repair, design, maintenance, use and/or supervision of the vehicle, which violently collided with the vehicle in which Plaintiff, [PLAINTIFF NAME] was a passenger in, on or about [DATE].

${w+4}. On or about [DATE], Defendant operated a motor vehicle bearing license plate number [PLATE NUMBER] which was owned by Defendant [OWNER NAME].

${w+5}. On or about [DATE], the vehicle operated by Defendant was traveling [DIRECTION] on [STREET NAME] at the intersection of [CROSS STREET], [CITY], New Jersey.

${w+6}. On or about [DATE], Defendant operated the motor vehicle with the consent and permission of the owner.

${w+7}. On or about [DATE], Plaintiff was a passenger in a motor vehicle bearing license plate number [PLATE NUMBER], which was traveling [DIRECTION] on [STREET NAME] at the intersection of [CROSS STREET], [CITY], New Jersey.

${w+8}. On or about [DATE], the vehicle Plaintiff was a passenger in was struck by the vehicle operated by Defendant.

${w+9}. Defendants, negligently caused or allowed their vehicle to violently strike the vehicle Plaintiff was a passenger in; Defendants were negligent in that they operated their vehicle at a rate of speed in excess of the rate at which care and caution would permit under the circumstances then and there existing; failing and/or omitting to have the motor vehicle under reasonable and proper control; failing and/or omitting to make use of adequate brakes and steering mechanisms; carelessly and negligently ignoring and/or permitting said vehicle to be operated in a manner contrary to and in violation of the motor vehicle statutes of the State of New Jersey; failing to exercise caution in entering a roadway; Defendants were further negligent in failing and/or omitting to take proper and suitable precautions to avoid said accident and keep safe distances between the said vehicles; and in being otherwise careless and negligent in allowing their vehicle to violently collide, causing Plaintiff to suffer permanent and severe injuries.

${w+10}. As a direct and proximate result of the aforesaid negligence, Plaintiff was severely injured in that Plaintiff incurred physical and mental injuries of a permanent, progressive and lasting character; Plaintiff was obligated to expend diverse sums of money for medical aid and attention in endeavoring to cure herself of the above injuries; Plaintiff was prevented from attending and carrying on normal activities and duties, further incurring lost wages; Plaintiff suffered and continue to suffer great pain and mental anguish.

WHEREFORE, Plaintiff demands Judgment against all Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Gross Negligence"?S+=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. Defendants' conduct went beyond ordinary negligence and constituted gross negligence in that their actions demonstrated a conscious disregard for the safety of others.

${w+2}. Defendants operated their motor vehicle in a manner that showed complete indifference to the consequences, including but not limited to: operating at excessive speeds in dangerous conditions, failing to maintain proper lookout, disregarding traffic signals and safety devices, and engaging in reckless driving behavior.

${w+3}. Defendants' gross negligence was characterized by conduct so reckless as to demonstrate a substantial lack of concern for whether an injury would result.

${w+4}. As a direct and proximate result of Defendants' gross negligence, Plaintiff sustained severe and permanent injuries, incurred substantial medical expenses, lost wages and earning capacity, and suffered significant pain and suffering.

WHEREFORE, Plaintiff demands Judgment against all Defendants for compensatory damages, punitive damages where applicable, together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Vicarious Liability / Respondeat Superior"?S+=`${w}. All Defendants were operating their respective motor vehicles with the permission of the owner.

${w+1}. All Defendants were designated as individuals responsible, individually and/or jointly or severally, or by their agents, servants, and/or employees, within the scope of their employment as the agent, servant, or employee and/or with the permission of applicable Defendants.

${w+2}. All Defendants were negligent, careless, and/or reckless not only in the hiring, training, and/or supervising, of the Defendant agents, but also negligently entrusting the vehicle to the same.

${w+3}. All Defendants are vicariously liable for the previously described behavior, conduct, recklessness, carelessness, and/or negligence of the Defendant agents.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Negligent Entrustment"?S+=`${w}. All Defendants were negligent in the operation, repair, design, maintenance, use, and/or supervision of the subject vehicles and said negligence was the cause of the aforesaid collision in which the Plaintiff was injured.

${w+1}. The negligence of the Defendants includes, but is not limited to, failing to properly maintain and repair the vehicles and allowing the vehicles to be operated in a state of improper repair on the streets and highways with the Defendants' permission, thereby causing the collision.

${w+2}. All Defendants were negligent in entrusting their motor vehicle to a driver who they knew or should have known was incompetent, reckless, or otherwise unfit to operate the motor vehicle.

${w+3}. The negligent entrustment by Defendants was a substantial factor in bringing about the collision and Plaintiff's resulting injuries.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Intentional Infliction of Emotional Distress"?S+=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. Defendants' conduct was extreme and outrageous in that they engaged in reckless and dangerous driving behavior with deliberate indifference to Plaintiff's safety and well-being.

${w+2}. Defendants' conduct went beyond all possible bounds of decency and was utterly intolerable in a civilized community, including but not limited to: engaging in aggressive driving maneuvers, deliberately endangering other motorists, and showing complete disregard for traffic safety laws.

${w+3}. Defendants' conduct was intended to cause severe emotional distress to Plaintiff, or alternatively, Defendants acted with reckless disregard as to whether their conduct would cause severe emotional distress.

${w+4}. As a direct and proximate result of Defendants' extreme and outrageous conduct, Plaintiff has suffered and continues to suffer severe emotional distress, including but not limited to anxiety, depression, post-traumatic stress disorder, and inability to operate a motor vehicle without experiencing panic attacks.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Loss of Consortium"?S+=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. At all times relevant hereto, Plaintiff was married to [SPOUSE NAME] and they enjoyed a loving, stable marital relationship with normal companionship, affection, and sexual relations.

${w+2}. As a direct and proximate result of the injuries sustained in the collision caused by Defendants' negligence, Plaintiff's spouse has been deprived of Plaintiff's companionship, affection, assistance, and consortium.

${w+3}. The injuries sustained by Plaintiff have caused a substantial interference with the marital relationship, including but not limited to: loss of companionship, loss of affection, loss of sexual relations, and loss of household services and assistance.

${w+4}. These losses are permanent in nature and will continue into the future, causing ongoing damages to the marital relationship.

WHEREFORE, [SPOUSE NAME] demands Judgment against the Defendants for loss of consortium damages, together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Premises Liability"?S+=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. At the time of the incident, Defendants owned, operated, controlled, and/or maintained the premises located at [PROPERTY ADDRESS] where the collision occurred.

${w+2}. Defendants had a duty to maintain the premises in a reasonably safe condition, including but not limited to: proper lighting of parking areas, adequate signage and traffic control devices, maintenance of roadways and walkways, and implementation of reasonable security measures.

${w+3}. Defendants breached their duty of care by failing to maintain the premises in a reasonably safe condition, including but not limited to: failing to provide adequate lighting in the parking area, failing to install proper traffic control devices, allowing dangerous conditions to exist, and failing to warn of known hazards.

${w+4}. The dangerous conditions on the premises were a substantial factor in causing the collision and Plaintiff's resulting injuries.

WHEREFORE, Plaintiff demands Judgment against the Defendants for premises liability damages, together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:x.title==="Product Liability"?S+=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. At all times relevant hereto, Defendants designed, manufactured, distributed, and/or sold the motor vehicle and/or component parts thereof that were involved in the subject collision.

${w+2}. The motor vehicle and/or its component parts were defective and unreasonably dangerous at the time they left Defendants' control, including but not limited to: defective braking systems, faulty steering mechanisms, inadequate safety restraint systems, and/or defective warning systems.

${w+3}. The defective condition of the vehicle and/or its component parts was a substantial factor in causing the collision and/or exacerbating Plaintiff's injuries.

${w+4}. Defendants failed to provide adequate warnings regarding the dangerous propensities of the vehicle and/or its component parts, despite their knowledge or constructive knowledge of such dangers.

${w+5}. Plaintiff was using the vehicle in a manner that was reasonably foreseeable to Defendants at the time of the incident.

WHEREFORE, Plaintiff demands Judgment against the Defendants for product liability damages, together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:S=`${w}. Plaintiff incorporates by reference all previous allegations as if fully set forth herein.

${w+1}. Based on the facts and circumstances of this case, including the collision on [DATE] at the intersection of [STREET NAME] and [CROSS STREET], Defendants' conduct constitutes ${x.title.toLowerCase()}.

${w+2}. Defendants breached their legal duty to Plaintiff by engaging in conduct that was unreasonable under the circumstances, including but not limited to the specific acts of negligence and/or misconduct as detailed in the previous counts.

${w+3}. As a direct and proximate result of Defendants' conduct, Plaintiff has suffered significant damages including physical injuries, medical expenses, lost wages, pain and suffering, and other economic and non-economic losses.

${w+4}. The conduct and resulting damages warrant the relief sought herein under the legal theory of ${x.title.toLowerCase()}.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`,S},k=x=>{const M=v.current[x];if(M&&N.current){const T=N.current.getBoundingClientRect(),w=M.getBoundingClientRect().top-T.top+N.current.scrollTop;N.current.scrollTo({top:w-60,behavior:"smooth"})}};return e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm",onClick:()=>c(!r),children:[e.jsx(lr,{size:16,className:"inline mr-1"}),"AI Assistant"]})})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:ru.map(x=>{const M=x.icon;return e.jsxs("div",{className:`flex items-center px-4 py-2 ${x.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,children:[e.jsx("div",{className:"mr-3",children:e.jsx(M,{size:18})}),e.jsx("span",{className:"text-sm font-medium",children:x.label})]},x.id)})})}),e.jsxs("div",{className:"flex-1 flex relative",children:[t&&e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 px-4 py-3 flex items-center justify-between bg-gray-50 sticky top-0 z-10",children:e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Document Sections"})}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{onClick:()=>{l("caption"),y("section"),k("caption")},className:`p-3 rounded cursor-pointer border transition-colors ${s==="caption"?"bg-blue-50 border-blue-200 text-blue-900":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{size:16,className:"mr-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:"Caption"})]})}),e.jsx("div",{onClick:()=>{l("introduction"),y("section"),k("introduction")},className:`p-3 rounded cursor-pointer border transition-colors ${s==="introduction"?"bg-blue-50 border-blue-200 text-blue-900":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{size:16,className:"mr-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:"Introduction"})]})}),t.counts.map((x,M)=>{var T,S;return e.jsxs("div",{className:`rounded border transition-all duration-200 ${s===x.id?"bg-blue-50 border-blue-200 shadow-sm":"border-gray-200 hover:bg-gray-50"} ${n===`${x.id}-title`?"ring-2 ring-blue-400 shadow-lg":""}`,children:[n===`${x.id}-title`?e.jsxs("div",{className:"p-4 bg-white rounded border-2 border-blue-400",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3",children:e.jsx(is,{size:14})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Edit Claim Type"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[M===0?"First":M===1?"Second":"Third"," Count"]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Legal Claim"}),e.jsx("input",{type:"text",value:x.title,onChange:w=>{m(L=>{if(!L)return L;const X={...L},F=X.counts.findIndex(O=>O.id===x.id);return F!==-1&&(X.counts[F]={...X.counts[F],title:w.target.value}),X})},onBlur:w=>{const L=w.target.value.trim();m(X=>{var _,oe;if(!X)return X;const F={...X},O=F.counts.findIndex(Se=>Se.id===x.id);if(O!==-1){const Se={...F.counts[O],title:L,keyFacts:((_=F.counts[O].supportingInfo)==null?void 0:_.keyFacts)||[],supportingDocs:((oe=F.counts[O].supportingInfo)==null?void 0:oe.documents)||[]},G=j(Se,M+1);F.counts[O]={...F.counts[O],title:L,content:G}}return F}),o(null)},onKeyPress:w=>{w.key==="Enter"?w.currentTarget.blur():w.key==="Escape"&&o(null)},placeholder:"e.g., Negligence, Gross Negligence, Product Liability",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",autoFocus:!0})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-400 flex items-center justify-center mr-2 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsxs("div",{className:"text-xs text-yellow-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Section will regenerate automatically"}),e.jsx("div",{children:"Changing the claim type will rewrite this count's legal content based on the new claim and existing case facts."})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:"Cancel"}),e.jsx("button",{onClick:w=>{var X,F,O;const L=(O=(F=(X=w.currentTarget.parentElement)==null?void 0:X.previousElementSibling)==null?void 0:F.previousElementSibling)==null?void 0:O.querySelector("input");L&&L.blur()},className:"px-4 py-1.5 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 transition-colors",children:"Save & Regenerate"})]})]}):e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 cursor-pointer",onClick:()=>{l(x.id),y("section"),k(x.id)},children:[e.jsx(Qe,{size:16,className:"mr-3 text-gray-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-sm text-gray-900",children:[M===0?"First":M===1?"Second":"Third"," Count"]}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:x.title})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s===x.id&&e.jsxs("button",{onClick:w=>{w.stopPropagation(),o(`${x.id}-title`)},className:"px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors flex items-center",title:"Edit claim type - will regenerate section content",children:[e.jsx(is,{size:12,className:"mr-1"}),"Edit Claim"]}),s===x.id&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})}),s===x.id&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-100",children:[(T=x.supportingInfo)!=null&&T.keyFacts&&x.supportingInfo.keyFacts.length>0?e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Key Facts Used"}),e.jsx("ul",{className:"space-y-1",children:x.supportingInfo.keyFacts.map((w,L)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Zt,{size:10,className:"text-green-500 mr-1 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-600",children:w})]},L))})]}):e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Key Facts"}),e.jsx("div",{className:"text-xs text-gray-500 italic",children:"No key facts specified for this claim type"})]}),(S=x.supportingInfo)!=null&&S.documents&&x.supportingInfo.documents.length>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Supporting Documents"}),e.jsx("div",{className:"space-y-1",children:x.supportingInfo.documents.map((w,L)=>e.jsxs("div",{className:"flex items-start p-2 bg-blue-50 rounded border border-blue-100",children:[e.jsx(Qe,{size:12,className:"text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-blue-800 font-medium",children:w}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[w==="Police Report"&&"Incident Report #2024-MVA-1157, Page 2-3",w==="Witness Statement - M. Garcia"&&"Deposition Transcript, Lines 45-78",w==="Medical Records"&&"Dr. Smith's Report, Sections 3.2-3.4",w==="Employment Records"&&"HR File #EMP-2024-445, Employment Contract",w==="Vehicle Registration"&&"NJ DMV Registration #ABC-123-XY",w==="Company Policy Manual"&&"Vehicle Use Policy, Section 4.2",w==="HR Files"&&"Personnel File #HR-2024-778, Background Check",w==="Training Records"&&"Driver Training Certificate, Module 3",w==="Prior Incident Reports"&&"Safety Report #SR-2023-092, Page 1"]})]})]},L))})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Supporting Documents"}),e.jsx("div",{className:"text-xs text-gray-500 italic",children:"No documents specified for this claim type"})]})]})]},x.id)}),e.jsx("div",{onClick:()=>{l("jury-demand"),y("section"),k("jury-demand")},className:`p-3 rounded cursor-pointer border transition-colors ${s==="jury-demand"?"bg-blue-50 border-blue-200 text-blue-900":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{size:16,className:"mr-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:"Jury Demand"})]})}),e.jsx("div",{onClick:()=>{l("signature"),y("section"),k("signature")},className:`p-3 rounded cursor-pointer border transition-colors ${s==="signature"?"bg-blue-50 border-blue-200 text-blue-900":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{size:16,className:"mr-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:"Signature"})]})})]})})]}),e.jsxs("div",{className:"flex-1 bg-white overflow-auto",ref:N,children:[e.jsxs("div",{className:"border-b border-gray-200 px-4 py-3 flex items-center justify-between bg-gray-50 sticky top-0 z-10",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:i}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:p,className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:[e.jsx(Yp,{size:16,className:"mr-1 inline"}),"Save"]}),e.jsx("button",{onClick:g,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700",children:"Export Document"})]})]}),e.jsx("div",{className:"p-8 max-w-4xl relative",children:t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:x=>{v.current.caption=x},className:`mb-8 p-4 rounded cursor-pointer ${s==="caption"?"bg-blue-50 border-2 border-blue-400":"hover:bg-gray-50"}`,onClick:()=>{l("caption"),y("section"),k("caption")},children:[n==="caption"?e.jsxs("div",{children:[e.jsx("textarea",{value:t.caption.content,onChange:x=>f("caption",x.target.value),className:"w-full p-2 border rounded resize-none",rows:15,autoFocus:!0}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("pre",{className:"whitespace-pre-wrap text-center font-serif",children:t.caption.content}),s==="caption"&&n!=="caption"&&e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsxs("button",{onClick:()=>o("caption"),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:14,className:"inline mr-1"}),"Edit"]})})]}),e.jsxs("div",{ref:x=>{v.current.introduction=x},className:`mb-8 p-4 rounded cursor-pointer ${s==="introduction"?"bg-blue-50 border-2 border-blue-400":"hover:bg-gray-50"}`,onClick:()=>{l("introduction"),y("section"),k("introduction")},children:[n==="introduction"?e.jsxs("div",{children:[e.jsx("textarea",{value:t.introduction.content,onChange:x=>f("introduction",x.target.value),className:"w-full p-2 border rounded resize-none",rows:3,autoFocus:!0}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("p",{className:"font-serif",children:t.introduction.content}),s==="introduction"&&n!=="introduction"&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>o("introduction"),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:14,className:"inline mr-1"}),"Edit"]})})]}),t.counts.map((x,M)=>e.jsxs("div",{ref:T=>{v.current[x.id]=T},className:`mb-8 p-4 rounded cursor-pointer ${s===x.id?"bg-blue-50 border-2 border-blue-400":"hover:bg-gray-50"}`,onClick:()=>{l(x.id),y("section"),k(x.id)},children:[e.jsxs("h3",{className:"font-bold text-center mb-4",children:[M===0?"FIRST":M===1?"SECOND":"THIRD"," COUNT - ",x.title.toUpperCase()]}),n===x.id?e.jsxs("div",{children:[e.jsx("textarea",{value:x.content,onChange:T=>f(x.id,T.target.value),className:"w-full p-2 border rounded resize-none",rows:20,autoFocus:!0}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("div",{className:"whitespace-pre-wrap font-serif",children:x.content}),s===x.id&&n!==x.id&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>o(x.id),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:14,className:"inline mr-1"}),"Edit"]})})]},x.id)),e.jsxs("div",{ref:x=>{v.current["jury-demand"]=x},className:`mb-8 p-4 rounded cursor-pointer ${s==="jury-demand"?"bg-blue-50 border-2 border-blue-400":"hover:bg-gray-50"}`,onClick:()=>{l("jury-demand"),y("section"),k("jury-demand")},children:[n==="jury-demand"?e.jsxs("div",{children:[e.jsx("textarea",{value:t.juryDemand.content,onChange:x=>f("jury-demand",x.target.value),className:"w-full p-2 border rounded resize-none",rows:5,autoFocus:!0}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("pre",{className:"whitespace-pre-wrap font-serif",children:t.juryDemand.content}),s==="jury-demand"&&n!=="jury-demand"&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>o("jury-demand"),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:14,className:"inline mr-1"}),"Edit"]})})]}),e.jsxs("div",{ref:x=>{v.current.signature=x},className:`mb-8 p-4 rounded cursor-pointer ${s==="signature"?"bg-blue-50 border-2 border-blue-400":"hover:bg-gray-50"}`,onClick:()=>{l("signature"),y("section"),k("signature")},children:[n==="signature"?e.jsxs("div",{children:[e.jsx("textarea",{value:t.signature.content,onChange:x=>f("signature",x.target.value),className:"w-full p-2 border rounded resize-none",rows:8,autoFocus:!0}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm border rounded hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):e.jsx("pre",{className:"whitespace-pre-wrap text-right font-serif",children:t.signature.content}),s==="signature"&&n!=="signature"&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>o("signature"),className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(is,{size:14,className:"inline mr-1"}),"Edit"]})})]})]})})]}),r&&e.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 px-4 py-3 flex items-center justify-between bg-gray-50 sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ab,{size:14})}),e.jsx("span",{className:"text-lg font-medium text-transparent select-none pointer-events-none ml-3",children:"Assistant"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"px-3 py-1 text-sm font-medium text-transparent select-none pointer-events-none",children:"Save"}),e.jsx("div",{className:"px-3 py-1 text-sm font-medium text-transparent select-none pointer-events-none",children:"Export Document"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 max-w-xs",children:e.jsx("p",{className:"text-sm text-gray-800",children:"I can help you refine any section of the complaint. Select a section and ask me to modify it, or ask for suggestions on strengthening your claims."})})}),e.jsx("div",{className:"px-4 py-2 bg-blue-50 border-t border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),e.jsxs("span",{className:"text-blue-700 font-medium",children:["Selection: ",I==="document"?"Whole Document":(()=>{if(!s)return"No Selection";if(s==="caption")return"Caption";if(s==="introduction")return"Introduction";if(s==="jury-demand")return"Jury Demand";if(s==="signature")return"Signature";if(s&&s.startsWith("count-")){const x=t==null?void 0:t.counts.find(M=>M.id===s);return x?x.title:"Count"}return"Document"})()]})]}),e.jsx("button",{onClick:()=>y(I==="section"?"document":"section"),className:"flex items-center text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-100",children:I==="section"?"Switch to Document":"Switch to Section"})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:a,onChange:x=>d(x.target.value),placeholder:"Send a message",className:"w-full p-3 border rounded-lg resize-none pb-12",rows:3}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center justify-between",children:[e.jsxs("button",{className:"flex items-center text-xs text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded",children:[e.jsx(Bp,{size:12,className:"mr-1"}),"Prompt Library"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1",children:[e.jsx("button",{onClick:()=>b(!0),className:`px-2 py-1 text-xs font-medium rounded-full transition-colors ${h?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Draft"}),e.jsx("button",{onClick:()=>b(!1),className:`px-2 py-1 text-xs font-medium rounded-full transition-colors ${h?"text-gray-600 hover:text-gray-800":"bg-blue-600 text-white"}`,children:"Research"})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(yn,{size:16})})]})]})]})})]})]})]})]})},bj=Object.freeze(Object.defineProperty({__proto__:null,default:fx},Symbol.toStringTag,{value:"Module"})),Bc=({onClose:t,onSelectBlueprint:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-11/12 h-5/6 max-w-4xl",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Select a Blueprint"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:t,children:e.jsx(ut,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:hj.map(n=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150 flex flex-col",onClick:()=>s(n),children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-3",children:e.jsx(Qe,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-medium text-lg text-gray-900 mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:n.description}),e.jsx("div",{className:"mt-auto border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"text-xs text-gray-500",children:["Last used: ",n.lastUsed]})})]},n.id))})})]})}),jj=Object.freeze(Object.defineProperty({__proto__:null,default:Bc},Symbol.toStringTag,{value:"Module"})),wj=()=>{const[t,s]=u.useState("homepage"),[n,r]=u.useState(null),[a,i]=u.useState(!1),[l,o]=u.useState([]),[c,d]=u.useState(null),[m,f]=u.useState(null),[p,g]=u.useState(null),[v,N]=u.useState(!0),[I,y]=u.useState(""),[h,b]=u.useState("Complaint - Michael Garcia - MVA"),[j,k]=u.useState(!1),[x,M]=u.useState(""),[T,S]=u.useState(""),[w,L]=u.useState(!1),[X,F]=u.useState(new Set),[O,_]=u.useState(null);return{currentView:t,setCurrentView:s,selectedBlueprint:n,setSelectedBlueprint:r,isAnalyzing:a,setIsAnalyzing:i,identifiedCounts:l,setIdentifiedCounts:o,draftedComplaint:c,setDraftedComplaint:d,activeSection:m,setActiveSection:f,editingSection:p,setEditingSection:g,showChat:v,setShowChat:N,chatInput:I,setChatInput:y,documentTitle:h,setDocumentTitle:b,hasBeenSaved:j,setHasBeenSaved:k,searchQuery:x,setSearchQuery:M,documentSearchQuery:T,setDocumentSearchQuery:S,showBlueprintModal:w,setShowBlueprintModal:L,editedCounts:X,setEditedCounts:F,editingCount:O,setEditingCount:_}},Nj=({setSelectedBlueprint:t,setCurrentView:s,setIsAnalyzing:n,setIdentifiedCounts:r,setShowBlueprintModal:a,setDraftedComplaint:i,setEditingSection:l,setEditedCounts:o,setEditingCount:c,setHasBeenSaved:d,identifiedCounts:m,editedCounts:f})=>{const p=u.useCallback(k=>{t(k),s("analyzing"),n(!0),a(!1),setTimeout(()=>{r(pj),n(!1),s("counts-review")},3e3)},[t,s,n,r,a]),g=u.useCallback(k=>{r(m.map(x=>x.id===k?{...x,selected:!x.selected}:x))},[m,r]),v=u.useCallback(()=>{const k={id:m.length+1,title:"Custom Claim",description:"Enter description of custom claim...",selected:!0,keyFacts:[],supportingDocs:[],isCustom:!0};r([...m,k])},[m,r]),N=u.useCallback(k=>{r(m.filter(x=>x.id!==k))},[m,r]),I=u.useCallback((k,x)=>{r(m.map(M=>M.id===k?{...M,description:x}:M)),o(M=>new Set([...M,k])),c(null)},[m,r,o,c]),y=u.useCallback(()=>{s("generating"),setTimeout(()=>{i(Sj(m)),s("draft-editor")},3e3)},[m,s,i]),h=u.useCallback((k,x)=>{i(M=>{if(!M)return M;const T={...M};if(T[k])T[k]={...T[k],content:x};else{const S=T.counts.findIndex(w=>w.id===k);S!==-1&&(T.counts[S]={...T.counts[S],content:x})}return T}),l(null)},[i,l]),b=u.useCallback(()=>{alert("Document exported successfully!")},[]),j=u.useCallback(()=>{d(!0),setTimeout(()=>{alert("Document saved successfully!")},500)},[d]);return{handleSelectBlueprint:p,toggleCountSelection:g,handleAddCustomCount:v,handleDeleteCount:N,handleCountDescriptionEdit:I,handleGenerateDraft:y,handleSectionEdit:h,handleExportDocument:b,handleSaveDocument:j}},Sj=t=>{const s=t.filter(n=>n.selected);return{caption:{id:"caption",type:"caption",content:`[ATTORNEY NAME], Esq.
(Attorney ID: [ID NUMBER])
[LAW FIRM NAME]
[ADDRESS]
[CITY, STATE ZIP]
[PHONE]
Attorneys for Plaintiff

[PLAINTIFF NAME],

Plaintiff,

vs.

[DEFENDANT 1 NAME], [DEFENDANT 2 NAME], JOHN DOES 1-100 (fictional natural persons); and ABC CORPORATION 1-100 (fictional business entities),

Defendant(s).

SUPERIOR COURT OF NEW JERSEY
LAW DIVISION: [COUNTY] COUNTY
DOCKET NO: [DOCKET NUMBER]

CIVIL ACTION

COMPLAINT,
JURY DEMAND,
DESIGNATION OF TRIAL COUNSEL,
REQUEST FOR DISCOVERY OF INSURANCE COVERAGE,
DEMAND FOR ANSWERS TO INTERROGATORIES AND
DEMAND FOR PRODUCTION OF DOCUMENTS`,editable:!0},introduction:{id:"introduction",type:"introduction",content:"Plaintiff, [PLAINTIFF NAME] by way of Complaint against the Defendants hereby alleges:",editable:!0},counts:s.map((n,r)=>({id:`count-${n.id}`,type:"count",number:r+1,title:n.title.toUpperCase(),content:Cj(n,r+1),editable:!0,supportingInfo:{keyFacts:n.keyFacts,documents:n.supportingDocs}})),juryDemand:{id:"jury-demand",type:"jury-demand",content:`JURY DEMAND

The Plaintiff hereby demands a trial by jury on all of the triable issues of this Complaint, pursuant to Rule 1:8-2(b) and Rule 4:35-1(a).`,editable:!0},signature:{id:"signature",type:"signature",content:`[LAW FIRM NAME]
Attorneys for Plaintiff

By: _______________________
[ATTORNEY NAME], ESQ.

Dated: ${new Date().toLocaleDateString()}`,editable:!0}}},Cj=(t,s)=>{const n=s===1;let r="";return n||(r+=`${s+12}. Plaintiff repeats and re-alleges each and every allegation contained in the ${s===2?"First":"First and prior"} Count${s>2?"s":""} and incorporates the same herein as if set forth at length.

`),t.title==="Negligence"?r+=`1. Plaintiff, [PLAINTIFF NAME] residing at [ADDRESS].

2. Defendant, [DEFENDANT 1 NAME] resides at [ADDRESS].

3. That at all times hereinafter mentioned, Defendant, [DEFENDANT 2 NAME], is a limited liability company authorized to do business in the State of New Jersey with offices at [ADDRESS].

4. Defendants John Doe(s) 1-100 and A.B.C. Corporation(s) 1-100 are fictional Defendants designated as other natural persons and/or business entities responsible, individually and/or jointly or severally, or by their agents, servants, contractors/sub-contractors, and/or employees, for the negligent ownership, lease, operation, repair, design, maintenance, use and/or supervision of the vehicle, which violently collided with the vehicle in which Plaintiff, [PLAINTIFF NAME] was a passenger in, on or about [DATE].

5. On or about [DATE], Defendant operated a motor vehicle bearing license plate number [PLATE NUMBER] which was owned by Defendant [OWNER NAME].

6. On or about [DATE], the vehicle operated by Defendant was traveling [DIRECTION] on [STREET NAME] at the intersection of [CROSS STREET], [CITY], New Jersey.

7. On or about [DATE], Defendant operated the motor vehicle with the consent and permission of the owner.

8. On or about [DATE], Plaintiff was a passenger in a motor vehicle bearing license plate number [PLATE NUMBER], which was traveling [DIRECTION] on [STREET NAME] at the intersection of [CROSS STREET], [CITY], New Jersey.

9. On or about [DATE], the vehicle Plaintiff was a passenger in was struck by the vehicle operated by Defendant.

10. Defendants, negligently caused or allowed their vehicle to violently strike the vehicle Plaintiff was a passenger in; Defendants were negligent in that they operated their vehicle at a rate of speed in excess of the rate at which care and caution would permit under the circumstances then and there existing; failing and/or omitting to have the motor vehicle under reasonable and proper control; failing and/or omitting to make use of adequate brakes and steering mechanisms; carelessly and negligently ignoring and/or permitting said vehicle to be operated in a manner contrary to and in violation of the motor vehicle statutes of the State of New Jersey; failing to exercise caution in entering a roadway; Defendants were further negligent in failing and/or omitting to take proper and suitable precautions to avoid said accident and keep safe distances between the said vehicles; and in being otherwise careless and negligent in allowing their vehicle to violently collide, causing Plaintiff to suffer permanent and severe injuries.

11. As a direct and proximate result of the aforesaid negligence, Plaintiff was severely injured in that Plaintiff incurred physical and mental injuries of a permanent, progressive and lasting character; Plaintiff was obligated to expend diverse sums of money for medical aid and attention in endeavoring to cure herself of the above injuries; Plaintiff was prevented from attending and carrying on normal activities and duties, further incurring lost wages; Plaintiff suffered and continue to suffer great pain and mental anguish.

WHEREFORE, Plaintiff demands Judgment against all Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:t.title==="Vicarious Liability / Respondeat Superior"?r+=`${s+13}. All Defendants were operating their respective motor vehicles with the permission of the owner.

${s+14}. All Defendants were designated as individuals responsible, individually and/or jointly or severally, or by their agents, servants, and/or employees, within the scope of their employment as the agent, servant, or employee and/or with the permission of applicable Defendants.

${s+15}. All Defendants were negligent, careless, and/or reckless not only in the hiring, training, and/or supervising, of the Defendant agents, but also negligently entrusting the vehicle to the same.

${s+16}. All Defendants are vicariously liable for the previously described behavior, conduct, recklessness, carelessness, and/or negligence of the Defendant agents.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:t.title==="Negligent Entrustment"?r+=`${s+17}. All Defendants were negligent in the operation, repair, design, maintenance, use, and/or supervision of the subject vehicles and said negligence was the cause of the aforesaid collision in which the Plaintiff was injured.

${s+18}. The negligence of the Defendants includes, but is not limited to, failing to properly maintain and repair the vehicles and allowing the vehicles to be operated in a state of improper repair on the streets and highways with the Defendants' permission, thereby causing the collision.

${s+19}. All Defendants were negligent in entrusting their motor vehicle to a driver who they knew or should have known was incompetent, reckless, or otherwise unfit to operate the motor vehicle.

${s+20}. The negligent entrustment by Defendants was a substantial factor in bringing about the collision and Plaintiff's resulting injuries.

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`:r=`[Insert specific allegations for ${t.title} based on the facts of your case]

[Include relevant legal elements and factual support]

WHEREFORE, Plaintiff demands Judgment against the Defendants, individually, concurrently, jointly and severally, for damages together with interest, costs of suit, attorneys' fees, and such other and further relief as the Court may deem just and equitable.`,r},kj=()=>{const t=wj(),s=Nj({setSelectedBlueprint:t.setSelectedBlueprint,setCurrentView:t.setCurrentView,setIsAnalyzing:t.setIsAnalyzing,setIdentifiedCounts:t.setIdentifiedCounts,setShowBlueprintModal:t.setShowBlueprintModal,setDraftedComplaint:t.setDraftedComplaint,setEditingSection:t.setEditingSection,setEditedCounts:t.setEditedCounts,setEditingCount:t.setEditingCount,setHasBeenSaved:t.setHasBeenSaved,identifiedCounts:t.identifiedCounts,editedCounts:t.editedCounts});return t.currentView==="homepage"?e.jsxs(e.Fragment,{children:[e.jsx(Fc,{searchQuery:t.searchQuery,setSearchQuery:t.setSearchQuery,documentSearchQuery:t.documentSearchQuery,setDocumentSearchQuery:t.setDocumentSearchQuery,onShowBlueprintModal:()=>t.setShowBlueprintModal(!0)}),t.showBlueprintModal&&e.jsx(Bc,{onClose:()=>t.setShowBlueprintModal(!1),onSelectBlueprint:s.handleSelectBlueprint})]}):t.currentView==="analyzing"?e.jsx(ux,{}):t.currentView==="counts-review"?e.jsx(mx,{identifiedCounts:t.identifiedCounts,editedCounts:t.editedCounts,editingCount:t.editingCount,onToggleCountSelection:s.toggleCountSelection,onAddCustomCount:s.handleAddCustomCount,onDeleteCount:s.handleDeleteCount,onCountDescriptionEdit:s.handleCountDescriptionEdit,setIdentifiedCounts:t.setIdentifiedCounts,setEditingCount:t.setEditingCount,onBack:()=>t.setCurrentView("homepage"),onGenerateDraft:s.handleGenerateDraft}):t.currentView==="generating"?e.jsx(hx,{}):t.currentView==="draft-editor"?e.jsx(fx,{draftedComplaint:t.draftedComplaint,activeSection:t.activeSection,editingSection:t.editingSection,showChat:t.showChat,chatInput:t.chatInput,documentTitle:t.documentTitle,setActiveSection:t.setActiveSection,setEditingSection:t.setEditingSection,setShowChat:t.setShowChat,setChatInput:t.setChatInput,setDraftedComplaint:t.setDraftedComplaint,onSectionEdit:s.handleSectionEdit,onSaveDocument:s.handleSaveDocument,onExportDocument:s.handleExportDocument}):e.jsxs(e.Fragment,{children:[e.jsx(Fc,{searchQuery:t.searchQuery,setSearchQuery:t.setSearchQuery,documentSearchQuery:t.documentSearchQuery,setDocumentSearchQuery:t.setDocumentSearchQuery,onShowBlueprintModal:()=>t.setShowBlueprintModal(!0)}),t.showBlueprintModal&&e.jsx(Bc,{onClose:()=>t.setShowBlueprintModal(!1),onSelectBlueprint:s.handleSelectBlueprint})]})},px=Object.freeze(Object.defineProperty({__proto__:null,default:kj},Symbol.toStringTag,{value:"Module"})),ya={"Introduction & Liability Statement":{original:`You are drafting the introduction and liability section of a personal injury demand letter. Based on the incident report and initial investigation, write a clear statement establishing liability.

Include:
- Date, time, and location of incident
- Clear statement of defendant's negligence
- Causal connection between negligence and injuries
- Professional but assertive tone

Use the provided facts to craft 2-3 paragraphs that establish the foundation for the demand.`,modified:`Draft the introduction and liability section for a personal injury demand letter. Establish fault clearly while remaining factual and professional.

Requirements:
- State facts chronologically with specific dates/times when available
- Identify specific negligent acts or omissions
- Avoid speculation - only include facts supported by evidence
- If details are unclear or disputed, note: "Based on available evidence" or similar qualifier
- Maintain professional tone throughout
- End with clear statement linking defendant's actions to client's damages

Length: 2-3 focused paragraphs that set the foundation for the entire demand.`},"Incident Facts":{original:`Write a detailed account of the incident for a demand letter. Present the facts in chronological order, focusing on the defendant's negligent actions and how they caused the incident.

Include all relevant details about:
- Weather and road conditions
- Traffic patterns and signals
- Actions of all parties involved
- Witness observations
- Physical evidence at scene

Write in third person, past tense. Be thorough but concise.`,modified:`Create a factual narrative of the incident for inclusion in a demand letter. Present events chronologically with precision and objectivity.

Guidelines:
- Use specific times, dates, and locations when documented
- Describe observable actions and conditions objectively  
- Include relevant environmental factors (weather, lighting, traffic)
- Reference police reports, witness statements, or photos when citing facts
- If information is incomplete or contradictory, acknowledge: "According to [source]" or "Initial reports indicate"
- Avoid legal conclusions - present facts that allow reader to draw inferences
- Use neutral language while clearly establishing the sequence of events

Focus on creating a clear, factual foundation that supports the liability argument without overstatement.`},"Medical Summary":{original:`Extract medical procedures and treatments from the records and list them in the demand letter with dates when available. Focus on major procedures, surgeries, and ongoing treatments that demonstrate the severity of injuries.

Include:
- All surgical procedures with dates
- Major diagnostic tests (MRI, CT scans, etc.)
- Specialist consultations
- Physical therapy and rehabilitation
- Current treatment status

Present in chronological order with clear medical terminology.`,modified:`Summarize medical treatment from provided records for demand letter inclusion. Be precise and factual about all medical interventions.

Requirements:
- List treatments chronologically with exact dates when documented
- Include ALL procedures: surgical, diagnostic, and therapeutic
- If no major procedures occurred, explicitly state: "Treatment consisted of conservative care only" or "No surgical intervention was required"
- For missing or unclear dates, note: "Date unclear from records" or "Approximately [timeframe]"
- Include current treatment status and prognosis when documented
- Use proper medical terminology while remaining accessible
- Distinguish between completed and ongoing treatments
- If records are incomplete, note limitations: "Based on available medical records" 

Ensure accuracy - do not assume or extrapolate treatments not clearly documented in the provided records.`},"Damages & Financial Losses":{original:`Calculate and present all economic damages for the demand letter. Include past medical expenses, lost wages, and future costs. Use specific dollar amounts with supporting documentation.

Categories to cover:
- Past medical expenses (itemized)
- Lost wages and benefits
- Future medical costs
- Property damage
- Other economic losses

Present totals clearly with backup documentation references.`,modified:`Compile economic damages for the demand letter with precise documentation and clear categorization.

Structure:
1. Past Medical Expenses - itemize by provider with dates and amounts
2. Lost Income - calculate based on documented wage loss with pay period details
3. Future Medical Costs - include only when supported by medical opinion
4. Property Damage - actual repair/replacement costs with estimates
5. Other Economic Losses - transportation, home care, etc. with receipts

Standards:
- Include only documented expenses with backup available
- Use exact amounts from bills/statements when available
- For estimates, clearly label as such and provide basis
- If documentation is incomplete, note: "Additional expenses may be identified upon full record review"
- Provide subtotals for each category and clear total
- Reference supporting documentation (e.g., "See Exhibit A - Medical Bills")
- Include tax implications for lost wages when applicable

Avoid speculation about future costs unless specifically supported by medical professional recommendations.`},"Settlement Demand":{original:`State the settlement demand amount and provide justification. Include both economic and non-economic damages. Be firm but reasonable in the demand amount.

Components:
- Total economic damages
- Pain and suffering calculation
- Justification for non-economic damages
- Clear demand amount
- Timeline for response

End with professional but firm language about the demand.`,modified:`Present the settlement demand with clear justification and professional presentation.

Structure:
1. Economic Damages Summary (reference detailed breakdown above)
2. Non-Economic Damages Justification
   - Nature and extent of injuries
   - Impact on daily activities and quality of life
   - Duration of recovery/ongoing limitations
   - Age and life expectancy considerations
3. Total Settlement Demand

Requirements:
- Provide specific dollar amount for total demand
- Justify non-economic damages with concrete examples of impact
- Avoid arbitrary multipliers unless explaining methodology
- Reference medical testimony or records supporting pain/suffering claims
- Include reasonable timeline for response (typically 30 days)
- Professional tone that conveys seriousness without hostility
- Note that demand reflects current known damages - reserve right to modify if additional damages discovered

End with clear call to action and contact information for response.`},"Closing & Signature":{original:`Write a professional closing for the demand letter. Reiterate the demand amount, set response timeline, and include appropriate signatures and attachments list.

Include:
- Restatement of demand amount
- Response deadline
- Consequences of non-response
- Attorney signature block
- List of attachments/exhibits

Maintain professional but firm tone.`,modified:`Create a professional closing that reinforces the demand and establishes clear next steps.

Elements:
1. Brief restatement of total demand amount
2. Specific response deadline (typically 30 days from date)
3. Professional statement of intent if no response received
4. Contact information for settlement discussions  
5. Attorney signature block with credentials
6. Exhibit/attachment list

Tone Guidelines:
- Professional and businesslike
- Firm but not threatening
- Leave door open for negotiation while showing resolve
- Avoid ultimatums unless litigation is imminent
- Include statement preserving all legal rights
- Reference statute of limitations awareness without specific threats

Standard closing should invite dialogue while making clear the seriousness of the claim and client's commitment to pursuing full compensation.`}},Sr={mva:{name:"Motor Vehicle Accidents",description:"Car accidents, truck collisions, motorcycle crashes",caseCount:25,selected:!0},premisesLiability:{name:"Premises Liability",description:"Slip and fall, inadequate security, property defects",caseCount:18,selected:!1},medicalMalpractice:{name:"Medical Malpractice",description:"Surgical errors, misdiagnosis, medication mistakes",caseCount:15,selected:!1},productLiability:{name:"Product Liability",description:"Defective products, design flaws, inadequate warnings",caseCount:12,selected:!1},workplaceInjury:{name:"Workplace Injuries",description:"Construction accidents, industrial injuries, third-party claims",caseCount:20,selected:!1},dogBites:{name:"Dog Bites & Animal Attacks",description:"Dog attacks, animal bites, owner liability",caseCount:8,selected:!1}},qs={flaggedCases:{label:"Flagged Cases",description:"Previously identified problematic cases",defaultValue:"include"},edgeCases:{label:"Edge Cases",description:"No procedures, missing dates, unclear medical records",defaultValue:"include"}},Cr={"gpt-4o":{name:"GPT-4o",provider:"OpenAI",description:"Latest GPT-4 Optimized model",isCurrent:!1,advancedParams:{temperature:.7,maxTokens:4e3,topP:1,frequencyPenalty:0,presencePenalty:0}},"gpt-4.1":{name:"GPT-4.1",provider:"OpenAI",description:"Enhanced GPT-4.1 model",isCurrent:!1,advancedParams:{temperature:.7,maxTokens:4e3,topP:1,frequencyPenalty:0,presencePenalty:0}},"gpt-5":{name:"GPT-5",provider:"OpenAI",description:"Next-generation GPT model",isCurrent:!1,advancedParams:{temperature:.7,maxTokens:8e3,topP:1,frequencyPenalty:0,presencePenalty:0}},"claude-sonnet-4":{name:"Claude Sonnet 4",provider:"Anthropic",description:"Latest Claude Sonnet model",isCurrent:!0,advancedParams:{temperature:.7,maxTokens:4e3,topP:1}}},Dj={changeModel:{label:"Change Model",description:"Compare performance across different AI models",icon:"🤖"},changePrompt:{label:"Change Prompt",description:"Compare original prompt vs modified prompt",icon:"📝"}},Ej=["Introduction & Liability Statement","Incident Facts","Medical Summary","Damages & Financial Losses","Settlement Demand","Closing & Signature"],zo=[{id:1,name:"No Major Procedures Case",sections:{"Medical Summary":{groundTruth:{required:["conservative treatment","no surgical intervention"],forbidden:["surgery","operation","fusion","procedure"]},medicalRecords:"Patient presented with neck pain following MVA. MRI shows soft tissue damage. Prescribed physical therapy 2x weekly and pain medication. No surgical intervention required."}}},{id:2,name:"Spinal Fusion Surgery",sections:{"Medical Summary":{groundTruth:{required:["L4-L5 spinal fusion","revision surgery","hardware complications"],forbidden:["cardiac","brain","knee"]},medicalRecords:"Patient underwent L4-L5 spinal fusion on 3/15/24. Revision surgery required on 4/2/24 due to hardware complications. Currently in post-op PT."}}},{id:3,name:"Multiple Injuries",sections:{"Medical Summary":{groundTruth:{required:["ORIF left femur","arthroscopic knee surgery","concussion"],forbidden:["spinal","cardiac"]},medicalRecords:"Multi-trauma from MVA. Emergency ORIF for left femur fracture. Subsequent arthroscopic surgery for torn meniscus. Mild concussion resolved with cognitive therapy."}}},{id:4,name:"Conservative Treatment Only",sections:{"Medical Summary":{groundTruth:{required:["chiropractic care","massage therapy","full recovery"],forbidden:["surgery","injection","procedure","operation"]},medicalRecords:"Lower back pain following lifting injury. X-rays negative. Treated with chiropractic adjustments, therapeutic massage, and anti-inflammatories. Full recovery in 8 weeks."}}},{id:5,name:"Missing Dates Edge Case",sections:{"Medical Summary":{groundTruth:{required:["arthroscopic shoulder surgery","date unclear"],forbidden:["spine","knee","hip"]},medicalRecords:"Patient reports shoulder pain. MRI confirms rotator cuff tear. Arthroscopic repair performed (date unclear). Currently in PT."}}}],qm=(t,s,n)=>{const r=t.sections[s];if(!r)return null;const a=n==="original",{required:i,forbidden:l}=r.groundTruth;let o="",c=!1,d=[],m=[];s==="Medical Summary"&&(a&&l.includes("surgery")&&t.name.includes("No Major")?(o="Patient underwent multiple surgeries including spinal fusion...",c=!0,m=["surgery"]):a&&t.name.includes("Conservative")?(o="Patient received injection therapy and minor surgical intervention...",c=!0,m=["injection","surgical"]):a?(o=`Treatment included ${i.slice(0,2).join(", ")}.`,Math.random()>.7&&(d=[i[i.length-1]])):l.includes("surgery")?o="Medical records indicate conservative treatment only. No surgical procedures documented.":o=`Patient underwent ${i.join(", ")}.`),i.forEach(g=>{!o.toLowerCase().includes(g.toLowerCase())&&!d.includes(g)&&d.push(g)});const f=!c&&d.length===0,p=c?.95:d.length>0?.8:.9;return{caseId:t.id,caseName:t.name,section:s,generatedOutput:o,aiPass:f,aiConfidence:p,hallucinations:m,omissions:d,humanReview:null,flagged:!1,reviewNotes:""}},Mj=()=>{var U,ge,Ce,ke,Q,Me;const[t,s]=u.useState("Medical Summary"),[n,r]=u.useState(()=>{const P={};return Object.keys(Sr).forEach(K=>{P[K]=Sr[K].selected}),P}),[a,i]=u.useState(()=>{const P={};return Object.keys(qs).forEach(K=>{P[K]=qs[K].defaultValue}),P}),[l,o]=u.useState({changeModel:!1,changePrompt:!0}),[c,d]=u.useState("gpt-4o"),[m,f]=u.useState(()=>{const P={};return Object.entries(Cr).forEach(([K,he])=>{P[K]={...he.advancedParams}}),P}),[p,g]=u.useState(!1),[v,N]=u.useState(!1),[I,y]=u.useState(!0),h=()=>{const P=Object.entries(n).filter(([be,ye])=>ye).map(([be,ye])=>be),K=Object.entries(a).find(([be,ye])=>ye==="only"),he=Object.entries(a).filter(([be,ye])=>ye==="exclude");let ve=0;return P.length>0&&(K?ve=P.length*2:(ve=P.reduce((be,ye)=>{var fe;return be+(((fe=Sr[ye])==null?void 0:fe.caseCount)||0)},0),he.some(([be,ye])=>be==="edgeCases")&&(ve-=P.length*2),he.some(([be,ye])=>be==="flaggedCases")&&(ve-=P.length*2))),ve},[b,j]=u.useState(!1),[k,x]=u.useState(!1),[M,T]=u.useState(""),[S,w]=u.useState({current:0,total:0}),[L,X]=u.useState(null),[F,O]=u.useState("dashboard"),[_,oe]=u.useState(null),[Se,G]=u.useState({approved:0,rejected:0,flagged:0}),[B,W]=u.useState(((U=ya[t])==null?void 0:U.original)||"Extract medical procedures and treatments from the records."),[le,de]=u.useState(((ge=ya[t])==null?void 0:ge.modified)||"Extract medical procedures and treatments if present. If no major procedures found, explicitly state 'No surgical procedures documented.' Always note if treatment dates are unclear.");u.useEffect(()=>{ya[t]&&(W(ya[t].original),de(ya[t].modified))},[t]);const we=async()=>{j(!0),w({current:0,total:zo.length}),T("Generating Outputs");const P={original:[],modified:[],timestamp:new Date().toISOString()};let K=zo;const he=Object.entries(a).find(([ve,be])=>be==="only");if(he){const[ve]=he;ve==="flaggedCases"?K=K.filter(be=>be.flagged||be.name.includes("Flagged")):ve==="edgeCases"&&(K=K.filter(be=>be.name.includes("Edge Case")||be.name.includes("Missing Dates")))}else a.edgeCases==="exclude"&&(K=K.filter(ve=>!ve.name.includes("Edge Case")&&!ve.name.includes("Missing Dates"))),a.flaggedCases==="exclude"&&(K=K.filter(ve=>!ve.flagged&&!ve.name.includes("Flagged")));for(let ve=0;ve<K.length;ve++){k&&await new Promise(We=>{const V=setInterval(()=>{k||(clearInterval(V),We())},100)}),w({current:ve+1,total:K.length});const be=K[ve],ye=qm(be,t,"original"),fe=qm(be,t,"modified");ye&&P.original.push(ye),fe&&P.modified.push(fe),await new Promise(We=>setTimeout(We,300))}T("AI Evaluation"),await new Promise(ve=>setTimeout(ve,500)),T("Preparing Review Queue"),await new Promise(ve=>setTimeout(ve,500)),X(P),j(!1),T("")},Re=P=>{if(!P||P.length===0)return{passCount:0,passRate:0,failCount:0,hallucinations:0,omissions:0,flaggedCount:0};const K=P.filter(fe=>fe.humanReview==="approved"&&fe.aiPass?!0:fe.humanReview==="rejected"?!fe.aiPass:fe.aiPass).length,he=P.length-K,ve=P.filter(fe=>fe.hallucinations.length>0).length,be=P.filter(fe=>fe.omissions.length>0).length,ye=P.filter(fe=>fe.flagged).length;return{passCount:K,passRate:Math.round(K/P.length*100),failCount:he,hallucinations:ve,omissions:be,flaggedCount:ye}},Ye=(P,K,he)=>{X(ve=>{const be={...ve},ye=K==="original"?be.original:be.modified,fe=ye.findIndex(We=>We.caseId===P);return fe!==-1&&(ye[fe].humanReview=he,he==="flagged"&&(ye[fe].flagged=!0),G(We=>({...We,[he]:We[he]+1}))),be})},Ae=()=>{var K;const P=L?Re(L.original):null;return L&&Re(L.modified),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Evaluation Progress — ",t]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[Object.values(n).filter(Boolean).length," case type(s) selected |",Object.entries(a).find(([he,ve])=>ve==="only")?"Only: "+((K=qs[Object.entries(a).find(([he,ve])=>ve==="only")[0]])==null?void 0:K.label):"Standard filtering"]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Stage 1: Generating Outputs"}),e.jsx("span",{children:M==="Generating Outputs"?`${S.current}/${S.total}`:"Complete"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:M==="Generating Outputs"?`${S.current/S.total*100}%`:"100%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Stage 2: AI Evaluation"}),e.jsx("span",{children:M==="AI Evaluation"?"Processing...":M==="Generating Outputs"?"Waiting":"Complete"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:M==="AI Evaluation"?"50%":M==="Generating Outputs"?"0%":"100%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Stage 3: Preparing Review Queue"}),e.jsx("span",{children:M==="Preparing Review Queue"?"Processing...":M===""?"Complete":"Waiting"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:M==="Preparing Review Queue"?"50%":M===""?"100%":"0%"}})})]})]}),L&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Current Run Status:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Test Cases:"})," ",S.total," total"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Progress:"})," ",S.current,"/",S.total]}),P&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Current Pass Rate:"})," ",P.passRate,"%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Issues Found:"})," ",P.hallucinations+P.omissions]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Reviewer Actions Taken:"}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{children:["Approved: ",Se.approved]}),e.jsxs("span",{children:["Rejected: ",Se.rejected]}),e.jsxs("span",{children:["Reviewer-Flagged: ",Se.flagged]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx(Zd,{className:"inline w-4 h-4 mr-1"}),"Estimated Time Remaining: 2 minutes"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(!k),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50",children:k?e.jsx(ni,{className:"w-4 h-4"}):e.jsx(Wp,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{j(!1),T("")},className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),L&&e.jsx("button",{onClick:()=>O("dashboard"),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View Results"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[e.jsx("button",{onClick:()=>O("details"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View Detailed Results"}),e.jsxs("button",{onClick:()=>{X(null),O("dashboard")},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:[e.jsx(Ym,{className:"w-4 h-4 inline mr-2"}),"Run New Evaluation"]})]})]})},me=()=>{const P=Re(L.original),K=Re(L.modified);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Evaluation Complete - Prompt Comparison"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>y(!I),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(Ut,{className:`w-4 h-4 transition-transform ${I?"-rotate-90":"rotate-0"}`}),e.jsx("span",{children:"Test Configuration:"}),I&&e.jsx("span",{className:"text-xs text-gray-500",children:(()=>{var We;const he=Object.values(n).filter(Boolean).length,ve=Object.entries(a).find(([V,De])=>De==="only"),be=Object.entries(a).filter(([V,De])=>De==="exclude"),ye=h(),fe=ve?"only: "+((We=qs[ve[0]])==null?void 0:We.label):be.length>0?"excluded: "+be.map(([V,De])=>{var _e;return(_e=qs[V])==null?void 0:_e.label}).join(", "):"no exclusions";return`${he} case types, ${ye} test cases, ${fe}`})()})]}),!I&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Section:"})," ",t]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Types:"})," ",Object.entries(n).filter(([he,ve])=>ve).map(([he,ve])=>{var be;return(be=Sr[he])==null?void 0:be.name}).join(", ")||"None selected"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total cases evaluated:"})," ",h()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Comparison Type:"})," ",l.changeModel&&l.changePrompt?"Model + Prompt":l.changeModel?"Model Only":l.changePrompt?"Prompt Only":"Benchmark"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Original (v2.3)"}),e.jsx("div",{className:"text-4xl font-bold mb-2",children:e.jsxs("span",{className:P.passRate<70?"text-red-600":"text-green-600",children:[P.passRate,"%"]})}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[P.passCount,"/",L.original.length," passed"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Hallucinations:"}),e.jsx("span",{className:"text-red-600 font-medium",children:P.hallucinations})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Omissions:"}),e.jsx("span",{className:"text-amber-600 font-medium",children:P.omissions})]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Modified (v2.4 Draft)"}),e.jsxs("div",{className:"text-4xl font-bold mb-2",children:[e.jsxs("span",{className:K.passRate<70?"text-red-600":"text-green-600",children:[K.passRate,"%"]}),e.jsxs("span",{className:"text-2xl text-green-600 ml-2",children:[K.passRate>P.passRate?"+":"",K.passRate-P.passRate]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[K.passCount,"/",L.modified.length," passed"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Hallucinations:"}),e.jsx("span",{className:"text-green-600 font-medium",children:K.hallucinations})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Omissions:"}),e.jsx("span",{className:"text-green-600 font-medium",children:K.omissions})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[e.jsx("button",{onClick:()=>O("details"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View Detailed Results"}),e.jsxs("button",{onClick:()=>{X(null),O("dashboard")},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:[e.jsx(Ym,{className:"w-4 h-4 inline mr-2"}),"Run New Evaluation"]})]})]})},Ke=()=>{if(!_)return null;const P=L.original.find(he=>he.caseId===_.id),K=L.modified.find(he=>he.caseId===_.id);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Case #",_.id,": ",_.name]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Section: ",t]})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-3 mb-4",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Ground Truth:"})," ",_.name]}),_.sections[t]&&e.jsxs("p",{className:"text-sm mt-2",children:[e.jsx("span",{className:"font-medium",children:"Forbidden Terms:"})," ",_.sections[t].groundTruth.forbidden.join(", ")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"Original Output"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${P.aiPass?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.aiPass?"PASS":"FAIL"})]}),e.jsx("div",{className:"text-sm text-gray-700 mb-3 bg-gray-50 rounded p-2 max-h-32 overflow-y-auto",children:P.generatedOutput}),P.hallucinations.length>0&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(kb,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Hallucination Detected"}),e.jsxs("p",{className:"text-xs text-red-700",children:["Terms: ",P.hallucinations.join(", ")]})]})]})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ye(P.caseId,"original","approved"),className:`px-2 py-1 text-xs rounded ${P.humanReview==="approved"?"bg-green-600 text-white":"border border-green-600 text-green-600 hover:bg-green-50"}`,children:"Approve"}),e.jsx("button",{onClick:()=>Ye(P.caseId,"original","rejected"),className:`px-2 py-1 text-xs rounded ${P.humanReview==="rejected"?"bg-red-600 text-white":"border border-red-600 text-red-600 hover:bg-red-50"}`,children:"Reject"}),e.jsx("button",{onClick:()=>Ye(P.caseId,"original","flagged"),className:`px-2 py-1 text-xs rounded ${P.flagged?"bg-amber-600 text-white":"border border-amber-600 text-amber-600 hover:bg-amber-50"}`,children:"Flag"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"Modified Output"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.aiPass?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.aiPass?"PASS":"FAIL"})]}),e.jsx("div",{className:"text-sm text-gray-700 mb-3 bg-gray-50 rounded p-2 max-h-32 overflow-y-auto",children:K.generatedOutput}),K.aiPass&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(es,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Accurate"}),e.jsx("p",{className:"text-xs text-green-700",children:"Requirements met, no hallucinations"})]})]})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ye(K.caseId,"modified","approved"),className:`px-2 py-1 text-xs rounded ${K.humanReview==="approved"?"bg-green-600 text-white":"border border-green-600 text-green-600 hover:bg-green-50"}`,children:"Approve"}),e.jsx("button",{onClick:()=>Ye(K.caseId,"modified","rejected"),className:`px-2 py-1 text-xs rounded ${K.humanReview==="rejected"?"bg-red-600 text-white":"border border-red-600 text-red-600 hover:bg-red-50"}`,children:"Reject"}),e.jsx("button",{onClick:()=>Ye(K.caseId,"modified","flagged"),className:`px-2 py-1 text-xs rounded ${K.flagged?"bg-amber-600 text-white":"border border-amber-600 text-amber-600 hover:bg-amber-50"}`,children:"Flag"})]})]})]}),(P.flagged||K.flagged)&&e.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded p-4",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," This case has been flagged for edge case curation due to recurring 'no procedures' pattern."]})})]})},Y=()=>{const K=[...L.original.filter(he=>he.flagged),...L.modified.filter(he=>he.flagged)].reduce((he,ve)=>(he.find(be=>be.caseId===ve.caseId)||he.push(ve),he),[]);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Edge Case Curation — ",t]}),e.jsx("button",{onClick:()=>O("dashboard"),className:"text-gray-500 hover:text-gray-700",children:"← Back to Dashboard"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Flagged Cases Awaiting Decision: ",K.length]}),e.jsx("div",{className:"space-y-4",children:K.map(he=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:["#",he.caseId," – ",he.caseName]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:he.hallucinations.length>0?"Hallucination (recurring 'no procedures' failure)":he.omissions.length>0?"Potential omission risk":"Ambiguous case"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Promote to Edge Case"}),e.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss Flag"})]})]})},he.caseId))})]})};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Demand Letter Prompt Evaluator"}),F==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Configuration"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section to Evaluate"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:P=>s(P.target.value),children:Ej.map(P=>e.jsx("option",{value:P,children:P},P))})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>N(!v),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ut,{className:`w-4 h-4 transition-transform ${v?"-rotate-90":"rotate-0"}`}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v?"Show":"Hide"," Test Configuration"]})]}),v&&e.jsx("div",{className:"text-xs text-gray-500",children:(()=>{var ye;Object.values(n).filter(Boolean).length;const P=Object.entries(a).find(([fe,We])=>We==="only"),K=Object.entries(a).filter(([fe,We])=>We==="exclude");let he=0;const ve=Object.entries(n).filter(([fe,We])=>We).map(([fe,We])=>fe);ve.length>0&&(P?he=ve.length*2:(he=ve.reduce((fe,We)=>{var V;return fe+(((V=Sr[We])==null?void 0:V.caseCount)||0)},0),K.some(([fe,We])=>fe==="edgeCases")&&(he-=ve.length*2),K.some(([fe,We])=>fe==="flaggedCases")&&(he-=ve.length*2)));const be=P?"only: "+((ye=qs[P[0]])==null?void 0:ye.label):K.length>0?"excluded: "+K.map(([fe,We])=>{var V;return(V=qs[fe])==null?void 0:V.label}).join(", "):"no exclusions";return`${ve.length} case types, ${he} test cases, ${be}`})()})]}),!v&&e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Case Types"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Sr).map(([P,K])=>e.jsxs("label",{className:"flex items-start p-3 border rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",className:"mr-3 mt-1",checked:n[P]||!1,onChange:he=>r(ve=>({...ve,[P]:he.target.checked}))}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:K.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[K.caseCount," cases"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K.description})]})]},P))}),e.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[e.jsx("span",{className:"font-medium",children:"Total cases for evaluation:"})," ",h()]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Modifiers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(qs).map(([P,K])=>{const he=Object.values(a).includes("only"),ve=a[P]==="only",be=he&&!ve;return e.jsxs("div",{className:`border rounded-lg p-4 transition-all ${be?"bg-gray-50 border-gray-200":"border-gray-300 hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`text-sm font-medium ${be?"text-gray-400":"text-gray-700"}`,children:[K.label,be&&e.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(disabled)"})]}),e.jsxs("select",{disabled:be,className:`text-sm border rounded px-3 py-1 focus:outline-none focus:ring-2 ${be?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 focus:ring-blue-500 hover:border-gray-400"}`,value:a[P],onChange:ye=>{const fe=ye.target.value;i(We=>{const V={...We,[P]:fe};return fe==="only"&&Object.keys(V).forEach(De=>{De!==P&&(V[De]="include")}),V})},children:[e.jsx("option",{value:"include",children:"Include"}),e.jsx("option",{value:"only",children:"Only"}),e.jsx("option",{value:"exclude",children:"Exclude"})]})]}),e.jsx("p",{className:`text-xs mb-2 ${be?"text-gray-400":"text-gray-500"}`,children:K.description}),ve&&e.jsx("p",{className:"text-xs text-amber-600 font-medium",children:'⚠️ Other modifiers disabled when "Only" is selected'})]},P)})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Note:"}),' Setting any modifier to "Only" will disable and override all other modifiers.']})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Evaluation Type"}),e.jsxs("div",{className:"space-y-3",children:[Object.entries(Dj).map(([P,K])=>e.jsxs("label",{className:"flex items-start p-3 border rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",className:"mr-3 mt-1",checked:l[P],onChange:he=>o(ve=>({...ve,[P]:he.target.checked}))}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:K.icon}),e.jsx("span",{className:"text-sm font-medium",children:K.label})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K.description})]})]},P)),!l.changeModel&&!l.changePrompt&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"📊"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Benchmark Mode"})]}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"No comparison selected - evaluation will run as a performance benchmark"})]})]})]})]})]})]})]}),l.changeModel&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🤖 Model Comparison Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Model for Comparison"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:P=>d(P.target.value),children:Object.entries(Cr).map(([P,K])=>e.jsxs("option",{value:P,disabled:K.isCurrent,children:[K.name," (",K.provider,")",K.isCurrent&&" - Current Model (Disabled)"]},P))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",(Ce=Object.values(Cr).find(P=>P.isCurrent))==null?void 0:Ce.name," | Selected: ",(ke=Cr[c])==null?void 0:ke.name]})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(Ut,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`}),"Advanced Parameters"]}),p&&e.jsxs("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[(Q=Cr[c])==null?void 0:Q.name," Parameters"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(((Me=Cr[c])==null?void 0:Me.advancedParams)||{}).map(([P,K])=>{var he;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 capitalize",children:P.replace(/([A-Z])/g," $1")}),e.jsx("input",{type:"number",step:P==="temperature"||P==="topP"?"0.1":"1",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",value:((he=m[c])==null?void 0:he[P])||K,onChange:ve=>{const be=parseFloat(ve.target.value);f(ye=>({...ye,[c]:{...ye[c],[P]:be}}))}})]},P)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"These parameters will be applied to the selected model during evaluation."})]})]})]})]}),l.changePrompt&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📝 Prompt Comparison Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Current Production Prompt (v2.3)"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>navigator.clipboard.writeText(B),children:e.jsx(Xd,{className:"w-4 h-4"})})]}),e.jsx("textarea",{className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:B,readOnly:!0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Test Modified Prompt (v2.4 Draft)"})}),e.jsx("textarea",{className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:le,onChange:P=>de(P.target.value)}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-800",children:"Reset to Default"})})]})]})]}),e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs("button",{onClick:we,disabled:b,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ni,{className:"w-4 h-4"}),"Run Evaluation"]})})]}),b&&e.jsx(Ae,{}),F==="dashboard"&&L&&!b&&e.jsx("div",{className:"mt-8 space-y-6",children:e.jsx(me,{})}),F==="details"&&L&&e.jsxs("div",{className:"fixed inset-0 bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Results"}),e.jsx("button",{onClick:()=>O("dashboard"),className:"text-gray-500 hover:text-gray-700 flex items-center gap-2",children:"← Back to Dashboard"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Comparison Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Section:"}),e.jsx("div",{className:"font-medium",children:t})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Modifiers:"}),e.jsx("div",{className:"font-medium",children:(()=>{var he;const P=Object.entries(a).find(([ve,be])=>be==="only"),K=Object.entries(a).filter(([ve,be])=>be==="exclude");return P?"Only: "+((he=qs[P[0]])==null?void 0:he.label):K.length>0?"Excluded: "+K.map(([be,ye])=>{var fe;return(fe=qs[be])==null?void 0:fe.label}).join(", "):"No exclusions"})()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Comparison Type:"}),e.jsx("div",{className:"font-medium",children:l.changeModel&&l.changePrompt?"Model + Prompt":l.changeModel?"Model Only":l.changePrompt?"Prompt Only":"Benchmark"})]})]})]})]})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Test Cases"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L.original.length," cases evaluated"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-gray-100",children:zo.map(P=>{const K=L.original.find(be=>be.caseId===P.id),he=L.modified.find(be=>be.caseId===P.id),ve=(_==null?void 0:_.id)===P.id;return e.jsx("div",{className:`p-4 cursor-pointer transition-colors ${ve?"bg-blue-50 border-r-2 border-blue-500":"hover:bg-gray-50"}`,onClick:()=>oe(P),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-800",children:["#",P.id]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:P.name}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[K&&e.jsx("div",{className:`w-3 h-3 rounded-full ${K.aiPass?"bg-green-500":"bg-red-500"}`,title:`Original: ${K.aiPass?"Pass":"Fail"}`}),he&&e.jsx("div",{className:`w-3 h-3 rounded-full ${he.aiPass?"bg-green-500":"bg-red-500"}`,title:`Modified: ${he.aiPass?"Pass":"Fail"}`})]})]}),ve&&e.jsx(nn,{className:"w-4 h-4 text-blue-500 mt-1"})]})},P.id)})})})]}),e.jsx("div",{className:"flex-1 bg-white overflow-y-auto",children:_?e.jsx(Ke,{}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(hn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Select a test case to view details"})]})})})]})]}),F==="edge-cases"&&e.jsx(Y,{})]})})},xx=Object.freeze(Object.defineProperty({__proto__:null,default:Mj},Symbol.toStringTag,{value:"Module"})),Uc=({selectedDeponent:t,setSelectedDeponent:s,isRecording:n,isPaused:r,recordingTime:a,transcriptText:i,contradictions:l,continuousNotes:o,setContinuousNotes:c,formatTime:d,handleStartRecording:m,handlePauseRecording:f,handleStopRecording:p,setIsPaused:g})=>e.jsxs("div",{className:"bg-white rounded-lg shadow h-full flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",title:"Back to main view",children:e.jsx(qd,{size:20})}),e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Live Deposition - ",t==null?void 0:t.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n&&!r&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse mr-2"}),e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"RECORDING"})]}),r&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),e.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"RECORDING PAUSED"})]})]})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:t==null?void 0:t.role})]}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Live Transcript"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl font-mono text-gray-700 bg-gray-100 px-3 py-1 rounded-lg",children:d(a)}),e.jsx("div",{className:"flex space-x-2",children:n?r?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>g(!1),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(ni,{size:16,className:"mr-2"}),"Resume"]}),e.jsxs("button",{onClick:p,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Jm,{size:16,className:"mr-2"}),"End"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,className:"flex items-center px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:[e.jsx(Wp,{size:16,className:"mr-2"}),"Break"]}),e.jsxs("button",{onClick:p,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Jm,{size:16,className:"mr-2"}),"End"]})]}):e.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(_b,{size:16,className:"mr-2"}),"Start Recording"]})})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 flex-1 overflow-y-auto border border-gray-200",children:e.jsx("div",{className:"font-mono text-sm space-y-2",children:i?i.split(`
`).map((v,N)=>{const I=v.match(/^\[(\d{2}:\d{2}:\d{2})\]\s*(.+)$/);if(I){const[,y,h]=I,b=h.includes("Attorney Johnson"),j=h.includes("Roberto Martinez");return e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-400 text-xs mr-3 mt-0.5 font-mono",children:y}),e.jsx("span",{className:`${b?"text-blue-700":j?"text-green-700":"text-gray-600"}`,children:h})]},N)}return e.jsx("div",{className:"text-gray-600",children:v},N)}):e.jsx("div",{className:"text-gray-500 italic text-center py-8",children:'Click "Start Recording" to begin live transcription...'})})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search transcript...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"}),e.jsx(Hn,{size:18,className:"absolute left-3 top-2.5 text-gray-400"})]})})]}),e.jsxs("div",{className:"flex-1 border-l border-gray-200 bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"p-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:["Contradictions (",l.length,")",e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse ml-2"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Real-time Analysis"})]})}),e.jsxs("div",{className:"flex-1 px-6 pb-4 overflow-hidden flex flex-col",children:[l.length>0&&e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("div",{className:"space-y-2 overflow-y-auto flex-1",children:l.map(v=>{var N;return e.jsxs("div",{className:"p-2 bg-red-50 border-l-3 border-l-red-500 rounded text-xs",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-white text-xs font-medium mr-2 ${v.contradictionType==="internal"?"bg-red-600":"bg-orange-600"}`,children:((N=v.contradictionType)==null?void 0:N.toUpperCase())||"INTERNAL"}),v.citation&&e.jsxs("span",{className:"text-red-600 font-mono text-xs",children:["📍",v.citation.timeRange?e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:v.citation.timeRange}):`${v.citation.page}:${v.citation.line}`]})]}),e.jsx("div",{className:"text-red-800 mb-1 text-xs leading-relaxed",children:v.content}),v.contradictoryTestimony&&e.jsxs("div",{className:"text-red-700 text-xs italic",children:["vs: ",v.contradictoryTestimony.includes(".pdf")?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:v.contradictoryTestimony.split(" -")[0]}),v.contradictoryTestimony.split(" -")[1]&&` - ${v.contradictoryTestimony.split(" -")[1]}`]}):v.contradictoryTestimony.includes(" / Page ")?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:v.contradictoryTestimony.split(" / Page ")[0]}),v.contradictoryTestimony.split(" / Page ")[1]&&`: ${v.contradictoryTestimony.split(": ")[1]}`]}):v.contradictoryTestimony.match(/^\d{2}:\d{2}:/)?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:v.contradictoryTestimony.split(":").slice(0,2).join(":")}),v.contradictoryTestimony.substring(5)]}):v.contradictoryTestimony]})]},v.id)})})}),l.length===0&&e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:e.jsxs("div",{className:"text-center py-4 text-gray-500 bg-gray-50 rounded border",children:[e.jsx("div",{className:"text-xs",children:"No contradictions detected yet"}),e.jsx("div",{className:"text-xs mt-1",children:"AI will automatically flag inconsistent testimony"})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 p-6 pt-4 bg-white h-[40%] flex flex-col",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notepad"}),e.jsx("textarea",{className:"flex-1 w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-xs resize-none",placeholder:"Quick notes during deposition... Jot down observations, follow-up questions, key admissions, or anything else that catches your attention.",value:o,onChange:v=>c(v.target.value)}),e.jsx("div",{className:"mt-1 text-right flex-shrink-0",children:e.jsx("div",{className:"text-xs text-gray-500",children:o.trim()?"Auto-saving...":"Ready"})})]})]})]})]}),Ij=Object.freeze(Object.defineProperty({__proto__:null,LiveRecordingView:Uc,default:Uc},Symbol.toStringTag,{value:"Module"})),Qm=`[00:00:00] Attorney Johnson: Mr. Martinez, please state your full name for the record.

[00:00:04] Roberto Martinez: Roberto Martinez.

[00:00:08] Attorney Johnson: And what is your occupation?

[00:00:11] Roberto Martinez: I own Martinez Construction LLC.

[00:00:17] Attorney Johnson: How long have you been in the construction business?

[00:00:21] Roberto Martinez: About eight years now. Started small and built it up.

[00:00:28] Attorney Johnson: On March 15th, 2024, at approximately 2:50 PM, were you driving a vehicle?

[00:00:34] Roberto Martinez: Yes, I was driving my pickup truck.

[00:00:38] Attorney Johnson: Was this a personal vehicle or company vehicle?

[00:00:42] Roberto Martinez: Personal. My white Ford F-150.

[00:00:48] Attorney Johnson: Can you describe the weather conditions that day?

[00:00:53] Roberto Martinez: It was... well, it was clear. Clear and sunny, perfect visibility.

[00:01:00] Attorney Johnson: No rain at all that day?

[00:01:03] Roberto Martinez: No, definitely not. Beautiful day, actually.

[00:01:09] Attorney Johnson: What was your destination that afternoon?

[00:01:13] Roberto Martinez: I was heading home from a job site on Elm Street.

[00:01:19] Attorney Johnson: What type of work were you doing at that site?

[00:01:23] Roberto Martinez: Kitchen renovation. We were wrapping up for the day.

[00:01:29] Attorney Johnson: What time did you leave the job site?

[00:01:33] Roberto Martinez: Around 2:45, maybe 2:46. The accident happened right after.

[00:01:40] Attorney Johnson: Were you tired or fatigued at the time?

[00:01:44] Roberto Martinez: No, I felt fine. Normal day for me.

[00:01:50] Attorney Johnson: Had you consumed any alcohol that day?

[00:01:54] Roberto Martinez: Absolutely not. I was working.

[00:02:00] Attorney Johnson: Any medications that might affect your driving?

[00:02:04] Roberto Martinez: No medications. I don't take anything like that.

[00:02:11] Attorney Johnson: How fast were you traveling when you approached the intersection of Main and Oak?

[00:02:18] Roberto Martinez: I don't remember exactly, but I wasn't speeding. I was going the speed limit.

[00:02:25] Attorney Johnson: And what is the speed limit on that stretch of Main Street?

[00:02:29] Roberto Martinez: Twenty-five miles per hour.

[00:02:33] Attorney Johnson: So you were traveling at 25 mph?

[00:02:37] Roberto Martinez: Yes, that's right. The speed limit.

[00:02:42] Attorney Johnson: Are you familiar with that intersection?

[00:02:46] Roberto Martinez: Very familiar. I drive through there almost daily.

[00:02:52] Attorney Johnson: What color was the traffic light when you first saw it?

[00:02:57] Roberto Martinez: It was green when I first approached.

[00:03:02] Attorney Johnson: Did it change before you reached the intersection?

[00:03:06] Roberto Martinez: Yes, it turned yellow when I was close.

[00:03:12] Attorney Johnson: How close were you when it turned yellow?

[00:03:16] Roberto Martinez: Pretty close. Maybe thirty or forty feet.

[00:03:22] Attorney Johnson: Did you consider stopping?

[00:03:26] Roberto Martinez: For a moment, but I was already committed to going through.

[00:03:33] Attorney Johnson: What color was the light when you entered the intersection?

[00:03:38] Roberto Martinez: Still yellow. I thought I could make it through safely.

[00:03:45] Attorney Johnson: When did you first see the plaintiff's vehicle?

[00:03:50] Roberto Martinez: Right as I was entering. It came from my right side.

[00:03:57] Attorney Johnson: Did you have time to react?

[00:04:01] Roberto Martinez: I tried to brake, but it happened so fast.

[00:04:07] Attorney Johnson: Were you using your cell phone at any point before the accident?

[00:04:14] Roberto Martinez: No, I never use my phone while driving. That's dangerous.

[00:04:21] Attorney Johnson: Not even to check the time or GPS?

[00:04:25] Roberto Martinez: No, I know the area well. Didn't need GPS that day.

[00:04:32] Attorney Johnson: Let me ask you again about your speed. Earlier you said you were going 25 mph?

[00:04:38] Roberto Martinez: Yes, the speed limit.

[00:04:42] Attorney Johnson: But didn't you tell the police officer at the scene that you might have been going 35, maybe 40?

[00:04:50] Roberto Martinez: I... I don't recall saying that exactly.

[00:04:55] Attorney Johnson: You don't recall? Let me refresh your memory.

[00:05:00] Roberto Martinez: I was shaken up after the accident. I might not have been thinking clearly.

[00:05:07] Attorney Johnson: So which is it - 25 mph or 35 to 40 mph?

[00:05:13] Roberto Martinez: I believe I was going the speed limit.

[00:05:18] Attorney Johnson: Let's talk more about the weather. You said it was clear and sunny?

[00:05:24] Roberto Martinez: Yes, perfect visibility.

[00:05:28] Attorney Johnson: Are you aware that the meteorological data for that day shows light rain at the time of the accident?

[00:05:36] Roberto Martinez: I... that doesn't sound right. It was clear when I left the job site.

[00:05:43] Attorney Johnson: And the police report notes "wet road conditions"?

[00:05:48] Roberto Martinez: I don't remember the roads being wet.

[00:05:53] Attorney Johnson: You mentioned you never use your phone while driving?

[00:05:58] Roberto Martinez: That's correct. It's dangerous.

[00:06:02] Attorney Johnson: Do you recognize this document?

[00:06:06] Roberto Martinez: It looks like phone records.

[00:06:10] Attorney Johnson: These are your phone records from March 15th. Do you see the entry at 2:47 PM?

[00:06:18] Roberto Martinez: I see it.

[00:06:21] Attorney Johnson: That shows a 3-minute phone call ending at 2:50 PM. The accident occurred at 2:50:30 PM. Can you explain this?

[00:06:32] Roberto Martinez: I... I might have gotten a call, but I wasn't actively talking while driving.

[00:06:39] Attorney Johnson: But the records show the call lasted 3 minutes and ended 30 seconds before the 911 call. Were you or weren't you on the phone?

[00:06:50] Roberto Martinez: Okay yes, I was talking to my wife about dinner plans. I was focused on the call, not the road.

[00:06:58] Attorney Johnson: So you admit you were distracted by the phone call?

[00:07:04] Roberto Martinez: I guess... yes, I was distracted.

[00:07:09] Attorney Johnson: Going back to the traffic light - you said it was yellow when you entered the intersection?

[00:07:16] Roberto Martinez: Yes.

[00:07:18] Attorney Johnson: Not red?

[00:07:20] Roberto Martinez: No, it was yellow. I'm sure of that.

[00:07:25] Attorney Johnson: But what if I told you that witness statements indicate the light was red?

[00:07:32] Roberto Martinez: I... well, I saw it was yellow but I thought I could make it through before anyone came.

[00:07:40] Attorney Johnson: So you admit you saw the light was red?

[00:07:44] Roberto Martinez: Yes, I saw it was red but I thought I could make it through before anyone came.

[00:07:52] Attorney Johnson: Where exactly did the collision occur?

[00:07:56] Roberto Martinez: Right in the middle of the intersection, I'd say.

[00:08:01] Attorney Johnson: Were you able to brake normally before the collision?

[00:08:06] Roberto Martinez: No, the brakes felt spongy and didn't respond properly when I tried to stop.

[00:08:14] Attorney Johnson: So you're claiming mechanical failure?

[00:08:18] Roberto Martinez: Well, something wasn't right with the brakes.

[00:08:23] Attorney Johnson: But earlier you said you felt fine and everything was normal that day?

[00:08:29] Roberto Martinez: Yes, but the brakes... they felt different when I needed to stop quickly.

[00:08:36] Attorney Johnson: Did you have the vehicle inspected recently?

[00:08:41] Roberto Martinez: No, everything was working fine before that day.

[00:08:46] Attorney Johnson: Why did you enter the intersection on a red light?

[00:08:51] Roberto Martinez: A kid came out of nowhere. I had to choose between hitting the child or running the light.

[00:08:59] Attorney Johnson: There was a child in the intersection?

[00:09:03] Roberto Martinez: Yes, I had to swerve to avoid hitting them.

[00:09:08] Attorney Johnson: But no witness statements mention a child.

[00:09:12] Roberto Martinez: It happened so fast. Maybe they didn't see.

[00:09:17] Attorney Johnson: Mr. Martinez, have you given consistent testimony today?

[00:09:22] Roberto Martinez: I've told you what I remember.

[00:09:26] Attorney Johnson: Let me summarize what you've told us: First, you said 25 mph, then admitted to possibly 35-40 mph. You said clear weather, but records show rain. You denied phone use, then admitted to a 3-minute call. You said yellow light, then admitted it was red. You claim brake failure and a child in the road. Which version is true?

[00:09:48] Roberto Martinez: I was trying to remember accurately. It was a traumatic event.`,Rj=`DEPOSITION OF ROBERTO MARTINEZ

                                   Case: Jane Doe v. Roberto Martinez 
                                         and Martinez Construction LLC
                                   Date: July 26, 2024
                                   
                                   
                                                    Page 1
                                                    
     1   MS. JOHNSON:    Can you state your name for the record?
     2   MR. MARTINEZ:   Roberto Martinez.
     3   MS. JOHNSON:    And what is your occupation?
     4   MR. MARTINEZ:   I own Martinez Construction LLC.
     5   MS. JOHNSON:    How long have you been in the construction business?
     6   MR. MARTINEZ:   About eight years now. Started small and built it up.
     7   MS. JOHNSON:    On March 15th, 2024, at approximately 2:50 PM, were
     8                   you driving a vehicle?
     9   MR. MARTINEZ:   Yes, I was driving my pickup truck.
    10   MS. JOHNSON:    Was this a personal vehicle or company vehicle?
    11   MR. MARTINEZ:   Personal. My white Ford F-150.
    12   MS. JOHNSON:    Can you describe the weather conditions that day?
    13   MR. MARTINEZ:   It was... well, it was clear. Clear and sunny,
    14                   perfect visibility.
    15   MS. JOHNSON:    No rain at all that day?
    16   MR. MARTINEZ:   No, definitely not. Beautiful day, actually.
    17   MS. JOHNSON:    What was your destination that afternoon?
    18   MR. MARTINEZ:   I was heading home from a job site on Elm Street.
    19   MS. JOHNSON:    What type of work were you doing at that site?
    20   MR. MARTINEZ:   Kitchen renovation. We were wrapping up for the day.
    21   MS. JOHNSON:    What time did you leave the job site?
    22   MR. MARTINEZ:   Around 2:45, maybe 2:46. The accident happened right
    23                   after.
    24   MS. JOHNSON:    Were you tired or fatigued at the time?
    25   MR. MARTINEZ:   No, I felt fine. Normal day for me.

                                                    Page 2
                                                    
     1   MS. JOHNSON:    Had you consumed any alcohol that day?
     2   MR. MARTINEZ:   Absolutely not. I was working.
     3   MS. JOHNSON:    Any medications that might affect your driving?
     4   MR. MARTINEZ:   No medications. I don't take anything like that.
     5   MS. JOHNSON:    How fast were you traveling when you approached the
     6                   intersection of Main and Oak?
     7   MR. MARTINEZ:   I don't remember exactly, but I wasn't speeding. I
     8                   was going the speed limit.
     9   MS. JOHNSON:    And what is the speed limit on that stretch of Main
    10                   Street?
    11   MR. MARTINEZ:   Twenty-five miles per hour.
    12   MS. JOHNSON:    So you were traveling at 25 mph?
    13   MR. MARTINEZ:   Yes, that's right. The speed limit.
    14   MS. JOHNSON:    Are you familiar with that intersection?
    15   MR. MARTINEZ:   Very familiar. I drive through there almost daily.
    16   MS. JOHNSON:    What color was the traffic light when you first saw
    17                   it?
    18   MR. MARTINEZ:   It was green when I first approached.
    19   MS. JOHNSON:    Did it change before you reached the intersection?
    20   MR. MARTINEZ:   Yes, it turned yellow when I was close.
    21   MS. JOHNSON:    How close were you when it turned yellow?
    22   MR. MARTINEZ:   Pretty close. Maybe thirty or forty feet.
    23   MS. JOHNSON:    Did you consider stopping?
    24   MR. MARTINEZ:   For a moment, but I was already committed to going
    25                   through.

                                                    Page 3
                                                    
     1   MS. JOHNSON:    What color was the light when you entered the
     2                   intersection?
     3   MR. MARTINEZ:   Still yellow. I thought I could make it through
     4                   safely.
     5   MS. JOHNSON:    When did you first see the plaintiff's vehicle?
     6   MR. MARTINEZ:   Right as I was entering. It came from my right side.
     7   MS. JOHNSON:    Did you have time to react?
     8   MR. MARTINEZ:   I tried to brake, but it happened so fast.
     9   MS. JOHNSON:    Were you using your cell phone at any point before
    10                   the accident?
    11   MR. MARTINEZ:   No, I never use my phone while driving. That's
    12                   dangerous.
    13   MS. JOHNSON:    Not even to check the time or GPS?
    14   MR. MARTINEZ:   No, I know the area well. Didn't need GPS that day.
    15   MS. JOHNSON:    Let me ask you again about your speed. Earlier you
    16                   said you were going 25 mph?
    17   MR. MARTINEZ:   Yes, the speed limit.
    18   MS. JOHNSON:    But didn't you tell the police officer at the scene
    19                   that you might have been going 35, maybe 40?
    20   MR. MARTINEZ:   I... I don't recall saying that exactly.
    21   MS. JOHNSON:    You don't recall? Let me refresh your memory.
    22   MR. MARTINEZ:   I was shaken up after the accident. I might not
    23                   have been thinking clearly.
    24   MS. JOHNSON:    So which is it - 25 mph or 35 to 40 mph?
    25   MR. MARTINEZ:   I believe I was going the speed limit.

                                                    Page 4
                                                    
     1   MS. JOHNSON:    Let's talk more about the weather. You said it was
     2                   clear and sunny?
     3   MR. MARTINEZ:   Yes, perfect visibility.
     4   MS. JOHNSON:    Are you aware that the meteorological data for that
     5                   day shows light rain at the time of the accident?
     6   MR. MARTINEZ:   I... that doesn't sound right. It was clear when
     7                   I left the job site.
     8   MS. JOHNSON:    And the police report notes "wet road conditions"?
     9   MR. MARTINEZ:   I don't remember the roads being wet.
    10   MS. JOHNSON:    You mentioned you never use your phone while
    11                   driving?
    12   MR. MARTINEZ:   That's correct. It's dangerous.
    13   MS. JOHNSON:    (Counsel hands witness Exhibit A) Do you recognize
    14                   this document?
    15   MR. MARTINEZ:   It looks like phone records.
    16   MS. JOHNSON:    These are your phone records from March 15th. Do
    17                   you see the entry at 2:47 PM?
    18   MR. MARTINEZ:   I see it.
    19   MS. JOHNSON:    That shows a 3-minute phone call ending at 2:50 PM.
    20                   The accident occurred at 2:50:30 PM. Can you explain
    21                   this?
    22   MR. MARTINEZ:   I... I might have gotten a call, but I wasn't
    23                   actively talking while driving.
    24   MS. JOHNSON:    But the records show the call lasted 3 minutes and
    25                   ended 30 seconds before the 911 call. Were you or

                                                    Page 5
                                                    
     1                   weren't you on the phone?
     2   MR. MARTINEZ:   Okay yes, I was talking to my wife about dinner
     3                   plans. I was focused on the call, not the road.
     4   MS. JOHNSON:    So you admit you were distracted by the phone call?
     5   MR. MARTINEZ:   I guess... yes, I was distracted.
     6   MS. JOHNSON:    Going back to the traffic light - you said it was
     7                   yellow when you entered the intersection?
     8   MR. MARTINEZ:   Yes.
     9   MS. JOHNSON:    Not red?
    10   MR. MARTINEZ:   No, it was yellow. I'm sure of that.
    11   MS. JOHNSON:    But what if I told you that witness statements
    12                   indicate the light was red?
    13   MR. MARTINEZ:   I... well, I saw it was yellow but I thought I
    14                   could make it through before anyone came.
    15   MS. JOHNSON:    So you admit you saw the light was red?
    16   MR. MARTINEZ:   Yes, I saw it was red but I thought I could make
    17                   it through before anyone came.
    18   MS. JOHNSON:    Where exactly did the collision occur?
    19   MR. MARTINEZ:   Right in the middle of the intersection, I'd say.
    20   MS. JOHNSON:    Were you able to brake normally before the
    21                   collision?
    22   MR. MARTINEZ:   No, the brakes felt spongy and didn't respond
    23                   properly when I tried to stop.
    24   MS. JOHNSON:    So you're claiming mechanical failure?
    25   MR. MARTINEZ:   Well, something wasn't right with the brakes.

                                                    Page 6
                                                    
     1   MS. JOHNSON:    But earlier you said you felt fine and everything
     2                   was normal that day?
     3   MR. MARTINEZ:   Yes, but the brakes... they felt different when I
     4                   needed to stop quickly.
     5   MS. JOHNSON:    Did you have the vehicle inspected recently?
     6   MR. MARTINEZ:   No, everything was working fine before that day.
     7   MS. JOHNSON:    Why did you enter the intersection on a red light?
     8   MR. MARTINEZ:   A kid came out of nowhere. I had to choose between
     9                   hitting the child or running the light.
    10   MS. JOHNSON:    There was a child in the intersection?
    11   MR. MARTINEZ:   Yes, I had to swerve to avoid hitting them.
    12   MS. JOHNSON:    But no witness statements mention a child.
    13   MR. MARTINEZ:   It happened so fast. Maybe they didn't see.
    14   MS. JOHNSON:    Mr. Martinez, have you given consistent testimony
    15                   today?
    16   MR. MARTINEZ:   I've told you what I remember.
    17   MS. JOHNSON:    Let me summarize what you've told us: First, you
    18                   said 25 mph, then admitted to possibly 35-40 mph.
    19                   You said clear weather, but records show rain. You
    20                   denied phone use, then admitted to a 3-minute call.
    21                   You said yellow light, then admitted it was red.
    22                   You claim brake failure and a child in the road.
    23                   Which version is true?
    24   MR. MARTINEZ:   I was trying to remember accurately. It was a
    25                   traumatic event.

                                      (End of Excerpt)
                                      
                                      (Exhibit A - Phone Records)
                                      Date: March 15, 2024
                                      Time: 2:47-2:50 PM (3-minute call)
                                      Contact: Wife - Maria Martinez`,Tj=[{page:1,lines:"1-25",topic:"Personal Background",summary:"Name, occupation, construction business history, vehicle details, weather description"},{page:2,lines:"1-25",topic:"Sobriety & Speed Claims",summary:"Alcohol/medication denials, initial 25 mph speed claim, intersection familiarity, traffic light observations"},{page:3,lines:"1-25",topic:"Collision Details",summary:"Light color when entering, collision sequence, cell phone denial, speed contradiction emerges"},{page:4,lines:"1-25",topic:"Weather Contradiction",summary:"Weather contradiction exposed, phone records presented, initial phone use denial"},{page:5,lines:"1-25",topic:"Key Admissions",summary:"Phone use admission, distracted driving admission, traffic light color admissions, brake failure claims"},{page:6,lines:"1-25",topic:"Multiple Contradictions",summary:"Emergency child claim, inconsistency summary, credibility challenge"}],Vc=({selectedDeponent:t,setSelectedDeponent:s,setShowTranscriptView:n,activeAnalysisTab:r,setActiveAnalysisTab:a,contradictions:i,keyIssueImpacts:l,keyIssues:o,continuousNotes:c,setContinuousNotes:d,setShowAnnotationCreator:m,handleEditAnnotation:f,handleDeleteAnnotation:p})=>{const[g,v]=u.useState(null),N=(h,b)=>{console.log("Edit annotation:",h,b)},I=h=>{console.log("Delete annotation:",h)},y=h=>{console.log("Show annotation creator:",h)};return e.jsxs("div",{className:"bg-white h-[calc(100vh-120px)] flex flex-col",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>{s(null),n(!1)},className:"text-gray-400 hover:text-gray-600",title:"Back to main view",children:e.jsx(qd,{size:20})}),e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Transcript Analysis - ",t==null?void 0:t.name]})]})}),e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-1/2 flex flex-col border-r border-gray-200 h-full",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("h4",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:"Page-Line Summary (Click to Navigate)"}),e.jsx("div",{className:"max-h-32 overflow-y-auto",children:Tj.map((h,b)=>e.jsx("div",{onClick:()=>v(h),className:`px-4 py-1.5 border-b border-gray-100 cursor-pointer hover:bg-blue-50 transition-colors ${(g==null?void 0:g.page)===h.page?"bg-blue-100 border-l-4 border-l-blue-500":""}`,children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[h.page,":",h.lines]}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-700 rounded",children:h.topic})]}),e.jsx("p",{className:"text-xs text-gray-800 mt-1 break-words",children:h.summary})]})})},b))})]}),e.jsxs("div",{className:"flex-1 p-3 overflow-y-auto bg-gray-50 h-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Full Transcript"}),e.jsxs("button",{className:"flex items-center px-2 py-1 border border-gray-300 rounded text-xs hover:bg-gray-50",children:[e.jsx(Os,{size:12,className:"mr-1"}),"Upload Official Recording/Transcript"]})]}),e.jsx("div",{className:"bg-white rounded border p-3 h-full",children:e.jsx("div",{className:"font-mono text-sm whitespace-pre-line select-text cursor-text",children:Rj.split(`
`).map((h,b)=>{const j=h.includes("Page ")&&h.trim().length<30,k=h.trim().startsWith("Q."),x=h.trim().startsWith("A."),M=h.includes("Exhibit")&&h.includes("Cell Phone Records"),T=/^\s*\d+\s*$/.test(h),S=h.includes("Case:")||h.includes("Date:"),w=h.includes("DEPOSITION OF");return e.jsx("div",{className:`${w?"font-bold text-center text-lg text-gray-900 mb-4":S?"text-center text-gray-700":j?"font-bold text-blue-700 bg-blue-50 px-2 py-1 rounded text-center mt-4":k?"text-blue-700":x?"text-green-700":M?"font-medium text-red-700 bg-red-50 px-2 py-1 rounded text-center italic":T?"text-gray-400":"text-gray-700"} leading-relaxed`,children:h},b)})})})]})]}),e.jsxs("div",{className:"w-1/2 flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-gray-200 px-4 pt-3",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>a("contradictions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="contradictions"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Sl,{size:16,className:"inline mr-1"}),"Contradictions (",i.length,")"]}),e.jsxs("button",{onClick:()=>a("key-issues"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="key-issues"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Lb,{size:16,className:"inline mr-1"}),"Key Issues (",o.length,")"]})]})}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto h-0",children:[r==="contradictions"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contradictions"}),e.jsxs("button",{onClick:()=>(m||y)(!0),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 flex items-center text-sm",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add Contradiction"]})]}),i.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Sl,{size:48,className:"mx-auto mb-3 opacity-50"}),e.jsx("div",{className:"font-medium",children:"No contradictions detected"}),e.jsx("div",{className:"text-sm",children:"AI will automatically detect contradictions during testimony"})]}):e.jsx("div",{className:"space-y-3",children:i.map(h=>{var b;return e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded-lg hover:bg-red-100 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-white text-xs font-medium ${h.contradictionType==="internal"?"bg-red-600":"bg-orange-600"}`,children:((b=h.contradictionType)==null?void 0:b.toUpperCase())||"INTERNAL"}),h.citation&&e.jsxs("span",{className:"text-red-600 font-mono text-xs",children:["📍",h.citation.page&&h.citation.line?e.jsxs("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:[h.citation.page,":",h.citation.line]}):h.citation.timeRange?e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:h.citation.timeRange}):`${h.citation.page}:${h.citation.line}`]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>(f||N)(h.id,{}),className:"text-gray-400 hover:text-blue-600",title:"Edit",children:e.jsx(zc,{size:12})}),e.jsx("button",{onClick:()=>(p||I)(h.id),className:"text-gray-400 hover:text-red-600",title:"Delete",children:e.jsx(ut,{size:12})})]})]}),e.jsx("div",{className:"text-red-800 mb-1 text-xs leading-relaxed",children:h.content}),h.contradictoryTestimony&&e.jsxs("div",{className:"text-red-700 text-xs italic",children:["vs: ",h.contradictoryTestimony.includes(".pdf")?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:h.contradictoryTestimony.split(" -")[0]}),h.contradictoryTestimony.split(" -")[1]&&` - ${h.contradictoryTestimony.split(" -")[1]}`]}):h.contradictoryTestimony.includes(" / Page ")?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:h.contradictoryTestimony.split(" / Page ")[1].split(": ")[0]}),h.contradictoryTestimony.split(": ")[1]&&`: ${h.contradictoryTestimony.split(": ")[1]}`]}):h.contradictoryTestimony.match(/^\d{2}:\d{2}:/)?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:h.contradictoryTestimony.split(":").slice(0,2).join(":")}),h.contradictoryTestimony.substring(5)]}):h.contradictoryTestimony]}),h.followUp&&e.jsxs("div",{className:"mt-2 p-2 bg-white rounded border text-xs",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Suggested Follow-Up:"}),e.jsx("div",{className:"text-gray-700",children:h.followUp})]})]},h.id)})})]}),r==="key-issues"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Key Issues"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 bg-blue-50 px-2 py-1 rounded",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse mr-2"}),"Auto-analyzing transcript"]})]}),o.map(h=>{const b=l.filter(S=>S.issueId===h.id.toString()),j=b.filter(S=>S.type==="helps").length,k=b.filter(S=>S.type==="harms").length,x=j-k,T=(S=>S>0?{text:"Favors You",color:"text-green-600 bg-green-50"}:S===0?{text:"Undetermined",color:"text-gray-600 bg-gray-100"}:{text:"Favors Them",color:"text-orange-600 bg-orange-50"})(x);return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:h.text}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:h.elements?h.elements.join(", "):h.element}),e.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${T.color}`,children:T.text})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"AI Analysis Summary"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[j," supporting • ",k," harmful"]})]}),e.jsx("div",{className:"text-xs text-gray-600 leading-relaxed",children:x>0?`Testimony analysis reveals ${j} pieces of evidence supporting plaintiff's position vs ${k} that could benefit defense. Overall testimony trend favors plaintiff.`:x<0?`Analysis identifies ${k} statements that could benefit defense vs ${j} supporting plaintiff. Defense may have stronger position on this issue.`:"Balanced testimony with equal supporting and challenging evidence. Further depositions may be needed to strengthen plaintiff's position."})]}),b.filter(S=>S.type==="helps").length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"text-sm font-medium text-green-800 mb-2 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Supporting Plaintiff (",j,")"]}),e.jsx("div",{className:"space-y-2",children:b.filter(S=>S.type==="helps").map(S=>e.jsxs("div",{className:"bg-green-50 border-l-4 border-l-green-500 p-3 rounded-r",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("div",{className:"font-medium text-green-800 text-sm",children:S.title}),S.citation&&e.jsxs("span",{className:"text-xs text-green-700 font-mono bg-green-100 px-2 py-1 rounded",children:["📍",S.citation.page&&S.citation.line?`${S.citation.page}:${S.citation.line}`:S.citation.timeRange||"Live"]})]}),e.jsx("div",{className:"text-green-700 text-xs leading-relaxed",children:S.content})]},S.id))})]}),b.filter(S=>S.type==="harms").length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"text-sm font-medium text-red-800 mb-2 flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"Harmful to Plaintiff (",k,")"]}),e.jsx("div",{className:"space-y-2",children:b.filter(S=>S.type==="harms").map(S=>e.jsxs("div",{className:"bg-red-50 border-l-4 border-l-red-500 p-3 rounded-r",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("div",{className:"font-medium text-red-800 text-sm",children:S.title}),S.citation&&e.jsxs("span",{className:"text-xs text-red-700 font-mono bg-red-100 px-2 py-1 rounded",children:["📍",S.citation.page&&S.citation.line?`${S.citation.page}:${S.citation.line}`:S.citation.timeRange||"Live"]})]}),e.jsx("div",{className:"text-red-700 text-xs leading-relaxed",children:S.content})]},S.id))})]}),b.length===0&&e.jsx("div",{className:"text-center py-6 bg-gray-50 rounded border-2 border-dashed border-gray-200",children:e.jsx("div",{className:"text-sm text-gray-500",children:"No impacts found for this key issue"})})]},h.id)}),o.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Kp,{size:48,className:"mx-auto mb-3 opacity-50"}),e.jsx("div",{className:"font-medium mb-1",children:"No key issues defined"}),e.jsx("div",{className:"text-sm",children:"Add key issues to see AI analysis of supporting and harmful testimony"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-4 pb-6 h-[40%] flex-shrink-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Notepad"}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("textarea",{className:"flex-1 w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm resize-none",placeholder:"Notes during transcript review... Jot down observations, follow-up questions, key admissions, or anything else that catches your attention.",value:c,onChange:h=>d(h.target.value)}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("div",{className:"text-xs text-gray-500",children:c.trim()?"Auto-saving...":"Ready"})})]})]})]})]})]})},Aj=Object.freeze(Object.defineProperty({__proto__:null,TranscriptAnalysisView:Vc,default:Vc},Symbol.toStringTag,{value:"Module"})),Pa=[{id:"contradiction_1",title:"Speed Testimony Inconsistency (Internal)",content:'Speed claim: "25 mph, the speed limit"',citation:{timeRange:"02:33",page:2,line:12,context:"Q: So you were traveling at 25 mph? A: Yes, that's right. The speed limit."},timestamp:new Date(Date.now()-36e5),followUp:"Cross-examine on specific speed. Request vehicle computer data if available.",severity:"high",automated:!0,mode:"live",contradictionType:"internal",contradictoryTestimony:'04:42 / Page 3:19: "might have been going 35, maybe 40"'},{id:"contradiction_2",title:"Weather Description vs Meteorological Data (External)",content:'Weather claim: "clear and sunny, perfect visibility"',citation:{timeRange:"00:53",page:1,line:13,context:"Q: Can you describe the weather conditions that day? A: It was... well, it was clear. Clear and sunny, perfect visibility."},timestamp:new Date(Date.now()-24e5),followUp:"Present weather service records and police report as exhibits. Use in closing for credibility argument.",severity:"high",automated:!1,mode:"live",contradictionType:"external",contradictoryTestimony:'Police Report.pdf p.3 - "road surface wet, 0.2" rainfall recorded"'},{id:"contradiction_3",title:"Phone Usage Denial vs Records (External)",content:'Phone usage claim: "I never use my phone while driving, ever"',citation:{timeRange:"04:14",page:3,line:11,context:"Q: Were you using your cell phone at any point before the accident? A: No, I never use my phone while driving. That's dangerous."},timestamp:new Date(Date.now()-18e5),followUp:"Present phone records as exhibit. Subpoena carrier for detailed call logs.",severity:"high",automated:!1,mode:"live",contradictionType:"external",contradictoryTestimony:"Phone Records.pdf p.1 - 3-min call ended 2:50 PM vs 911 call 2:50:30 PM"}],Lo=[{id:"helps_1",type:"helps",title:"Admits Speeding at Intersection",content:'Defendant admits driving 35 mph in 25 mph zone approaching intersection: "I was going about 35 miles per hour, maybe a little less because of the rain."',citation:{timeRange:"17:20",page:2,line:20,context:"Q: What was your approximate speed when approaching the intersection? A: I was going about 35 miles per hour, maybe a little less because of the rain."},timestamp:new Date(Date.now()-21e5),severity:"high",automated:!1,mode:"live",issueId:"1"},{id:"helps_2",type:"helps",title:"Phone Distraction During Driving",content:'After confronted with phone records, defendant admits taking 3:42 call while driving: "Well, I was slowing down to pull over when the accident happened."',citation:{timeRange:"23:45",page:3,line:15,context:"Q: Earlier you said you didn't use your phone while driving. Were you pulled over when you took this call? A: I... well, I was slowing down to pull over when the accident happened."},timestamp:new Date(Date.now()-15e5),severity:"high",automated:!1,mode:"live",issueId:"3"},{id:"helps_3",type:"helps",title:"Weather Impacted Visibility",content:`Defendant admits weather conditions affected visibility: "I didn't see her coming" during rainy conditions.`,citation:{timeRange:"27:50",page:4,line:8,context:`Q: The police report indicates you said "I didn't see her coming" to Officer Johnson. Do you recall that? A: I might have said something like that. I was pretty rattled.`},timestamp:new Date(Date.now()-12e5),severity:"high",automated:!1,mode:"live",issueId:"2"},{id:"helps_4",type:"helps",title:"Knew Phone Use Violated Traffic Safety",content:"Defendant acknowledges company policy against phone use while driving, showing awareness that cell phone use compromises driving safety.",citation:{timeRange:"22:35",page:3,line:5,context:"Q: Were you using your cell phone at any point during your drive that day? A: No, I don't use my phone while driving. Company policy."},timestamp:new Date(Date.now()-18e5),severity:"medium",automated:!1,mode:"live",issueId:"3"},{id:"helps_5",type:"helps",title:"Violated Traffic Light Law",content:'Defendant admits proceeding through yellow light from 100 feet away: "It was yellow. I thought I could make it through."',citation:{timeRange:"18:50",page:2,line:25,context:"Q: Let me direct your attention to the traffic light. What color was it when you first saw it? A: It was yellow. I thought I could make it through."},timestamp:new Date(Date.now()-165e4),severity:"high",automated:!1,mode:"live",issueId:"1"},{id:"harms_1",type:"harms",title:"Weather Defense Argument",content:'Defendant suggests changing weather conditions contributed to accident: "Well, the weather was changing. It went from heavy to light, you know?"',citation:{timeRange:"25:25",page:4,line:2,context:'Q: A moment ago you described it as "pretty heavy rain." Which is accurate? A: Well, the weather was changing. It went from heavy to light, you know?'},timestamp:new Date(Date.now()-12e5),severity:"medium",automated:!1,mode:"live",issueId:"2"}],_j=t=>`Live Notes - ${t||"Martinez"} Deposition - ${new Date().toLocaleDateString()}

Key Observations:
- Defendant seems nervous when discussing phone usage
- Hesitates before answering speed-related questions  
- Story about weather conditions keeps changing
- Good eye contact until traffic light questions come up
- Voice gets quieter when discussing moments before collision

Questions to explore further:
- Exact timeline of phone call vs accident
- Get vehicle computer data for speed verification
- Check weather records for that day
- Ask about glasses/vision - squinting frequently

Strategy notes:
- Focus credibility attack on inconsistencies 
- Phone records will be key evidence
- Defendant's demeanor suggests consciousness of guilt
- Weather contradiction could undermine entire testimony

Follow-up items:
- Subpoena phone carrier records
- Request vehicle diagnostic data
- Get official weather report
- Schedule expert witness on accident reconstruction`,Pj=({selectedDeponent:t,setContradictions:s,setKeyIssueImpacts:n,setContinuousNotes:r,setShowTranscriptView:a,setDeponents:i,setSelectedDeponent:l})=>{const[o,c]=u.useState(!1),[d,m]=u.useState(!1),[f,p]=u.useState(0),[g,v]=u.useState(""),[N,I]=u.useState(""),[y,h]=u.useState(0),b=u.useRef(null),j=u.useRef(null),k=F=>{const O=Math.floor(F/3600),_=Math.floor(F%3600/60),oe=F%60;return`${O.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}:${oe.toString().padStart(2,"0")}`},x=()=>{I(Qm),v(Qm)},M=()=>{Pa.forEach((F,O)=>{setTimeout(()=>{s(_=>[..._,F])},O*2e3)})},T=()=>{const F=_j(t==null?void 0:t.name);let O="";F.split(" ").forEach((oe,Se)=>{setTimeout(()=>{O+=(Se===0?"":" ")+oe,r(O)},Se*100)})},S=()=>{c(!0),m(!1),p(0),setTimeout(()=>{x()},1e3),setTimeout(()=>{p(5104)},2e3),setTimeout(()=>{M()},3e3),setTimeout(()=>{T()},4e3)},w=()=>{v(""),I(""),s([]),n([]),r(""),h(0),S()},L=()=>{m(!0)},X=()=>{c(!1),m(!1),b.current&&(clearInterval(b.current),b.current=null),j.current&&(clearInterval(j.current),j.current=null),a(!0),t&&(i(F=>F.map(O=>O.id===t.id?{...O,hasTranscript:!0,transcriptType:"draft",status:"completed"}:O)),l(F=>F?{...F,hasTranscript:!0,transcriptType:"draft",status:"completed"}:null))};return u.useEffect(()=>()=>{b.current&&(clearInterval(b.current),b.current=null),j.current&&(clearInterval(j.current),j.current=null)},[]),{isRecording:o,isPaused:d,recordingTime:f,transcriptText:g,simulatedTranscript:N,animationStep:y,handleStartRecording:w,handlePauseRecording:L,handleStopRecording:X,setIsPaused:m,formatTime:k}},Oj=({showTranscriptView:t})=>{const[s,n]=u.useState([]),[r,a]=u.useState([]);return u.useEffect(()=>{console.log("Sample data effect triggered:",{showTranscriptView:t,contradictionsLength:s.length,keyIssueImpactsLength:r.length,shouldLoadContradictions:t&&s.length===0,shouldLoadImpacts:t&&r.length===0}),t&&(s.length===0&&(console.log("Loading sample contradictions..."),n(Pa)),r.length===0&&(console.log("Loading sample key issue impacts..."),a(Lo),console.log("Key issue impacts loaded:",{count:Lo.length,sampleData:Lo})))},[t,s.length,r.length]),{contradictions:s,keyIssueImpacts:r,setContradictions:n,setKeyIssueImpacts:a,clearAnnotations:()=>{n([]),a([])},addContradiction:m=>{n(f=>[...f,m])},addKeyIssueImpact:m=>{a(f=>[...f,m])},removeContradiction:m=>{n(f=>f.filter(p=>p.id!==m))},removeKeyIssueImpact:m=>{a(f=>f.filter(p=>p.id!==m))}}},zj=({activeView:t,onEditDeponent:s,onJaneDoeProcessing:n})=>{const[r,a]=u.useState([]),[i,l]=u.useState(null),[o,c]=u.useState([]),[d,m]=u.useState(null),[f,p]=u.useState("opposing");u.useEffect(()=>{o.length===0&&c([{id:"deponent-1",name:"Jane Doe",role:"Plaintiff",type:"friendly",description:"Plaintiff in motor vehicle accident case with ongoing injuries and damages",relevance:"First-hand testimony about the accident, injuries sustained, and impact on daily life",suggested:!0},{id:"deponent-2",name:"Robert Martinez",role:"Defendant Driver",type:"opposing",description:"Defendant driver who caused the motor vehicle accident",relevance:"Key testimony about driving behavior, traffic violations, and circumstances of collision",suggested:!0}])},[]);const g=M=>{const T={id:Date.now(),hasTranscript:!1,company:"",date:"",type:"opposing",name:"",role:"",...M};a(S=>[...S,T])},v=M=>{const T=M.name==="Jane Doe",S=new Date;S.setDate(S.getDate()-14);const w=S.toISOString().split("T")[0],X={...M,id:Date.now(),suggested:!1,hasTranscript:!1,status:T?"processing":"pending",relationToCase:M.description||M.relationToCase||"",relevance:void 0,description:void 0,company:M.company||"",date:T?w:M.date||"",time:T?"10:00":M.time||"",processingStartTime:T?Date.now():void 0};a(F=>[...F,X]),c(F=>F.filter(O=>O.id!==M.id)),T&&p("friendly"),T&&n&&n(X.id)},N=M=>{c(T=>T.filter(S=>S.id!==M))},I=M=>{m(M),s&&s()},y=(M,T)=>{a(S=>S.map(w=>w.id===M?{...w,...T}:w))},h=M=>{a(T=>T.filter(S=>S.id!==M))},b=(M,T="draft")=>{a(S=>S.map(w=>w.id===M?{...w,hasTranscript:!0,transcriptType:T,status:"completed"}:w)),i&&i.id===M&&l(S=>S?{...S,hasTranscript:!0,transcriptType:T,status:"completed"}:null)},j=[...r,...o],k=j.filter(M=>M.type==="friendly"),x=j.filter(M=>M.type==="opposing");return{deponents:r,selectedDeponent:i,suggestedDeponents:o,editingDeponent:d,activeDeponentTab:f,allDeponents:j,friendlyDeponents:k,opposingDeponents:x,setDeponents:a,setSelectedDeponent:l,setSuggestedDeponents:c,setEditingDeponent:m,setActiveDeponentTab:p,handleAddDeponent:g,handleAcceptSuggestedDeponent:v,handleDismissSuggestedDeponent:N,handleEditDeponent:I,handleUpdateDeponent:y,handleDeleteDeponent:h,markDeponentWithTranscript:b}},Lj=({activeView:t})=>{const[s,n]=u.useState([]),[r,a]=u.useState([]);return u.useEffect(()=>{r.length===0&&a([{id:1,text:"Defendant's adherence to traffic laws at intersection",element:"Breach",suggested:!0},{id:2,text:"Impact of weather conditions on visibility and vehicle control",element:"Causation",suggested:!0},{id:3,text:"Cell phone distraction as contributing factor",element:"Breach",suggested:!0},{id:4,text:"Extent of plaintiff's medical treatment and ongoing care needs",element:"Damages",suggested:!0}])},[]),{keyIssues:s,suggestedKeyIssues:r,setKeyIssues:n,setSuggestedKeyIssues:a,handleAddKeyIssue:f=>{const p=Math.max(...s.map(g=>g.id),...r.map(g=>g.id),0)+1;n(g=>[...g,{id:p,...f}])},handleAcceptSuggestedIssue:f=>{const p={...f,suggested:!1};n(g=>[...g,p]),a(g=>g.filter(v=>v.id!==f.id))},handleDismissSuggestedIssue:f=>{a(p=>p.filter(g=>g.id!==f))},handleEditKeyIssue:(f,p)=>{n(g=>g.map(v=>v.id===f?{...v,...p}:v))},handleDeleteKeyIssue:f=>{n(p=>p.filter(g=>g.id!==f))},handleSuggestKeyIssues:()=>{const f=[{id:Date.now()+1,text:"Product defect claims under warranty law",element:"Duty"},{id:Date.now()+2,text:"Breach of implied warranty of merchantability",element:"Breach"},{id:Date.now()+3,text:"Corporate relationship between parent and subsidiary companies",element:"Causation"}];n(p=>[...p,...f])}}},Zm=[],$j=()=>{const[t,s]=u.useState(Zm),[n,r]=u.useState(""),[a,i]=u.useState(!1),l=p=>{if(!p.trim())return;const g={id:Date.now(),type:"user",content:p.trim(),timestamp:new Date},v={id:Date.now()+1,type:"assistant",content:"Based on the current testimony, I recommend focusing on the timeline discrepancies. The witness's statements about weather and timing are inconsistent, which could be crucial for establishing credibility.",timestamp:new Date};s(N=>[...N,g,v]),r("")};return{aiMessages:t,aiInputValue:n,showAiChat:a,setAiMessages:s,setAiInputValue:r,setShowAiChat:i,sendMessage:l,handleSendMessage:()=>{l(n)},handleKeyPress:p=>{p.key==="Enter"&&n.trim()&&l(n)},toggleAiChat:()=>{i(p=>!p)},clearChat:()=>{s(Zm)},addMessage:p=>{const g={...p,id:Date.now(),timestamp:new Date};s(v=>[...v,g])}}},Fj=()=>{const[t,s]=u.useState("overview"),[n,r]=u.useState(!1),[a,i]=u.useState("key-issues"),[l,o]=u.useState(!1),[c,d]=u.useState(!1),[m,f]=u.useState(""),[p,g]=u.useState(null),[v,N]=u.useState(""),[I,y]=u.useState(null),[h,b]=u.useState("pending"),[j,k]=u.useState("pending"),[x,M]=u.useState("pending"),T=H=>{setTimeout(()=>{L.markDeponentWithTranscript(H,"official"),X.setContradictions(Pa),X.setKeyIssueImpacts([])},6e3)},S=H=>{const Pe=H.target.files[0];if(Pe){y(Pe);const Oe=we.find(He=>He.name==="Robert Martinez");if(Oe){const He={...Oe,id:Date.now(),suggested:!1,hasTranscript:!1,status:"processing",relationToCase:Oe.description||Oe.relationToCase||"",relevance:void 0,description:void 0,company:Oe.company||"",date:Oe.date||"",processingStartTime:Date.now()};L.setDeponents(Ue=>[...Ue,He]),L.setSuggestedDeponents(Ue=>Ue.filter(St=>St.id!==Oe.id)),L.setActiveDeponentTab("opposing"),setTimeout(()=>{L.markDeponentWithTranscript(He.id,"official"),X.setContradictions(Pa),X.setKeyIssueImpacts([])},6e3)}else{const He=le.find(Ue=>Ue.name==="Robert Martinez");He&&_t(H,He)}}},w=Lj({activeView:t}),L=zj({activeView:t,onEditDeponent:()=>d(!0),onJaneDoeProcessing:T}),X=Oj({showTranscriptView:n}),F=$j(),O=Pj({selectedDeponent:L.selectedDeponent,setContradictions:X.setContradictions,setKeyIssueImpacts:X.setKeyIssueImpacts,setContinuousNotes:N,setShowTranscriptView:r,setDeponents:L.setDeponents,setSelectedDeponent:L.setSelectedDeponent}),{keyIssues:_,suggestedKeyIssues:oe,handleAddKeyIssue:Se,handleAcceptSuggestedIssue:G,handleDismissSuggestedIssue:B,handleEditKeyIssue:W}=w,{deponents:le,selectedDeponent:de,suggestedDeponents:we,editingDeponent:Re,activeDeponentTab:Ye,setSelectedDeponent:Ae,setEditingDeponent:me,setActiveDeponentTab:Ke,handleAcceptSuggestedDeponent:Y,handleDismissSuggestedDeponent:U,handleEditDeponent:ge}=L,Ce=()=>{const H=document.querySelector('[data-section="key-issues"]');H&&H.scrollIntoView({behavior:"smooth",block:"start"})},ke=()=>{const H=we.find(Pe=>Pe.name==="Jane Doe");H&&Y(H),b("confirmed")},Q=()=>{b("skipped")};u.useEffect(()=>{le.some(Pe=>Pe.name==="Jane Doe")&&h==="pending"&&b("confirmed")},[le,h]);const{contradictions:Me,keyIssueImpacts:P}=X,{isRecording:K,isPaused:he,recordingTime:ve,transcriptText:be,handleStartRecording:ye,handlePauseRecording:fe,handleStopRecording:We,setIsPaused:V,formatTime:De}=O,{aiMessages:_e,aiInputValue:je,showAiChat:qe,setAiInputValue:Ze,toggleAiChat:hs}=F,dt=H=>{H.trim()};u.useEffect(()=>{if(m.trim()&&m.length>0){const H=setTimeout(()=>{dt(m),f(""),g(new Date)},2e3);return()=>clearTimeout(H)}},[m]);const _t=(H,Pe)=>{const Oe=H.target.files[0];Oe&&(y(Oe),L.handleUpdateDeponent(Pe.id,{status:"processing",hasTranscript:!1,processingStartTime:Date.now()}),setTimeout(()=>{L.markDeponentWithTranscript(Pe.id,"official"),X.setContradictions(Pa),X.setKeyIssueImpacts([])},6e3))},gt=[{id:"overview",icon:e.jsx(yr,{size:18}),label:"Overview",active:!1},{id:"timeline",icon:e.jsx(gr,{size:18}),label:"Timeline",active:!1},{id:"deep-dive",icon:e.jsx(ra,{size:18}),label:"Deep Dive",active:!1},{id:"drafting",icon:e.jsx(ms,{size:18}),label:"Drafting",active:!1},{id:"depositions",icon:e.jsx(Cl,{size:18}),label:"Depositions",active:!0},{id:"files",icon:e.jsx(vr,{size:18}),label:"Files",active:!1}],Jt=({deponent:H,onEdit:Pe,onDelete:Oe})=>{const[He,Ue]=u.useState(!1),[St,Et]=u.useState(0),[E,A]=u.useState({name:H.name,role:H.role,type:H.type});u.useEffect(()=>{let re;return H.status==="processing"&&H.processingStartTime&&(re=setInterval(()=>{const pe=Math.floor((Date.now()-H.processingStartTime)/1e3);Et(pe)},1e3)),()=>{re&&clearInterval(re)}},[H.status,H.processingStartTime]);const $=()=>{Pe(H.id,E),Ue(!1)},te=()=>{A({name:H.name,role:H.role,type:H.type}),Ue(!1)},se=()=>{if(H.status==="processing")return{badge:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-yellow-600 mr-1"}),"Processing (",St,"s)"]}),showDateWarning:!1};if(H.hasTranscript)return{badge:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Zt,{size:12,className:"mr-1"}),H.status==="completed"?"Completed":"Has Transcript"]}),showDateWarning:!1};if(H.date){const re=H.time?new Date(`${H.date}T${H.time}`):new Date(`${H.date}T00:00:00`),pe=new Date,Ie=new Date;Ie.setHours(0,0,0,0);const Le=new Date(`${H.date}T00:00:00`);Le.setHours(0,0,0,0);let Te,Be,tt,mt;return Le.getTime()===Ie.getTime()?(Te="Today",Be="bg-blue-100",tt="text-blue-800",mt=e.jsx(Aa,{size:12,className:"mr-1"})):re<pe?(Te="Past",Be="bg-orange-100",tt="text-orange-800",mt=e.jsx(Zd,{size:12,className:"mr-1"})):(Te="Scheduled",Be="bg-purple-100",tt="text-purple-800",mt=e.jsx(Aa,{size:12,className:"mr-1"})),{badge:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Be} ${tt}`,children:[mt,Te]}),showDateWarning:!1}}else return{badge:null,showDateWarning:!0}},ae=()=>{switch(H.type){case"opposing":return"border-l-red-500";case"friendly":return"border-l-green-500";default:return"border-l-gray-500"}},Z=()=>{switch(H.type){case"opposing":return"bg-red-100 text-red-600";case"friendly":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return e.jsxs("div",{className:`p-3 border-l-4 border-b border-gray-100 hover:bg-gray-50 transition-all ${ae()}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 ${Z()}`,children:e.jsx(Fb,{size:20})}),He?e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("input",{type:"text",value:E.name,onChange:re=>A(pe=>({...pe,name:re.target.value})),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"Full Name"}),e.jsx("input",{type:"text",value:E.role,onChange:re=>A(pe=>({...pe,role:re.target.value})),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"Role/Position"}),e.jsxs("select",{value:E.type,onChange:re=>A(pe=>({...pe,type:re.target.value})),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"opposing",children:"Opposing Them"}),e.jsx("option",{value:"friendly",children:"Supporting You"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:$,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"}),e.jsx("button",{onClick:te,className:"px-3 py-1 text-xs border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-1",children:e.jsx("h5",{className:"font-medium text-gray-900",children:H.name})}),e.jsx("p",{className:"text-sm text-gray-600",children:H.role}),H.relationToCase&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:H.relationToCase})]})]}),e.jsx("div",{className:"flex flex-col items-end space-y-2",children:!He&&e.jsxs(e.Fragment,{children:[(()=>{const re=se();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[H.transcriptType&&e.jsx("span",{className:"text-xs text-gray-500 italic",children:H.transcriptType==="official"?"Official Transcript":"Live Recording"}),re.badge&&re.badge,re.showDateWarning&&e.jsxs("button",{onClick:()=>Pe&&Pe(),className:"text-xs text-orange-600 hover:text-orange-800 bg-orange-50 hover:bg-orange-100 px-2 py-1 rounded border border-orange-200 flex items-center transition-colors",title:"Click to schedule deposition",children:[e.jsx(Sl,{size:12,className:"mr-1"}),"No Date Set"]})]}),H.date&&e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Aa,{size:12,className:"mr-1"}),new Date(H.date+"T00:00:00").toLocaleDateString(),H.time&&e.jsx("span",{className:"ml-2",children:H.time})]})]})})(),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Pe&&Pe(),className:"text-gray-400 hover:text-blue-600",title:"Edit deponent",children:e.jsx(zc,{size:14})}),Oe&&e.jsx("button",{onClick:Oe,className:"text-gray-400 hover:text-red-600",title:"Delete deponent",children:e.jsx(ut,{size:16})})]})]})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex space-x-2",children:H.status==="processing"?e.jsx("span",{className:"text-xs text-gray-500 px-3 py-1.5 italic",children:"Processing transcript..."}):H.hasTranscript?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{Ae(H),r(!0)},className:"flex items-center space-x-1 text-xs px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:[e.jsx(hn,{size:12}),e.jsx("span",{children:"View Analysis"})]}),H.transcriptType!=="official"&&e.jsxs("button",{onClick:()=>{var re;(re=document.getElementById(`uploadOfficial-${H.id}`))==null||re.click()},className:"flex items-center space-x-1 text-xs px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:[e.jsx(Os,{size:12}),e.jsx("span",{children:"Upload Official"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Ae(H),className:"flex items-center space-x-1 text-xs px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(Cb,{size:12}),e.jsx("span",{children:"Start Live"})]}),e.jsxs("button",{onClick:()=>{var re;(re=document.getElementById(`uploadOfficial-${H.id}`))==null||re.click()},className:"flex items-center space-x-1 text-xs px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:[e.jsx(Os,{size:12}),e.jsx("span",{children:"Upload Existing"})]})]})})}),e.jsx("input",{id:`uploadOfficial-${H.id}`,type:"file",accept:".pdf,.txt,.docx",onChange:re=>{re.target.files[0]&&_t(re,H)},className:"hidden"})]})},ns=()=>{const[H,Pe]=u.useState(""),[Oe,He]=u.useState([]),Ue=["Duty","Breach","Causation","Damages"],St=E=>{He(A=>A.includes(E)?A.filter($=>$!==E):[...A,E])},Et=()=>{H&&Oe.length>0&&(Se({text:H,elements:Oe}),Pe(""),He([]),o(!1))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Add Key Issue"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{size:20})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Description"}),e.jsx("textarea",{value:H,onChange:E=>Pe(E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",rows:"3",placeholder:"Describe the key legal issue..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Legal Elements ",e.jsx("span",{className:"text-xs text-gray-500",children:"(select all that apply)"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ue.map(E=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.includes(E),onChange:()=>St(E),className:"mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:E})]},E))}),Oe.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Will create 1 issue with ",Oe.length," element",Oe.length!==1?"s":"",": ",Oe.join(", ")]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{Pe(""),He([]),o(!1)},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:Et,disabled:!H||Oe.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Add Issue",Oe.length>1?"s":""]})]})]})})},fs=()=>{const H=Re!==null,[Pe,Oe]=u.useState({name:"",role:"",type:"opposing",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,relationToCase:"",aiSuggestions:null}),[He,Ue]=u.useState(!1),[St,Et]=u.useState(!1);ne.useEffect(()=>{Oe(Re?{name:Re.name||"",role:Re.role||"",type:Re.type||"opposing",date:Re.date||"",time:Re.time||"",timezone:Re.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,relationToCase:Re.relationToCase||"",aiSuggestions:null}:{name:"",role:"",type:"opposing",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,relationToCase:"",aiSuggestions:null})},[Re]);const E=ae=>{Oe(Z=>({...Z,name:ae}))},A=ae=>{Y(ae),d(!1)},$=async()=>{Ue(!0),Et(!1),await new Promise(Z=>setTimeout(Z,2e3));const ae={role:Pe.role||"Key Witness",relationToCase:Pe.relationToCase||"Found in case documents as relevant party to incident",type:Pe.type};Oe(Z=>({...Z,aiSuggestions:ae,role:ae.role,relationToCase:ae.relationToCase})),Ue(!1)},te=()=>{if(!Pe.name)return;const ae={...Pe,datetime:Pe.date&&Pe.time?`${Pe.date} ${Pe.time}`:Pe.date};if(H)L.setDeponents(Z=>Z.map(re=>re.id===Re.id?{...re,...ae}:re));else{const Z={id:Date.now(),hasTranscript:!1,status:"pending",...ae};L.setDeponents(re=>[...re,Z])}Oe({name:"",role:"",type:"opposing",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,relationToCase:"",aiSuggestions:null}),me(null),d(!1),setShowDateTimePicker(!1)},se=()=>{const ae=new Date,Z=ae.toISOString().split("T")[0],re=ae.toTimeString().slice(0,5);Oe(pe=>({...pe,date:Z,time:re})),setShowDateTimePicker(!1)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:H?"Edit Deponent":"Add Deponent"}),e.jsx("button",{onClick:()=>{d(!1),me(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:Pe.name,onChange:ae=>E(ae.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter full name...",disabled:He}),!H&&we.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Suggested: "}),we.map((ae,Z)=>e.jsxs("span",{children:[e.jsxs("button",{onClick:()=>A(ae),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:[ae.name," (",ae.role,")"]}),Z<we.length-1&&e.jsx("span",{className:"text-sm text-gray-600",children:", "})]},ae.id))]}),Pe.name&&e.jsx("button",{onClick:$,disabled:He,className:"mt-2 flex items-center text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:He?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Searching case files..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hn,{size:14,className:"mr-2"}),"Auto-fill from case files"]})}),Pe.aiSuggestions&&!He&&!St&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Rb,{size:16,className:"text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Supio found this person in case files"})]}),e.jsxs("div",{className:"text-sm text-blue-800",children:["Suggested role: ",e.jsx("strong",{children:Pe.aiSuggestions.role})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role/Position"}),e.jsx("input",{type:"text",value:Pe.role,onChange:ae=>Oe(Z=>({...Z,role:ae.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Opposing Driver, Eyewitness"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposition Date & Time"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx("div",{children:e.jsx("input",{type:"date",value:Pe.date,onChange:ae=>Oe(Z=>({...Z,date:ae.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})}),e.jsx("div",{children:e.jsx("input",{type:"time",value:Pe.time,onChange:ae=>Oe(Z=>({...Z,time:ae.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})}),e.jsx("div",{children:e.jsxs("select",{value:Pe.timezone,onChange:ae=>Oe(Z=>({...Z,timezone:ae.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"America/New_York",children:"Eastern (EST/EDT)"}),e.jsx("option",{value:"America/Chicago",children:"Central (CST/CDT)"}),e.jsx("option",{value:"America/Denver",children:"Mountain (MST/MDT)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific (PST/PDT)"}),e.jsx("option",{value:Intl.DateTimeFormat().resolvedOptions().timeZone,children:Intl.DateTimeFormat().resolvedOptions().timeZone})]})})]}),H&&(!Pe.date||!Pe.time)&&e.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Sl,{size:14,className:"text-yellow-600 mr-2"}),e.jsx("span",{className:"text-yellow-800",children:"Don't forget to schedule this deposition. "}),e.jsx("button",{onClick:se,className:"text-blue-600 underline hover:text-blue-800 ml-1",children:"Set to current date/time"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relation to Case"}),e.jsx("textarea",{value:Pe.relationToCase,onChange:ae=>Oe(Z=>({...Z,relationToCase:ae.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",rows:"2",placeholder:"Describe how this person is involved in the case..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deponent Type"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"type",value:"friendly",checked:Pe.type==="friendly",onChange:ae=>Oe(Z=>({...Z,type:ae.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-green-700",children:"Supporting"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"type",value:"opposing",checked:Pe.type==="opposing",onChange:ae=>Oe(Z=>({...Z,type:ae.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-red-700",children:"Opposing"})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{d(!1),Oe({name:"",role:"",type:"opposing",company:"",date:"",relationToCase:"",aiSuggestions:null}),Ue(!1),setNameSuggestions([]),setShowSuggestions(!1)},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",disabled:He,children:"Cancel"}),e.jsx("button",{onClick:te,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:He||!Pe.name,children:He?"Processing...":H?"Update Deponent":"Add Deponent"})]})})]})})},$t=({issue:H,completedDepositions:Pe,netImpact:Oe,totalTestimony:He,onEdit:Ue,onDelete:St})=>{const[Et,E]=u.useState(!1),[A,$]=u.useState(H.text),[te,se]=u.useState(H.elements||[H.element].filter(Boolean)),ae=()=>{Ue(H.id,{text:A,elements:te}),E(!1)},Z=()=>{$(H.text),se(H.elements||[H.element].filter(Boolean)),E(!1)},re=pe=>{se(Ie=>Ie.includes(pe)?Ie.filter(Le=>Le!==pe):[...Ie,pe])};return e.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-all",children:Et?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"flex items-center space-x-1 flex-wrap",children:(H.elements||[H.element].filter(Boolean)).map(pe=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded",children:pe},pe))}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:Z,className:"text-xs text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{onClick:ae,className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded hover:bg-blue-700",children:"Save"})]})]}),e.jsx("textarea",{value:A,onChange:pe=>$(pe.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500 mb-2",rows:"2"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:["Duty","Breach","Causation","Damages"].map(pe=>e.jsx("button",{onClick:()=>re(pe),className:`px-2 py-0.5 text-xs rounded border transition-colors ${te.includes(pe)?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:pe},pe))})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"flex items-center space-x-1 flex-wrap",children:(H.elements||[H.element].filter(Boolean)).map(pe=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded",children:pe},pe))}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>E(!0),className:"text-gray-400 hover:text-blue-600",title:"Edit",children:e.jsx(zc,{size:12})}),e.jsx("button",{onClick:St,className:"text-gray-400 hover:text-red-600",title:"Delete",children:e.jsx(ut,{size:12})})]})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-2 leading-tight",children:H.text}),Pe>0&&He>0&&e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Impact"}),e.jsxs("div",{className:`text-sm font-bold ${Oe>0?"text-green-600":Oe<0?"text-red-600":"text-gray-600"}`,children:[Oe>0?"+":"",Oe]})]})})]})})},zs=()=>e.jsxs("div",{className:"pb-8",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Key Issues"}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm mt-3",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add Issue"]})]}),e.jsx("div",{children:e.jsx("div",{className:"max-w-6xl",children:_.length===0&&oe.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Kp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Key Issues Defined"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Supio will analyze your case files to suggest key legal issues"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:_.map((H,Pe)=>{const Oe=le.filter(Et=>Et.hasTranscript).length,He=[{helpful:2,harmful:0,neutral:0,sources:["R. Martinez Dep."]},{helpful:1,harmful:1,neutral:0,sources:["R. Martinez Dep."]},{helpful:2,harmful:0,neutral:0,sources:["R. Martinez Dep."]},{helpful:0,harmful:0,neutral:0,sources:[]}][Pe]||{helpful:0,harmful:0,neutral:0,sources:[]},Ue=He.helpful-He.harmful,St=He.helpful+He.harmful+He.neutral;return e.jsx($t,{issue:H,completedDepositions:Oe,aggregateImpacts:He,netImpact:Ue,totalTestimony:St,onEdit:W,onDelete:()=>setKeyIssues(_.filter(Et=>Et.id!==H.id))},H.id)})}),oe.length>0&&e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(H=>e.jsx("div",{className:"p-3 bg-blue-50 border-l-4 border-l-blue-400 border border-blue-100 rounded-lg hover:border-blue-200 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-1 flex-wrap mb-2",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded",children:H.element}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded font-medium",children:"Suggested"})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-2 leading-tight",children:H.text})]}),e.jsxs("div",{className:"flex space-x-1 ml-3",children:[e.jsx("button",{onClick:()=>G(H),className:"text-gray-400 hover:text-green-600",title:"Accept suggestion",children:e.jsx(Zt,{size:12})}),e.jsx("button",{onClick:()=>B(H.id),className:"text-gray-400 hover:text-red-600",title:"Dismiss suggestion",children:e.jsx(ut,{size:12})})]})]})},H.id))})})]})})})]}),Pt=()=>e.jsxs("div",{className:"pb-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow-sm p-6 max-w-5xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Getting Started"}),e.jsx("p",{className:"text-gray-600",children:"Let's set up your deposition analysis quickly"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium text-white ${h==="confirmed"?"bg-green-600":h==="skipped"?"bg-gray-600":"bg-blue-600"}`,children:h==="confirmed"?e.jsx(Zt,{size:16}):"1"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-10 bg-red-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"PDF"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-sm font-medium ${h==="skipped"?"text-gray-600":"text-gray-900"}`,children:h==="confirmed"?"Successfully added Jane Doe deposition:":h==="skipped"?"Skipped deposition file:":"We found 1 deposition in your case files:"}),e.jsxs("p",{className:`text-sm mt-1 ${h==="skipped"?"text-gray-500":"text-gray-700"}`,children:[e.jsx("span",{className:"font-medium",children:"Jane_Doe_Deposition_2024-03-15.pdf"}),e.jsx("span",{className:"text-gray-500 ml-2",children:"• 52 pages"})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:h==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ke,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Confirm"}),e.jsx("button",{onClick:Q,className:"px-3 py-1.5 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Skip"})]}):h==="confirmed"?e.jsxs("span",{className:"px-3 py-1.5 text-sm bg-green-100 text-green-800 rounded flex items-center",children:[e.jsx(Zt,{size:14,className:"mr-1"}),"Success!"]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ut,{size:14,className:"mr-1"}),"Skipped"]})})]}),e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium text-white ${j==="skipped"?"bg-gray-600":"bg-blue-600"}`,children:"2"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-sm font-medium ${j==="skipped"?"text-gray-600":"text-gray-900"}`,children:j==="skipped"?"Skipped adding more deponents":"Add more deponents or upload additional depositions"}),e.jsx("p",{className:`text-sm mt-1 ${j==="skipped"?"text-gray-500":"text-gray-600"}`,children:j==="skipped"?"You can add more deponents later from the main interface":"You can upload both recordings and transcripts"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:j==="pending"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add Deponent"]}),e.jsx("button",{onClick:()=>{var H;(H=document.getElementById("uploadMoreFiles"))==null||H.click()},className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Upload More Files"}),e.jsx("button",{onClick:()=>k("skipped"),className:"px-3 py-1.5 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Skip"})]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ut,{size:14,className:"mr-1"}),"Skipped"]})})]}),e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium text-white ${x==="skipped"?"bg-gray-600":"bg-blue-600"}`,children:"3"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-sm font-medium ${x==="skipped"?"text-gray-600":"text-gray-900"}`,children:x==="skipped"?"Skipped defining key issues":e.jsxs(e.Fragment,{children:["Define key legal issues",e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs font-medium ml-2",children:"Optional"})]})}),e.jsx("p",{className:`text-sm mt-1 ${x==="skipped"?"text-gray-500":"text-gray-600"}`,children:x==="skipped"?"Issues can be added or modified later":"Browse suggested issues or add your own"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:x==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Ce,className:"px-3 py-1.5 text-sm border border-blue-300 text-blue-700 rounded hover:bg-gray-50",children:"Add Key Issues ↓"}),e.jsx("button",{onClick:()=>M("skipped"),className:"px-3 py-1.5 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Skip"})]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ut,{size:14,className:"mr-1"}),"Skipped"]})})]})]})]}),e.jsx("input",{id:"uploadMoreFiles",type:"file",accept:".pdf,.txt,.docx",onChange:S,className:"hidden"})]}),Ls=()=>{const H=[...le,...we].filter(Ue=>Ue.type==="friendly"),Pe=[...le,...we].filter(Ue=>Ue.type==="opposing"),Oe=le.filter(Ue=>Ue.type==="friendly").length,He=le.filter(Ue=>Ue.type==="opposing").length;return e.jsxs("div",{className:"pb-8 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Deponents"}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm mt-3",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add Deponent"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"max-w-6xl border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>Ke("opposing"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Ye==="opposing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Opposing (",He,")"]}),e.jsxs("button",{onClick:()=>Ke("friendly"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Ye==="friendly"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Friendly (",Oe,")"]})]})})}),e.jsx("div",{className:"max-w-6xl space-y-2 border-b border-gray-200 pb-4",children:Ye==="opposing"&&Pe.length===0||Ye==="friendly"&&H.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Cl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",Ye," deponents added"]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Add ",Ye," deponents for this case"]}),e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Gt,{size:16,className:"mr-2"}),"Add ",Ye==="opposing"?"Opposing Them":"Supporting You"," Deponent"]})]}):e.jsxs(e.Fragment,{children:[le.filter(Ue=>Ue.type===Ye).map(Ue=>e.jsx(Jt,{deponent:Ue,onEdit:()=>ge(Ue),onDelete:()=>setDeponents(le.filter(St=>St.id!==Ue.id))},Ue.id)),we.filter(Ue=>Ue.type===Ye).length>0&&e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"space-y-2",children:we.filter(Ue=>Ue.type===Ye).map(Ue=>e.jsx("div",{className:"p-2 bg-blue-50 border-l-4 border-l-blue-400 border-b border-b-blue-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded font-medium",children:"Suggested"}),Ue.name==="Jane Doe"&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-800 rounded font-medium flex items-center",children:[e.jsx(Qe,{size:12,className:"mr-1"}),"From Jane_Doe_Deposition_2024-03-15.pdf"]})]}),e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:Ue.name}),e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:Ue.role}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:Ue.description}),e.jsxs("p",{className:"text-xs text-blue-800 bg-blue-100 rounded px-2 py-1 inline-block",children:[e.jsx("strong",{children:"Relevance:"})," ",Ue.relevance]})]}),e.jsxs("div",{className:"flex space-x-1 ml-3",children:[e.jsx("button",{onClick:()=>Y(Ue),className:"text-green-600 hover:text-green-800 p-1",title:"Accept suggestion",children:e.jsx(Zt,{size:14})}),e.jsx("button",{onClick:()=>U(Ue.id),className:"text-red-600 hover:text-red-800 p-1",title:"Dismiss suggestion",children:e.jsx(ut,{size:14})})]})]})},Ue.id))})})]})})]})};return e.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Jane Doe MVA"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Update case"}),e.jsxs("button",{onClick:hs,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${qe?"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600":"bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-300"}`,children:[e.jsx(lr,{size:14,className:"inline mr-1"}),"AI Assistant"]})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:gt.map(H=>e.jsxs("div",{className:`flex items-center px-4 py-2 ${H.active?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,children:[e.jsx("div",{className:"mr-3",children:H.icon}),e.jsx("span",{className:"text-sm font-medium",children:H.label})]},H.id))})}),e.jsx("main",{className:"flex-1 overflow-auto",children:de?e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`transition-all duration-300 ${qe?"flex-1 max-w-[calc(100%-24rem)]":"w-full"} ${n?"p-0":""}`,children:n?e.jsx(Vc,{selectedDeponent:de,setSelectedDeponent:Ae,setShowTranscriptView:r,activeAnalysisTab:a,setActiveAnalysisTab:i,contradictions:Me,keyIssueImpacts:P,keyIssues:_,continuousNotes:v,setContinuousNotes:N}):e.jsx(Uc,{selectedDeponent:de,setSelectedDeponent:Ae,isRecording:K,isPaused:he,recordingTime:ve,transcriptText:be,contradictions:Me,continuousNotes:v,setContinuousNotes:N,formatTime:De,handleStartRecording:ye,handlePauseRecording:fe,handleStopRecording:We,setIsPaused:V})}),qe&&e.jsxs("div",{className:"w-96 border-l border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(lr,{size:18,className:"text-blue-600 mr-2"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"AI Assistant"}),e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsx("div",{className:"space-y-4",children:_e.map(H=>e.jsx("div",{className:`flex ${H.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${H.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:H.content})},H.id))})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:je,onChange:H=>Ze(H.target.value),placeholder:"Ask for analysis or strategy advice...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm",onKeyPress:H=>{if(H.key==="Enter"&&je.trim()){const Pe={id:Date.now(),type:"user",content:je,timestamp:new Date},Oe={id:Date.now()+1,type:"assistant",content:"Based on the current testimony, I recommend focusing on the timeline discrepancies. The witness's statements about weather and timing are inconsistent, which could be crucial for establishing credibility.",timestamp:new Date};setAiMessages(He=>[...He,Pe,Oe]),Ze("")}}}),e.jsx("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:!je.trim(),onClick:()=>{if(je.trim()){const H={id:Date.now(),type:"user",content:je,timestamp:new Date},Pe={id:Date.now()+1,type:"assistant",content:"Based on the current testimony, I recommend focusing on the timeline discrepancies. The witness's statements about weather and timing are inconsistent, which could be crucial for establishing credibility.",timestamp:new Date};setAiMessages(Oe=>[...Oe,H,Pe]),Ze("")}},children:e.jsx(nn,{size:16})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1"}),"Connected • Press Enter to send"]})]})]})]}):e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`transition-all duration-300 ${qe?"flex-1 max-w-[calc(100%-24rem)]":"w-full"}`,children:e.jsxs("div",{className:"w-full px-2 pt-12 pb-6 max-w-7xl mx-auto",children:[e.jsx(Pt,{}),e.jsx(Ls,{}),e.jsx("div",{"data-section":"key-issues",children:e.jsx(zs,{})})]})}),qe&&e.jsxs("div",{className:"w-96 border-l border-gray-200 bg-white flex flex-col transition-all duration-300",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(lr,{size:18,className:"text-blue-600 mr-2"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"AI Assistant"}),e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsx("div",{className:"space-y-4",children:_e.map(H=>e.jsx("div",{className:`flex ${H.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${H.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:H.content})},H.id))})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:je,onChange:H=>Ze(H.target.value),placeholder:"Ask about case strategy, deposition planning...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm",onKeyPress:H=>{if(H.key==="Enter"&&je.trim()){const Pe={id:Date.now(),type:"user",content:je,timestamp:new Date},Oe={id:Date.now()+1,type:"assistant",content:"For case planning, I suggest focusing on establishing a clear timeline of events. The defendant driver's testimony will be crucial for identifying inconsistencies. Consider scheduling expert witnesses after you have the key depositions completed.",timestamp:new Date};setAiMessages(He=>[...He,Pe,Oe]),Ze("")}}}),e.jsx("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:!je.trim(),onClick:()=>{if(je.trim()){const H={id:Date.now(),type:"user",content:je,timestamp:new Date},Pe={id:Date.now()+1,type:"assistant",content:"For case planning, I suggest focusing on establishing a clear timeline of events. The defendant driver's testimony will be crucial for identifying inconsistencies. Consider scheduling expert witnesses after you have the key depositions completed.",timestamp:new Date};setAiMessages(Oe=>[...Oe,H,Pe]),Ze("")}},children:e.jsx(nn,{size:16})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1"}),"Connected • Press Enter to send"]})]})]})]})})]}),l&&e.jsx(ns,{}),c&&e.jsx(fs,{})]})},gx=Object.freeze(Object.defineProperty({__proto__:null,default:Fj},Symbol.toStringTag,{value:"Module"})),Bj=[{id:1,type:"info",title:"Case Update Available",message:"New medical records have been added to Davis v. Johnson case",timestamp:new Date(Date.now()-30*60*1e3),read:!0},{id:2,type:"success",title:"Document Processing Complete",message:"Police report analysis has been completed",timestamp:new Date(Date.now()-2*60*60*1e3),read:!0},{id:3,type:"warning",title:"Deadline Reminder",message:"Discovery deadline is approaching in 5 days",timestamp:new Date(Date.now()-4*60*60*1e3),read:!0},{id:4,type:"info",title:"System Maintenance",message:"Scheduled maintenance window tonight from 11 PM - 1 AM EST",timestamp:new Date(Date.now()-6*60*60*1e3),read:!0}],Uj=[{id:1,category:"Legal Theory",assumption:"Based on the case files and the reference complaint, I'm planning to structure this as a **negligence claim** with emphasis on duty of care breach by the defendant driver.",question:"Is negligence the primary legal theory you want to pursue, or should I also include claims for gross negligence or recklessness?",options:["Negligence only","Include gross negligence","Include both gross negligence and recklessness"],selected:null},{id:2,category:"Damages Strategy",assumption:"I notice medical expenses total $47,500 with ongoing treatment. The reference complaint includes future medical costs and loss of earning capacity.",question:"Should I include claims for future medical expenses and lost earning capacity based on Dr. Mitchell's prognosis?",options:["Yes, include both","Only future medical","Only past damages"],selected:null},{id:3,category:"Jurisdictional Basis",assumption:"The accident occurred in Springfield County and all parties reside here. I'll assert jurisdiction based on the location of the incident and parties' residence.",question:"Are there any additional jurisdictional considerations I should address?",options:["No, location and residence are sufficient","Add amount in controversy","Include federal question jurisdiction"],selected:null},{id:4,category:"Defendant Information",assumption:"I've identified the primary defendant as the other driver. The case files suggest potential employer liability under respondeat superior.",question:"Should I name the driver's employer (ABC Delivery Co.) as an additional defendant?",options:["Yes, include the employer","No, driver only"],selected:null}],Vj=t=>{switch(t){case"success":return ne.createElement(es,{size:16,className:"text-green-500"});case"warning":return ne.createElement(Vp,{size:16,className:"text-yellow-500"});case"error":return ne.createElement(ut,{size:16,className:"text-red-500"});default:return ne.createElement(Qe,{size:16,className:"text-blue-500"})}},Hj=t=>{switch(t){case"Needs input":return"bg-yellow-100 text-yellow-800";case"Generating":return"bg-blue-100 text-blue-800";case"Draft complete":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Jj=[{id:1,name:"Police Report - Davis Case",type:"PDF",date:"2024-01-15"},{id:2,name:"Medical Records - Johnson",type:"DOC",date:"2024-01-14"},{id:3,name:"Insurance Claim Form",type:"PDF",date:"2024-01-13"}],Xm=[...Jj,{id:4,name:"Witness Statement 1",type:"PDF",date:"2024-01-12"},{id:5,name:"Witness Statement 2",type:"PDF",date:"2024-01-11"},{id:6,name:"Expert Analysis Report",type:"DOC",date:"2024-01-10"}],yx=({searchQuery:t,setSearchQuery:s,documentSearchQuery:n,setDocumentSearchQuery:r,onBlueprintClick:a,onResponsesClick:i,onDraftFromExampleClick:l,onBlueprintItemClick:o,jobs:c=[],onJobClick:d,onSaveReferenceAsBlueprint:m})=>{const[f,p]=u.useState(!1),[g,v]=u.useState(Date.now()),[N,I]=u.useState(!1),[y,h]=u.useState(""),[b,j]=u.useState(""),[k,x]=u.useState(!1),[M,T]=u.useState(null);ne.useEffect(()=>{const _=setInterval(()=>{v(Date.now())},1e3);return()=>clearInterval(_)},[]);const S=()=>{y.trim()&&b.trim()&&M&&m&&(m(y.trim(),b.trim(),M.referenceFile||"Generated Document",M.documentType,M.additionalInstructions,k),I(!1),h(""),j(""),x(!1),T(null))},w=_=>{T(_),I(!0)},L=c.filter(_=>_.type==="document-generation"&&(_.status==="Complete"||_.status==="In Progress")).sort((_,oe)=>oe.createdAt.getTime()-_.createdAt.getTime()),X=[{id:"complaint",title:"Complaint",description:"Personal injury complaint template"},{id:"motion-summary-judgment",title:"Motion for Summary Judgment",description:"Standard motion with supporting arguments"}],F=[{id:"blueprint",title:"Use a Blueprint",description:"Use a predefined blueprint to generate a document for this case",icon:e.jsx(Bp,{className:"h-6 w-6"}),recentItems:X,recentTitle:"Recently Used Blueprints"},{id:"draft-from-example",title:"Draft from Example",description:"Draft a document for this case using an example document as a reference",icon:e.jsx(Xd,{className:"h-6 w-6"}),hasCustomContent:!0},{id:"respond",title:"Build Responses",description:"Assemble responses to a list of requests or questions, e.g. interrogatories, production",icon:e.jsx(Qe,{className:"h-6 w-6"}),hasCustomContent:!0}],O=n?Xm.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())):Xm;return e.jsxs(e.Fragment,{children:[e.jsx("style",{jsx:!0,children:`
        .tooltip-fast[title]:hover:after {
          animation-delay: 0.2s !important;
        }
      `}),e.jsxs("div",{className:"max-w-full xl:max-w-7xl mx-auto p-4 md:p-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Get Started"}),e.jsxs("label",{className:"flex items-center text-xs text-gray-500",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:_=>p(_.target.checked),className:"w-3 h-3 text-gray-400 border-gray-300 rounded focus:ring-gray-400 focus:ring-1"}),e.jsx("span",{className:"ml-1",children:"MVP?"})]})]}),e.jsxs("button",{className:"flex items-center text-sm font-medium text-blue-600 hover:text-blue-800 px-3 py-1 border border-blue-500 rounded",children:[e.jsx(Qe,{size:16,className:"mr-2"}),"Create Blank Document"]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[f&&L.length>0&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150 flex flex-col",style:{width:"calc(min(380px, 32vw))",minHeight:"280px"},children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-3",children:e.jsx(Qe,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-medium text-lg text-gray-900 mb-3",children:"Generated Documents"}),e.jsxs("div",{className:"space-y-1 mt-2",children:[L.slice(0,4).map(_=>{const oe=_.status==="In Progress"?g-_.startTime:_.elapsedTime||0,Se=Math.floor(oe/6e4),G=Math.floor(oe%6e4/1e3),B=`${Se.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`,W=_.creationMethod==="blueprint"?`from Blueprint "${_.blueprintName||"Unknown"}"`:_.creationMethod==="reference"?"from example document":"Unknown method",le=new Date(_.startTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),de=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),we=`Michael Garcia - MVA - ${(_.documentType||"Draft").replace(/\//g,"-")} - ${de}`;return e.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-md cursor-pointer transition-colors ${_.status==="Complete"?"bg-green-50 hover:bg-green-100 border border-green-100":"bg-blue-50 hover:bg-blue-100 border border-blue-100"}`,onClick:Re=>{Re.stopPropagation(),d==null||d(_)},children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center mr-2 flex-shrink-0 ${_.status==="Complete"?"bg-green-100":"bg-blue-100"}`,children:e.jsx(Qe,{className:`w-4 h-4 ${_.status==="Complete"?"text-green-600":"text-blue-600"}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",children:we}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:W}),e.jsxs("div",{className:"text-xs text-gray-400 truncate",children:["Started ",le," • ",B]})]})]}),e.jsxs("div",{className:"flex items-center ml-2",children:[_.status==="Complete"&&_.creationMethod==="reference"&&e.jsx("button",{onClick:Re=>{Re.stopPropagation(),_.savedAsBlueprint||w(_)},disabled:_.savedAsBlueprint,className:`p-1.5 rounded mr-1 transition-colors tooltip-fast ${_.savedAsBlueprint?"text-green-600 bg-green-50 cursor-default":"text-gray-400 hover:text-blue-600 hover:bg-blue-50 cursor-pointer"}`,title:_.savedAsBlueprint?"Saved as Blueprint":"Save as Blueprint",style:{"--tooltip-delay":"0.3s"},children:_.savedAsBlueprint?e.jsx(Zt,{className:"w-4 h-4"}):e.jsx(Qd,{className:"w-4 h-4"})}),_.status==="Complete"&&e.jsx(nn,{className:"w-3 h-3 text-gray-400"})]})]},_.id)}),L.length>4&&e.jsxs("div",{className:"text-xs text-gray-500 text-center pt-1",children:["+",L.length-4," more"]})]})]}),F.map(_=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150 flex flex-col",style:{width:"calc(min(380px, 32vw))",minHeight:"280px"},onClick:()=>{_.id==="blueprint"?a():_.id==="respond"?i():_.id==="draft-from-example"&&(l==null||l())},children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-3",children:_.icon}),e.jsx("h3",{className:"font-medium text-lg text-gray-900 mb-1",children:_.title}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:_.description}),_.hasCustomContent&&_.id==="draft-from-example"&&e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center justify-center border border-blue-500 text-blue-600 rounded-md py-2 px-3 hover:bg-blue-50",children:[e.jsx(si,{size:16,className:"mr-2"}),"Upload Example"]}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Supported: docx, pdf, txt, xlsx"})]})}),_.hasCustomContent&&_.id==="respond"&&e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center justify-center border border-blue-500 text-blue-600 rounded-md py-2 px-3 hover:bg-blue-50",children:[e.jsx(si,{size:16,className:"mr-2"}),"Upload File"]}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Supported: docx, txt, pdf"}),e.jsx("button",{className:"w-full text-gray-600 hover:text-blue-600 hover:bg-gray-100 text-sm mt-2 py-1 px-3 rounded underline underline-offset-2 transition-colors",children:"or add manually"})]})}),_.recentItems&&_.recentItems.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-auto",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:_.recentTitle}),e.jsx("div",{className:"space-y-2",children:_.recentItems.map(oe=>e.jsx("div",{className:"flex items-center py-1 hover:bg-gray-100 px-2 rounded cursor-pointer",onClick:Se=>{Se.stopPropagation(),o==null||o(oe.id)},children:e.jsxs("div",{className:"w-full overflow-hidden",children:[e.jsx("div",{className:"text-xs font-medium text-gray-800 truncate",children:oe.title}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:oe.description})]})},oe.id))})]})]},_.id))]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"All Documents"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium rounded-full px-2 py-0.5",children:"9"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"pl-9 pr-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Search documents...",value:n,onChange:_=>r(_.target.value)}),e.jsx(Hn,{className:"absolute left-3 top-2 h-4 w-4 text-gray-400"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Modified"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-blue-50 rounded-full flex items-center justify-center text-blue-700",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Supio • ",_.editor]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Last modified: ",_.lastModified]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.size}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2 justify-end",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 100-4 2 2 0 000 4z"})})})]})})]},_.id))})]})}),e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"1 / 25 pages"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Previous"}),e.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Next"})]})]})]})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Save as Blueprint"}),e.jsx("button",{onClick:()=>{I(!1),h(""),j(""),x(!1),T(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"blueprint-title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Blueprint Title"}),e.jsx("input",{id:"blueprint-title",type:"text",value:y,onChange:_=>h(_.target.value),placeholder:"Enter a name for this blueprint...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"blueprint-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"blueprint-description",value:b,onChange:_=>j(_.target.value),placeholder:"Describe what this blueprint is used for and when to use it...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:_=>x(_.target.checked),className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Star this blueprint"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Starred blueprints appear at the top of your library"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{I(!1),h(""),j(""),x(!1),T(null)},className:"px-4 py-2 text-sm text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:!y.trim()||!b.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Blueprint"})]})]})})]})},Wj=Object.freeze(Object.defineProperty({__proto__:null,default:yx},Symbol.toStringTag,{value:"Module"})),vx=({aiPanelOpen:t=!1,onOpenAIPanel:s,onDraftDocumentRequest:n,onNavigateToExplore:r,onOpenLibraryModal:a,handleChatFileInputChange:i,getActiveTabFiles:l,removeFileFromTab:o,deepResearchMode:c,setDeepResearchMode:d,selectedSources:m,setShowSourcePicker:f,getSelectedSourcesCount:p,hasSelectedSources:g,outputFormat:v="answer",setOutputFormat:N})=>{const[I,y]=u.useState(!1),[h,b]=u.useState(!1),[j,k]=u.useState(null),[x,M]=u.useState("all"),[T,S]=u.useState(""),[w,L]=u.useState(""),[X,F]=u.useState(""),[O,_]=u.useState(""),[oe,Se]=u.useState(!1),G=()=>{a?a():b(!0)},B=()=>{y(!1),L(""),F("")},W=()=>{b(!1),k(null),M("all"),S("")},le=()=>{console.log("Drafting:",w),console.log("Instructions:",X),B()},de=()=>{O.trim()&&r&&(r(O.trim()),_(""))},we=()=>{switch(v){case"analysis":return e.jsx(Xr,{className:"h-4 w-4"});case"document":return e.jsx(is,{className:"h-4 w-4"});default:return e.jsx(ir,{className:"h-4 w-4"})}},Re=me=>{N&&N(me),Se(!1)},Ae=[{id:"pb-1",type:"workflow",title:"Case Value Assessment",description:"Analyze medical records, bills, and damages to estimate settlement value range",createdBy:"Supio",dateCreated:"June 29, 2025",tags:["Analysis","Valuation","MVA","Settlement"],dataRequired:["Medical Records","Medical Bills","Lost Wages Documentation"],content:"This workflow will analyze your case documents to provide a comprehensive settlement value assessment including: - Medical expense analysis - Lost wage calculations - Pain and suffering valuation - Comparable case analysis - Settlement range recommendations"},{id:"pb-2",type:"workflow",title:"Liability & Negligence Analysis",description:"Identify key liability factors, witness statements, and supporting evidence",createdBy:"Supio",dateCreated:"June 29, 2025",tags:["Liability","Analysis","MVA","Negligence"],dataRequired:["Police Reports","Witness Statements","Photos/Videos"],content:"This workflow performs comprehensive liability analysis including: - Fault determination - Traffic law violations - Witness credibility assessment - Evidence strength evaluation - Negligence theory development"},{id:"pb-3",type:"workflow",title:"Medical Records Review",description:"Comprehensive analysis of medical documentation and treatment history",createdBy:"Supio",dateCreated:"June 15, 2025",tags:["Medical","Analysis","Documentation","Treatment"],dataRequired:["Medical Records","Treatment Notes","Diagnostic Reports"],content:"This workflow provides detailed medical record analysis including: - Treatment timeline development - Injury causation analysis - Medical expense validation - Treatment necessity review - Future care projections"},{id:"p-1",type:"prompt",title:"MVA Interrogatories",description:"Drafts comprehensive interrogatories for motor vehicle accident discovery.",createdBy:"Supio",dateCreated:"June 29, 2025",tags:["Drafting","Interrogatories","MVA","Litigation"],content:`Draft comprehensive interrogatories for this motor vehicle accident case targeting:
- Driver's license history, violations, suspensions
- Driving experience and training
- Alcohol/drug use before and during incident
- Medical conditions affecting driving ability
- Use of medications affecting driving
- Vehicle ownership, maintenance records
- Safety inspections, recalls, modifications
- Weather and road condition observations
- Witness identification and contact information`},{id:"p-2",type:"prompt",title:"Motor Vehicle Complaint",description:"Drafts personal injury complaint for motor vehicle accident cases.",createdBy:"Supio",dateCreated:"June 29, 2025",tags:["Drafting","Complaint","MVA","Litigation"],content:`Draft a comprehensive personal injury complaint for motor vehicle accident case including:
- Parties and jurisdiction
- Factual allegations
- Negligence claims
- Damages summary
- Prayer for relief`},{id:"p-3",type:"prompt",title:"Deposition Outline",description:"Creates structured deposition outlines for witness examination.",createdBy:"Legal Team",dateCreated:"September 12, 2025",tags:["Deposition","Litigation","Discovery"],content:`Create a comprehensive deposition outline covering:
- Background information
- Incident details
- Damages and treatment
- Expert qualifications
- Opinion formation process`}].filter(me=>{const Ke=x==="all"||me.type===x,Y=T===""||me.title.toLowerCase().includes(T.toLowerCase())||me.description.toLowerCase().includes(T.toLowerCase())||me.tags.some(U=>U.toLowerCase().includes(T.toLowerCase()));return Ke&&Y});return u.useEffect(()=>{h&&Ae.length>0&&!j&&k(Ae[0])},[h,Ae,j]),u.useEffect(()=>{h||k(null)},[h]),u.useEffect(()=>{const me=Ke=>{const Y=Ke.target;Y.closest("[data-output-format-dropdown]")||Y.closest("[data-output-format-button]")||Se(!1)};return oe&&document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[oe]),e.jsxs("div",{className:"max-w-full mx-auto p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(Xs,{className:"h-5 w-5 text-purple-600 mr-2"}),"Actions"]})}),e.jsxs("div",{className:"p-6",children:[l&&l().length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:l().map(me=>e.jsxs("div",{className:"flex items-center space-x-1.5 bg-gray-100 px-2.5 py-1.5 rounded-md text-xs",children:[e.jsx(Qe,{className:"h-3 w-3 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 truncate max-w-[150px]",children:me.name}),e.jsx("button",{onClick:()=>o&&o(1,me.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(ut,{className:"h-3 w-3"})})]},me.id))})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-purple-500 focus-within:border-purple-500",children:[e.jsx("textarea",{value:O,onChange:me=>_(me.target.value),placeholder:"Ask a question or describe a task. You can upload or drag and drop any additional documents you want to work with.",className:"w-full p-3 pr-12 border-0 rounded-lg resize-none focus:outline-none bg-transparent",rows:3,onKeyDown:me=>{me.key==="Enter"&&!me.shiftKey&&(me.preventDefault(),de())}}),e.jsx("button",{onClick:de,disabled:!O.trim()||!(g&&g()),className:`absolute top-3 right-3 p-2 rounded-md transition-colors ${O.trim()&&g&&g()?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:e.jsx(yn,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center justify-between pl-2 pr-4 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"file",id:"actions-card-file-upload",multiple:!0,className:"hidden",onChange:i}),e.jsx("label",{htmlFor:"actions-card-file-upload",className:"flex items-center justify-center h-8 w-8 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors cursor-pointer",title:"Upload files",children:e.jsx(Os,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:()=>d&&d(!c),className:`flex items-center h-8 rounded-md transition-all duration-300 ease-in-out ${c?"text-blue-600 bg-blue-50 hover:bg-blue-100 pl-2 pr-3":"text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-2"}`,title:"Research Mode",children:[e.jsx(Hn,{className:"h-4 w-4 flex-shrink-0"}),c&&e.jsx("span",{className:"ml-2 text-sm font-medium whitespace-nowrap animate-in fade-in slide-in-from-left-2 duration-300",children:"Research Mode"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{"data-output-format-button":!0,onClick:()=>Se(!oe),className:"flex items-center justify-center h-8 w-8 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors",title:"Output Format",children:we()}),oe&&e.jsxs("div",{"data-output-format-dropdown":!0,className:"absolute bottom-0 left-full ml-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:[e.jsxs("button",{onClick:()=>Re("answer"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${v==="answer"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:"Answer"})]}),e.jsxs("button",{onClick:()=>Re("analysis"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${v==="analysis"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(Xr,{className:"h-4 w-4"}),e.jsx("span",{children:"Analysis"})]}),e.jsxs("button",{onClick:()=>Re("document"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 rounded-b-lg ${v==="document"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Document"})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("button",{onClick:()=>f&&f(!0),className:`text-xs transition-colors cursor-pointer ${g&&g()?"text-gray-500 hover:text-gray-700":"text-amber-600 hover:text-amber-700 font-medium"}`,children:g&&g()?`${p&&p()} source${p&&p()===1?"":"s"}`:"Select at least 1 source"})})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 border border-gray-200 hover:text-purple-600 hover:bg-gray-50 hover:border-purple-300 rounded-md transition-colors",children:[e.jsx(Xs,{className:"h-4 w-4 text-purple-600 mr-2"}),"Case Value Assessment"]}),e.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 border border-gray-200 hover:text-purple-600 hover:bg-gray-50 hover:border-purple-300 rounded-md transition-colors",children:[e.jsx(Xs,{className:"h-4 w-4 text-purple-600 mr-2"}),"Liability Analysis"]}),e.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 text-sm text-gray-700 border border-gray-200 hover:text-blue-600 hover:bg-blue-50 hover:border-blue-300 rounded-md transition-colors",children:[e.jsx(ms,{className:"h-4 w-4 text-blue-600 mr-2"}),"Draft a document"]})]}),e.jsx("button",{onClick:G,className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:"Library"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 text-purple-600 mr-2"}),"Case Details"]}),e.jsx("button",{className:"px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100",children:"Update Case"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Type"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"MVA"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Stage"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"Pre-Litigation"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Assignee"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"Rachel Yastremski"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Supporting Team"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"Tony Uyeda, Sarah Fallon"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Case Create Notes 08/13/2025"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Eli was hit by a construction vehicle on his way home from work. He called from the ER to get assistance. So far he has been diagnosed"," ",e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"See more"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(zb,{className:"h-5 w-5 text-purple-600 mr-2"}),"Tasks"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/5"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(Aa,{className:"h-5 w-5 text-purple-600 mr-2"}),"Timeline"]}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"More"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-md",children:"Jump to Date of Incident"}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-md",children:"Review Missing Documents"}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-md",children:"View Treatment Gaps"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"6/24"}),e.jsx("span",{className:"text-sm text-gray-500",children:"08/25"})]}),e.jsxs("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 h-full w-2/3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full"}),e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex justify-between w-full px-2",children:[...Array(20)].map((me,Ke)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${Ke<12?"bg-purple-700":"bg-gray-400"}`},Ke))})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-5 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Medical Records"}),e.jsx("div",{className:"text-gray-500",children:"44 events"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Bills"}),e.jsx("div",{className:"text-gray-500",children:"12 events"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Imaging"}),e.jsx("div",{className:"text-gray-500",children:"15 events"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Doctor Visits"}),e.jsx("div",{className:"text-gray-500",children:"14 events"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Injuries"}),e.jsx("div",{className:"text-gray-500",children:"11 events"})]})]})]})]})]}),e.jsxs("div",{className:"w-full lg:w-[24rem] space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Parties"}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[e.jsx("span",{children:"6 suggestions to review"}),e.jsx(Ut,{className:"h-4 w-4 ml-1"})]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Client"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"Eli Strauss"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Defendant"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"Jane Doe"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Witnesses"}),e.jsxs("dd",{className:"text-sm text-gray-900 space-y-1",children:[e.jsx("div",{children:"Susan Chen"}),e.jsx("div",{children:"Robert Kim"}),e.jsx("div",{children:"Michael Barnes"})]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Adjuster"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:"Defense Counsel"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"-"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Key Facts"}),e.jsx(Ut,{className:"h-4 w-4 text-gray-400"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Medical Summary"}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[e.jsx("span",{children:"12 suggestions to review"}),e.jsx(Ut,{className:"h-4 w-4 ml-1"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Activity Log"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Police Report uploaded by Jordan Gray"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Extracted 26 details for Parties and Medical Summary ",e.jsx("button",{className:"text-blue-600",children:"View"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"June 6 2025 18:22"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Client Driver's License uploaded"}),e.jsx("p",{className:"text-xs text-gray-500",children:"June 6 2025 18:22"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"ER Visit 9/12/25 uploaded"}),e.jsx("p",{className:"text-xs text-gray-500",children:"June 6 2025 18:22"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Chiropractic Visit 6/12/25 uploaded"}),e.jsx("p",{className:"text-xs text-gray-500",children:"June 6 2025 18:22"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Chiropractic Visit 6/12/25 uploaded"}),e.jsx("p",{className:"text-xs text-gray-500",children:"June 6 2025 18:22"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Case status"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Files"}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Complete"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Chat"}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Complete"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Instant Timeline"}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Complete"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Case Summary"}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Complete"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Signals and Insights"}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Complete"})]})]})]})]})]})]}),I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Draft from Reference"}),e.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are you drafting?"}),e.jsx("input",{type:"text",value:w,onChange:me=>L(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Demand letter, Motion to compel, Deposition questions..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload 2-3 reference examples"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx(Os,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drop files here or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX (max 10MB each)"}),e.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",children:"Choose Files"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Any additional instructions?"}),e.jsx("textarea",{value:X,onChange:me=>F(me.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide any specific requirements, tone, or formatting preferences..."})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:B,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:le,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start Drafting"})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-7xl mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xs,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Library"})]}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md mr-6",children:[e.jsx("input",{type:"text",placeholder:"Search",value:T,onChange:me=>S(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),e.jsx(Hn,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"}),e.jsxs("select",{value:x,onChange:me=>M(me.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"prompt",children:"Prompts"}),e.jsx("option",{value:"workflow",children:"Workflows"})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Ae.length," items"]})]})]})}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-200 overflow-auto",children:e.jsx("div",{className:"p-4 space-y-3",children:Ae.map(me=>e.jsxs("div",{onClick:()=>k(me),className:`p-4 rounded-lg border cursor-pointer transition-all ${(j==null?void 0:j.id)===me.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:me.title}),e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${me.type==="workflow"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:me.type==="workflow"?"Workflow":"Prompt"})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:me.description})]}),e.jsx("button",{className:`px-3 py-1 text-white rounded text-sm hover:opacity-90 ${me.type==="workflow"?"bg-purple-600":"bg-blue-600"}`,children:me.type==="workflow"?"Run":"Use"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Created by: ",me.createdBy," • ",me.dateCreated]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[me.tags.slice(0,3).map((Ke,Y)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700",children:Ke},Y)),me.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",me.tags.length-3]})]})]},me.id))})}),e.jsx("div",{className:"flex-1 overflow-auto",children:j?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-3",children:j.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${j.type==="workflow"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:j.type==="workflow"?"Workflow":"Prompt"})]}),e.jsx("button",{className:`px-4 py-2 text-white rounded-md hover:opacity-90 ${j.type==="workflow"?"bg-purple-600":"bg-blue-600"}`,children:j.type==="workflow"?"Run Workflow":"Use Prompt"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:j.description}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["Created by: ",j.createdBy," • Date: ",j.dateCreated]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:j.tags.map((me,Ke)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium bg-gray-100 text-gray-700",children:me},Ke))}),j.type==="workflow"&&j.dataRequired&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Data Required"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsx("ul",{className:"text-sm text-gray-700",children:j.dataRequired.map((me,Ke)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2"}),me]},Ke))})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:j.type==="workflow"?"Analysis Details":"Prompt Content"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:j.content})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Select an item to view details"})]})})})]})]})})]})},Yj=Object.freeze(Object.defineProperty({__proto__:null,default:vx},Symbol.toStringTag,{value:"Module"})),Hc=t=>t.split(/(\*\*[^*]+\*\*)/g).map((n,r)=>{if(n.startsWith("**")&&n.endsWith("**")){const a=n.slice(2,-2);return e.jsx("strong",{children:a},r)}return n}),Kj=Object.freeze(Object.defineProperty({__proto__:null,renderMarkdown:Hc},Symbol.toStringTag,{value:"Module"})),au=({message:t,isInDraftingTab:s=!1,draftingTask:n,customInputs:r={},customModeAssumption:a,draftingStarted:i=!1,onFileUpload:l,onStartDrafting:o,onAssumptionResponse:c,onCustomInput:d,onToggleCustomMode:m,onCancelCustomInstruction:f,onConfirmCustomInstruction:p,onEditCustomInstruction:g,onReviewDraft:v,onTaskCardClick:N,onDocumentTypeSelection:I})=>{var b,j;const y=u.useRef(null),h=t.type==="user";return e.jsx("div",{className:`flex ${h?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`max-w-full ${h?"order-2":"order-1"}`,children:[!h&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center mr-2",children:e.jsx(Yl,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Supio Assistant"})]}),t.isFile&&e.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-3 inline-block",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wl,{size:20,className:"text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:(b=t.file)==null?void 0:b.name}),e.jsx("div",{className:"text-sm text-gray-500",children:(j=t.file)==null?void 0:j.size})]})]})}),t.isTaskCard&&n&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 cursor-pointer hover:bg-blue-100 transition-colors max-w-2xl",onClick:N,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ms,{size:20,className:"text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:n.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0 ${Hj(n.status)}`,children:n.status})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Started ",n.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsx("div",{className:"mt-3 ml-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nn,{size:14,className:"text-blue-500"}),e.jsx("span",{className:"ml-1 text-sm text-blue-700 font-medium",children:"Click to continue in drafting tab"})]})})]})}),!t.isFile&&!t.isTaskCard&&e.jsxs("div",{className:`rounded-lg px-4 py-3 max-w-2xl ${h?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Hc(t.content)}),t.showUpload&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("input",{type:"file",ref:y,onChange:l,accept:".pdf,.doc,.docx",className:"hidden"}),e.jsxs("button",{onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},className:"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-blue-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(Os,{size:20,className:"text-blue-500 mr-2"}),e.jsx("span",{className:"text-blue-700 font-medium",children:"Upload Reference Complaint"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Accepted formats: PDF, DOC, DOCX"})]}),t.isAnalyzing&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{size:16,className:"animate-spin"}),e.jsx("span",{className:"text-sm",children:"Analyzing document..."})]}),t.isAnalyzingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Analysis complete"})]}),t.showAssumptions&&n&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 space-y-4",children:n.assumptions.map(k=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:k.category})}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:Hc(k.assumption)}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:k.question}),a===k.id?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:r[k.id]||"",onChange:x=>d==null?void 0:d(k.id,x.target.value),placeholder:"Enter your custom instruction...",className:"w-full p-3 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p==null?void 0:p(k.id),className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Confirm"}),e.jsx("button",{onClick:f,className:"px-3 py-1.5 bg-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-2",children:[k.options.map((x,M)=>e.jsx("button",{onClick:()=>c==null?void 0:c(k.id,x),className:`w-full text-left p-2 rounded border transition-colors text-sm ${k.selected===x?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:x},M)),e.jsx("button",{onClick:()=>m==null?void 0:m(k.id),className:"w-full text-left p-2 rounded border border-dashed border-gray-400 hover:border-gray-500 hover:bg-gray-50 transition-colors text-sm text-gray-600",children:"+ Custom instruction"})]})]},k.id))}),t.showBeginDrafting&&!t.isDraftingStarted&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:e.jsx("button",{onClick:o,disabled:i,className:`w-full px-4 py-3 rounded-lg font-medium transition-colors ${i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:i?"Starting...":"Begin Drafting"})}),t.isDrafting&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-blue-600",children:[e.jsx(bs,{size:16,className:"animate-spin"}),e.jsx("span",{className:"text-sm",children:"Drafting in progress..."}),n&&n.elapsedTime>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.elapsedTime,"s)"]})]}),t.isDraftingComplete&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-green-600",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"text-sm",children:"Draft generation complete"})]}),t.isDraftComplete&&t.actions&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 space-y-2",children:t.actions.map((k,x)=>e.jsxs("button",{onClick:()=>{k.label==="Review Draft"&&(v==null||v())},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors ${k.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[k.icon(),e.jsx("span",{className:"ml-2",children:k.label})]},x))}),t.isDocumentTypeSelection&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:e.jsxs("button",{onClick:()=>I==null?void 0:I("complaint"),className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(Qe,{size:16,className:"mr-2"}),"Complaint"]})})]})]})})},Gj=Object.freeze(Object.defineProperty({__proto__:null,default:au},Symbol.toStringTag,{value:"Module"})),bx=({aiChatInput:t,setAiChatInput:s,chatTabs:n,activeChatTab:r,setActiveChatTab:a,messages:i,draftingTask:l,customInputs:o,customModeAssumption:c,draftingStarted:d,jobs:m,notifications:f,showNotifications:p,setShowNotifications:g,showJobsList:v,setShowJobsList:N,messagesEndRef:I,handleAIChatSubmit:y,handleAddChatTab:h,handleCloseChatTab:b,onFileUpload:j,onStartDrafting:k,onAssumptionResponse:x,onCustomInput:M,onToggleCustomMode:T,onCancelCustomInstruction:S,onConfirmCustomInstruction:w,onEditCustomInstruction:L,onReviewDraft:X,onTaskCardClick:F,onDocumentTypeSelection:O,onNotificationAction:_,onJobClick:oe,onOpenLibraryModal:Se,tabFiles:G,getActiveTabFiles:B,handleChatFileUpload:W,handleChatFileDrop:le,handleChatFileInputChange:de,removeFileFromTab:we,selectedSources:Re,setShowSourcePicker:Ye,getSelectedSourcesCount:Ae,hasSelectedSources:me,deepResearchMode:Ke,setDeepResearchMode:Y,outputFormat:U="answer",setOutputFormat:ge,getTabLastMessageSnippet:Ce,getTabLastMessageTimestamp:ke,formatRelativeTime:Q})=>{const[Me,P]=u.useState(!1),K=n.find(ye=>ye.id===r),he=(K==null?void 0:K.isDocumentTab)||!1,ve=()=>{switch(U){case"analysis":return e.jsx(Xr,{className:"h-4 w-4"});case"document":return e.jsx(is,{className:"h-4 w-4"});default:return e.jsx(ir,{className:"h-4 w-4"})}},be=ye=>{ge&&ge(ye),P(!1)};return u.useEffect(()=>{const ye=fe=>{const We=fe.target;We.closest("[data-output-format-dropdown]")||We.closest("[data-output-format-button]")||P(!1)};return Me&&document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[Me]),e.jsxs("div",{className:"h-full flex bg-gray-50",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("button",{onClick:h,className:"w-full p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors flex items-center justify-center space-x-2 border border-gray-300",children:[e.jsx(Gt,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"New Chat"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-2 space-y-1",children:n.map(ye=>e.jsx("div",{onClick:()=>a(ye.id),className:`p-3 rounded-lg cursor-pointer group transition-colors ${ye.id===r?"bg-blue-50 text-blue-900 border border-blue-200":"text-gray-700 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ir,{className:`h-4 w-4 flex-shrink-0 ${ye.id===r?"text-blue-600":"text-gray-400"}`}),e.jsx("h3",{className:"text-sm font-medium truncate",children:ye.name})]}),e.jsx("p",{className:`text-xs truncate ${ye.id===r?"text-blue-700":"text-gray-500"}`,children:Ce?Ce(ye.id)||"No messages yet":ye.isDocumentTab?"Document chat":"No messages yet"}),e.jsx("p",{className:`text-xs mt-1 ${ye.id===r?"text-blue-600":"text-gray-400"}`,children:ke&&Q?(()=>{const fe=ke(ye.id);return fe?Q(fe):"Never"})():"Never"})]}),ye.id!==r&&n.length>1&&e.jsx("button",{onClick:fe=>{fe.stopPropagation(),b(ye.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-gray-600 transition-opacity",children:e.jsx(ut,{className:"h-3 w-3"})})]})},ye.id))})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:(K==null?void 0:K.name)||"New Chat"})})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white",children:(l!=null&&l.messages&&l.messages.length>0?l.messages:i).length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lr,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"text-gray-500",children:[e.jsx("p",{className:"mb-1",children:"Select the case data to work with."}),e.jsxs("p",{children:["Then, ask a question or",e.jsx("br",{}),e.jsxs("button",{onClick:Se,className:"inline-flex items-center text-gray-500 hover:text-purple-600 transition-colors cursor-pointer",children:[e.jsx(Xs,{className:"h-4 w-4 text-purple-600 mr-1"}),e.jsx("span",{className:"font-semibold",children:"select an existing prompt or workflow."})]})]})]})]})}):e.jsxs(e.Fragment,{children:[(l!=null&&l.messages&&l.messages.length>0?l.messages:i).map((ye,fe)=>e.jsx(au,{message:ye,isInDraftingTab:r>1,draftingTask:l,customInputs:o,customModeAssumption:c,draftingStarted:d,onFileUpload:j,onStartDrafting:k,onAssumptionResponse:x,onCustomInput:M,onToggleCustomMode:T,onCancelCustomInstruction:S,onConfirmCustomInstruction:w,onEditCustomInstruction:L,onReviewDraft:X,onTaskCardClick:F,onDocumentTypeSelection:O},fe)),e.jsx("div",{ref:I})]})}),B&&B().length>0&&e.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(si,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploaded Files (",B().length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B().map(ye=>e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx(Qe,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:ye.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(ye.size/1024/1024).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>we&&we(r,ye.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(ut,{className:"h-4 w-4"})})]},ye.id))})]}),e.jsx("div",{className:"p-6 bg-white border-t border-gray-200",onDrop:le,onDragOver:ye=>ye.preventDefault(),onDragEnter:ye=>ye.preventDefault(),children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",multiple:!0,onChange:de,className:"hidden",id:"explore-file-upload",accept:".pdf,.doc,.docx,.txt,.csv,.xlsx,.jpg,.jpeg,.png"}),e.jsxs("div",{className:"border border-gray-300 rounded-xl bg-white shadow-sm",children:[e.jsx("textarea",{value:t,onChange:ye=>s(ye.target.value),placeholder:"Send a message",className:"w-full p-3 border-0 rounded-xl resize-none focus:outline-none text-sm text-gray-700 placeholder-gray-400",rows:2.5,onKeyDown:ye=>{ye.key==="Enter"&&!ye.shiftKey&&(ye.preventDefault(),y())}}),e.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("button",{onClick:Se,className:"flex items-center text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md px-3 py-1.5 hover:bg-gray-50 transition-colors",children:[e.jsx(Xs,{className:"h-4 w-4 mr-1"}),"Library"]}),e.jsx("label",{htmlFor:"explore-file-upload",className:"flex items-center justify-center h-8 w-8 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors cursor-pointer",title:"Upload files",children:e.jsx(Os,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:()=>Y&&Y(!Ke),className:`flex items-center h-8 rounded-md transition-all duration-300 ease-in-out ${Ke?"text-blue-600 bg-blue-50 hover:bg-blue-100 pl-2 pr-3":"text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-2"}`,title:"Research Mode",children:[e.jsx(Hn,{className:"h-4 w-4 flex-shrink-0"}),Ke&&e.jsx("span",{className:"ml-2 text-sm font-medium whitespace-nowrap animate-in fade-in slide-in-from-left-2 duration-300",children:"Research Mode"})]}),!he&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{"data-output-format-button":!0,onClick:()=>P(!Me),className:"flex items-center justify-center h-8 w-8 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors",title:"Output Format",children:ve()}),Me&&e.jsxs("div",{"data-output-format-dropdown":!0,className:"absolute bottom-0 left-full ml-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:[e.jsxs("button",{onClick:()=>be("answer"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${U==="answer"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:"Answer"})]}),e.jsxs("button",{onClick:()=>be("analysis"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${U==="analysis"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(Xr,{className:"h-4 w-4"}),e.jsx("span",{children:"Analysis"})]}),e.jsxs("button",{onClick:()=>be("document"),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 rounded-b-lg ${U==="document"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Document"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>Ye&&Ye(!0),className:`text-xs transition-colors cursor-pointer ${me&&me()?"text-gray-500 hover:text-gray-700":"text-amber-600 hover:text-amber-700 font-medium"}`,children:me&&me()?`${Ae&&Ae()} source${Ae&&Ae()===1?"":"s"}`:"Select at least 1 source"}),e.jsx("button",{onClick:y,disabled:!t.trim()||!(me&&me()),className:`p-2 rounded-md transition-colors ${t.trim()&&me&&me()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:e.jsx(yn,{className:"h-4 w-4"})})]})]})]})]})})]})]})},qj=Object.freeze(Object.defineProperty({__proto__:null,default:bx},Symbol.toStringTag,{value:"Module"})),eh=["Analyzing the uploaded document structure...","Identifying key legal arguments and precedents...","Extracting relevant factual assertions...","Reviewing jurisdictional requirements...","Organizing sections according to court rules...","Checking citation format and legal references...","Ensuring proper paragraph structure...","Validating procedural compliance...","Optimizing argument flow and logic...","Finalizing document formatting..."],Qj=[`MICHAEL GARCIA,

`,`                    Plaintiff,

`,`vs.

`,`LIBERTY MUTUAL INSURANCE COMPANY,
`,`JOHN DOES 1-100 (fictional natural persons);
`,`and ABC CORPORATION (S) 1-100 (fictional
`,`business entities),

`,`                    Defendant(s).


`,`SUPERIOR COURT OF NEW JERSEY
`,`LAW DIVISION: MORRIS COUNTY
`,`DOCKET NO: MOR-L-

`,`CIVIL ACTION

`,`COMPLAINT,
`,`JURY DEMAND,
`,`DESIGNATION OF TRIAL COUNSEL,
`,`REQUEST FOR DISCOVERY OF
`,`INSURANCE COVERAGE,
`,`DEMAND FOR ANSWERS TO
`,`INTERROGATORIES AND
`,`DEMAND FOR PRODUCTION OF
`,`DOCUMENTS


`,`Plaintiff, MICHAEL GARCIA by way of Complaint against the Defendants, hereby allege:

`,`FIRST COUNT

`,"1. Plaintiff, MICHAEL GARCIA resides at 427 Maple Avenue, ",`Morristown, New Jersey 07960.

`,"2. At all times relevant to the matters set forth herein, the Defendant, ","LIBERTY MUTUAL INSURANCE COMPANY, is a corporation organized and ",`authorized to do business at 175 Berkeley Street, Boston, MA 02116.

`,"3. At all times mentioned herein and prior thereto, the Defendants, ","JOHN DOES (1-100), A.B.C. COMPANIES (1-100), are fictional Defendants ","designated as other corporations, partnerships, proprietorships, or other ","business entities responsible individually and/or jointly or severally, or by ","their agents, servants, and/or employees, for the ownership, operation, ","maintenance, use and/or supervision of a policy of insurance which provided ",`for underinsured motorist coverage.

`,"4. On or about March 15, 2024, Plaintiff, MICHAEL GARCIA was the lawful ","owner and operator of a motor vehicle that was lawfully traveling Eastbound ",`on Route 10, Morris County, New Jersey.

`,"5. At the same time and place, Defendant, ROBERT THOMPSON was the owner ","and operator of a vehicle which was negligently and carelessly traveling ","Eastbound Route 10, Morris County, New Jersey, when suddenly, without signal ","or warning, Defendant struck the vehicle of Plaintiff, causing Plaintiff to ",`sustain permanent injuries.

`,"6. On or about June 20, 2024, the tortfeasor, ROBERT THOMPSON settled ",`pursuant to the available policy limits in the amount of $25,000.00.

`,"7. At the time and place aforesaid, Plaintiff's vehicle owned and operated ","by MICHAEL GARCIA maintained an automobile insurance policy with LIBERTY ","MUTUAL INSURANCE COMPANY, under policy number LM885542190 with underinsured ",`motorist limits of $250,000.00.

`,"8. Plaintiff has claimed for Underinsured Motorist coverage (UIM) under ","Defendant's, LIBERTY MUTUAL INSURANCE COMPANY'S policy however LIBERTY ","MUTUAL INSURANCE COMPANY continually and wrongfully refuses to provide ",`payment for such coverage.

`,"9. As a proximate result of the said Defendants' carelessness and negligence, ","Plaintiff suffered severe, painful, disabling, and permanent injuries to his ","body, which injuries necessitated his obtaining medical treatment; he was ","compelled and shall in the future be compelled to expend large sums of money ","for medical care and attention, as well as endure great physical and emotional ","pain, suffering, disability, stress, anxiety, depression, inconvenience, and ","distress; he is prevented from pursuing and enjoying his usual family activities, ","attending to his duties and chores and from assuming employment and his earning ",`power has been materially and adversely affected and he was otherwise damaged.

`,"WHEREFORE, Plaintiff demands Judgment against the Defendant, LIBERTY MUTUAL ","INSURANCE COMPANY for damages together with interest, costs of suit, attorney's ","fees, and such other and further relief as the Court may deem just and equitable."],jx=({job:t,onBack:s,onOpenAIAssistant:n,onCreateDocumentTab:r,onDocumentSelectionChange:a,onSendChatMessage:i,onSaveReferenceAsBlueprint:l})=>{const[o,c]=u.useState([]),[d,m]=u.useState(0),[f,p]=u.useState(!1),[g,v]=u.useState(""),[N,I]=u.useState(null),[y,h]=u.useState(!1),[b,j]=u.useState("default"),[k,x]=u.useState(""),[M,T]=u.useState(!1),S=u.useRef(null),[w,L]=u.useState(!1),[X,F]=u.useState(!1),[O,_]=u.useState(""),[oe,Se]=u.useState(""),[G,B]=u.useState(!1),[W,le]=u.useState(!1);u.useEffect(()=>{if(le(!1),t.status==="In Progress"){c([]),m(0),p(!0);const U=setInterval(()=>{m(ge=>ge<eh.length?(c(Ce=>[...Ce,eh[ge]]),ge+1):(p(!1),ge))},1500);return()=>clearInterval(U)}else t.status==="Complete"&&(c(Qj),p(!1))},[t.status,t.id]);const de=()=>{if(b==="redraft")return;const Y=window.getSelection();if(!Y||Y.isCollapsed){b==="default"&&(h(!1),a==null||a(!1,""));return}const U=Y.toString().trim();if(!U){b==="default"&&(h(!1),a==null||a(!1,""));return}a==null||a(!0,U);const Ce=Y.getRangeAt(0).getBoundingClientRect(),ke=Ce.left+Ce.width*.85,Q=Ce.top-50;v(U),I({x:ke,y:Q}),h(!0),j("default")},we=Y=>{if(Y==="redraft")j("redraft"),x("");else if(Y==="cite"){const U=`Create a citation for "${g}"`,ge=`Here are relevant citations from the case files for "${g.substring(0,50)}${g.length>50?"...":""}":

**📄 MVA_Police_Report_2024-03-15.pdf**
*Page 3, Section 4*
"Driver of Vehicle 2 failed to yield right of way when making left turn onto Route 10 East..."

**📄 Medical_Records_Chen_Orthopedic.pdf**
*Page 1, Treatment Summary*
"Patient presents with severe lower back pain and limited mobility following motor vehicle collision..."

**📄 Liberty_Mutual_Policy_Review.pdf**
*Page 2, Coverage Details*
"Underinsured motorist coverage limits of $250,000 apply to this claim under Policy #LM885542190..."

**📄 Witness_Statement_Walsh_Jennifer.pdf**
*Page 2, Lines 45-67*
"I saw the defendant's vehicle run the red light at approximately 35 mph in a 25 mph zone..."

**📄 Garcia_Industries_Employment_Records.pdf**
*Page 4, Wage Statement 2023-2024*
"Annual salary: $85,000. Missed work days due to injury: 42 days (March 16 - May 3, 2024)..."`;i==null||i(U,!0,ge),h(!1),Re()}else if(Y==="explain"){const U=`Explain "${g}"`,ge=`**Explanation of Selected Text:**

The selected text "${g.substring(0,100)}${g.length>100?"...":""}" serves a specific legal purpose in this document.

This provision establishes the factual foundation necessary for the legal claims that follow. In legal drafting, each allegation must be supported by sufficient detail to meet pleading standards while remaining concise and clear.

**Key Legal Elements:**
- **Factual Allegations**: Provides the who, what, when, and where details
- **Jurisdictional Basis**: Establishes the court's authority to hear the case
- **Cause of Action**: Lays groundwork for the specific legal theories being pursued
- **Damages Foundation**: Creates the basis for claiming monetary relief

**Strategic Considerations:**
This language is carefully crafted to meet federal pleading standards while preserving flexibility for discovery. The specificity level balances providing enough detail to survive a motion to dismiss while not overly constraining the case theory.`;i==null||i(U,!0,ge),h(!1),Re()}},Re=()=>{var Y;window.getSelection&&((Y=window.getSelection())==null||Y.removeAllRanges())},Ye=()=>{j("default"),x("")},Ae=()=>{j("default"),x(""),h(!1),Re()},me=()=>{k.trim()&&(h(!1),T(!0),j("default"),x(""),Re(),a==null||a(!1,""),setTimeout(()=>{T(!1)},7e3))},Ke=()=>{O.trim()&&oe.trim()&&t.referenceFile&&l&&(l(O.trim(),oe.trim(),t.referenceFile,t.documentType,t.additionalInstructions,G),F(!1),_(""),Se(""),B(!1))};return u.useEffect(()=>{const Y=U=>{U.target&&U.target.closest(".selection-card")||(b==="redraft"?Ae():h(!1))};if(y){const U=setTimeout(()=>{document.addEventListener("click",Y)},100);return()=>{clearTimeout(U),document.removeEventListener("click",Y)}}},[y,b]),u.useEffect(()=>{t.status==="Complete"&&n&&!W&&setTimeout(()=>{n();const Y=`${t.title} - Review`;r==null||r(Y,t.id),le(!0)},500)},[t.id,t.status,W]),e.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(qd,{className:"h-5 w-5"})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Michael Garcia - MVA - ",(t.documentType||"Draft").replace(/\//g,"-")," - ",new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})]}),e.jsx("button",{onClick:()=>L(!0),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Show document info",children:e.jsx(Wm,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm font-medium ${t.status==="Complete"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:[t.status==="Complete"?e.jsx(es,{className:"h-4 w-4"}):e.jsx(bs,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:t.status})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[e.jsx(Zd,{className:"h-4 w-4"}),e.jsxs("span",{children:["Last updated ",t.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(eu,{className:"h-4 w-4"}),e.jsx("span",{children:"Download"})]})]})]})}),e.jsxs("div",{className:"flex-1 flex bg-gray-50 overflow-hidden",children:[w&&e.jsx("div",{className:"flex-shrink-0 w-56 bg-white border-r border-gray-200 overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Wm,{className:"h-4 w-4 text-gray-400"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Document Info"})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Hide document info",children:e.jsx(ut,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Status"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Creation Method"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 capitalize",children:t.creationMethod})]}),t.creationMethod==="blueprint"&&t.blueprintName&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Blueprint"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.blueprintName})]}),t.creationMethod==="reference"&&t.referenceFile&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Reference File"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.referenceFile}),t.status==="Complete"&&e.jsxs("button",{onClick:()=>{t.savedAsBlueprint||F(!0)},disabled:t.savedAsBlueprint,className:`mt-2 text-xs font-medium flex items-center space-x-1 ${t.savedAsBlueprint?"text-green-600 cursor-default":"text-blue-600 hover:text-blue-800 cursor-pointer"}`,children:[t.savedAsBlueprint?e.jsx(Zt,{className:"h-3 w-3"}):e.jsx(Qd,{className:"h-3 w-3"}),e.jsx("span",{children:t.savedAsBlueprint?"Saved as Blueprint":"Save as Blueprint"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.createdAt.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{ref:S,className:"relative max-w-4xl mx-auto bg-white rounded-lg shadow-sm border border-gray-200 p-8 min-h-[800px]",onMouseUp:de,onKeyUp:de,children:[t.status==="In Progress"?e.jsxs("div",{className:"space-y-3",children:[o.map((Y,U)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 font-mono text-sm",children:Y})]},U)),f&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0 animate-pulse"}),e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mt-1"})]})]}):e.jsx("div",{className:"font-mono text-sm text-gray-800 whitespace-pre-wrap leading-relaxed select-text relative",style:{userSelect:"text",WebkitUserSelect:"text"},children:M?e.jsxs("div",{className:"space-y-2",children:[[...Array(8)].map((Y,U)=>e.jsx("div",{className:"flex space-x-1",children:[...Array(Math.floor(Math.random()*6)+4)].map((ge,Ce)=>e.jsx("div",{className:"h-4 bg-gray-300 rounded animate-pulse",style:{width:`${Math.random()*60+40}px`,animationDelay:`${(U*3+Ce)*100}ms`,animationDuration:"1.5s"}},Ce))},U)),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),e.jsx("span",{children:"Redrafting section..."})]})})]}):e.jsxs(e.Fragment,{children:[o.join(""),f&&e.jsx("span",{className:"inline-block w-2 h-5 bg-blue-500 animate-pulse ml-1"})]})}),y&&N&&e.jsx("div",{className:`selection-card fixed z-50 bg-white border-2 border-gray-300 rounded-lg shadow-lg ${b==="redraft"?"p-3 w-80":"p-2"}`,style:{left:`${N.x}px`,top:`${N.y}px`,transform:b==="redraft"?"translateX(-50%)":"translateX(-30%)"},onClick:Y=>Y.stopPropagation(),children:b==="default"?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>we("redraft"),className:"flex items-center space-x-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[e.jsx(_a,{className:"h-3 w-3"}),e.jsx("span",{children:"Redraft"})]}),e.jsxs("button",{onClick:()=>we("cite"),className:"flex items-center space-x-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[e.jsx(Qe,{className:"h-3 w-3"}),e.jsx("span",{children:"Cite"})]}),e.jsxs("button",{onClick:()=>we("explain"),className:"flex items-center space-x-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[e.jsx(Sb,{className:"h-3 w-3"}),e.jsx("span",{children:"Explain"})]})]}):e.jsxs("div",{className:"space-y-3",onClick:Y=>Y.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_a,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Redraft Instructions"})]}),e.jsx("textarea",{value:k,onChange:Y=>{Y.stopPropagation(),x(Y.target.value)},onClick:Y=>Y.stopPropagation(),onFocus:Y=>Y.stopPropagation(),onMouseDown:Y=>Y.stopPropagation(),placeholder:"Enter instructions for how you'd like this section redrafted...",className:"w-full p-2 border border-gray-300 rounded text-xs resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,autoFocus:!0}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:Y=>{Y.stopPropagation(),Ye()},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Y=>{Y.stopPropagation(),me()},disabled:!k.trim(),className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Redraft"})]})]})})]})})]}),X&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Save as Blueprint"})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"blueprint-title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Blueprint Title"}),e.jsx("input",{type:"text",id:"blueprint-title",value:O,onChange:Y=>_(Y.target.value),placeholder:"e.g. Personal Injury Complaint Template",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"blueprint-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"blueprint-description",value:oe,onChange:Y=>Se(Y.target.value),placeholder:"Describe what this blueprint is used for and when to use it...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G,onChange:Y=>B(Y.target.checked),className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Star this blueprint"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Starred blueprints appear at the top of your library"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Reference File:"})," ",t.referenceFile]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{F(!1),_(""),Se(""),B(!1)},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ke,disabled:!O.trim()||!oe.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Blueprint"})]})]})})]})},Zj=Object.freeze(Object.defineProperty({__proto__:null,default:jx},Symbol.toStringTag,{value:"Module"})),Xj=t=>{const n=new Date().getTime()-t.getTime(),r=Math.floor(n/1e3),a=Math.floor(r/60),i=Math.floor(a/60),l=Math.floor(i/24);return l>0?`${l}d ago`:i>0?`${i}h ago`:a>0?`${a}m ago`:`${r}s ago`},wx=({notifications:t,onNotificationAction:s})=>e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-[100]",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.filter(n=>!n.read).length," unread"]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map(n=>e.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${n.read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Vj(n.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),!n.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Xj(n.timestamp)}),n.actions&&e.jsx("div",{className:"mt-3 flex space-x-2",children:n.actions.map((r,a)=>e.jsxs("button",{onClick:()=>s==null?void 0:s(r.action,n.id),className:`inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${r.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.icon(),e.jsx("span",{className:"ml-1",children:r.label})]},a))})]})]})},n.id))}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{className:"w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all notifications"})})]}),ew=Object.freeze(Object.defineProperty({__proto__:null,default:wx},Symbol.toStringTag,{value:"Module"})),Nx=({jobs:t,onJobClick:s,onSaveReferenceAsBlueprint:n})=>{const[r,a]=u.useState(Date.now());return u.useEffect(()=>{const i=setInterval(()=>{a(Date.now())},1e3);return()=>clearInterval(i)},[]),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-[100]",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jobs"})}),t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(na,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent jobs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Background jobs you initiate will appear here"})]}):e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.slice().sort((i,l)=>l.createdAt.getTime()-i.createdAt.getTime()).map(i=>{const l=i.creationMethod==="blueprint"?`from Blueprint "${i.blueprintName||"Unknown"}"`:i.creationMethod==="reference"?"from example document":"Unknown method",o=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),c=`Michael Garcia - MVA - ${(i.documentType||"Draft").replace(/\//g,"-")} - ${o}`,d=new Date(i.startTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),m=i.status==="In Progress"?r-i.startTime:i.elapsedTime||0,f=Math.floor(m/6e4),p=Math.floor(m%6e4/1e3),g=`${f.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`;return e.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",onMouseDown:v=>{v.preventDefault(),v.stopPropagation(),s==null||s(i)},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i.status==="Complete"?"bg-green-100":"bg-blue-100"}`,children:e.jsx(ms,{size:14,className:`${i.status==="Complete"?"text-green-600":"text-blue-600"}`})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ml-2 flex-shrink-0 ${i.status==="Complete"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:i.status==="Complete"?"Complete":"In Progress"})]}),e.jsx("div",{className:"text-xs text-gray-500 truncate mb-1",children:l}),e.jsxs("div",{className:"text-xs text-gray-400 truncate",children:["Started ",d," • ",g]})]})]}),e.jsx("div",{className:"flex items-center ml-2",children:i.status==="Complete"&&i.creationMethod==="reference"&&e.jsx("button",{onClick:v=>{if(v.stopPropagation(),!i.savedAsBlueprint&&n){const N=i,I=`Blueprint from ${N.referenceFile||"Document"}`,y=`Blueprint created from ${N.documentType||"document"} on ${new Date().toLocaleDateString()}`;n(I,y,N.referenceFile||"Generated Document",N.documentType,N.additionalInstructions,!1)}},disabled:i.savedAsBlueprint,className:`p-1 rounded mr-1 transition-colors ${i.savedAsBlueprint?"text-green-600 bg-green-50 cursor-default":"text-gray-400 hover:text-blue-600 hover:bg-blue-50 cursor-pointer"}`,title:i.savedAsBlueprint?"Saved as Blueprint":"Save as Blueprint",children:i.savedAsBlueprint?e.jsx(Zt,{className:"w-3 h-3"}):e.jsx(Qd,{className:"w-3 h-3"})})})]})},i.id)})})]})},tw=Object.freeze(Object.defineProperty({__proto__:null,default:Nx},Symbol.toStringTag,{value:"Module"})),Sx=({show:t,onClose:s,selectedSources:n,onSourcesChange:r,uploadedFiles:a=[]})=>{u.useEffect(()=>{t&&(console.log("SourceSelectorModal opened with selectedSources:",[...n]),console.log("SourceSelectorModal uploadedFiles:",a.map(S=>({id:S.id,name:S.name}))))},[t,n,a]);const[i,l]=u.useState(""),[o,c]=u.useState("category"),[d,m]=u.useState(new Set),[f,p]=u.useState("name"),[g,v]=u.useState("asc");u.useEffect(()=>{a.length>0&&m(S=>new Set([...S,"Files from Conversation"]))},[a.length]);const N={"Correspondence and Communications":[{id:"msg1",name:"insurance_adjuster_texts.pdf",description:"Communication between Garcia and State Farm adjuster regarding claim denial and settlement negotiations following the accident...",size:"89.2 KB",pages:"3 pages",dateUploaded:"2024-03-15"},{id:"msg2",name:"garcia_medical_emails.pdf",description:"Correspondence with Dr. Martinez regarding ongoing treatment for neck and back injuries sustained in the motor vehicle collision...",size:"156.8 KB",pages:"5 pages",dateUploaded:"2024-03-12"}],"Discovery Documents":[{id:"disc1",name:"defendant_deposition_transcript.docx",description:"Sworn testimony from John Smith regarding circumstances leading to the rear-end collision on Highway 101",size:"342 KB",pages:"18 pages",dateUploaded:"2024-02-28"},{id:"disc2",name:"police_accident_report.pdf",description:"Official incident report filed by responding officer documenting vehicle positions, witness statements, and traffic citations",size:"1.1 MB",pages:"6 pages",dateUploaded:"2024-02-20"}],"Evidence and Reports":[{id:"ev1",name:"accident_scene_photos.pdf",description:"Digital photographs showing vehicle damage, skid marks, intersection layout, and traffic signal positions",size:"4.7 MB",pages:"24 images",dateUploaded:"2024-03-08"},{id:"ev2",name:"accident_reconstruction_report.pdf",description:"Expert analysis of collision dynamics, speed calculations, and causation factors by certified traffic engineer",size:"1.3 MB",pages:"12 pages",dateUploaded:"2024-03-05"}],"Financial and Employment Records":[{id:"fin1",name:"lost_wages_documentation.docx",description:"Employment records and pay stubs showing Garcia's income loss during recovery period from injuries",size:"203 KB",pages:"8 pages",dateUploaded:"2024-03-10"},{id:"fin2",name:"medical_expenses_summary.docx",description:"Itemized medical bills and insurance claims for treatment related to accident injuries",size:"445 KB",pages:"15 pages",dateUploaded:"2024-03-18"}]},I=()=>Object.values(N).flat().length+a.length,y=()=>{const S=[...Object.values(N).flat().map(w=>w.id),...a.map(w=>`uploaded-${w.id}`)];return Array.from(n).filter(w=>S.includes(w)).length},h=S=>{if(!S)return N;const w={};return Object.entries(N).forEach(([L,X])=>{const F=X.filter(O=>O.name.toLowerCase().includes(S.toLowerCase())||O.description.toLowerCase().includes(S.toLowerCase()));F.length>0&&(w[L]=F)}),w},b=(S,w,L)=>[...S].sort((X,F)=>{let O=0;switch(w){case"name":O=X.name.localeCompare(F.name);break;case"date":O=new Date(X.dateUploaded).getTime()-new Date(F.dateUploaded).getTime();break;default:return 0}return L==="asc"?O:-O}),j=S=>{console.log(`SourceSelectorModal toggleSource called with: ${S}`),console.log("Current selectedSources before toggle:",[...n]);const w=new Set(n);w.has(S)?(console.log(`Removing ${S} from selection`),w.delete(S)):(console.log(`Adding ${S} to selection`),w.add(S)),console.log("New selection after toggle:",[...w]),r(w)},k=S=>{const w=Object.keys(N);m(S?new Set(w):new Set)},x=S=>{m(w=>{const L=new Set(w);return L.has(S)?L.delete(S):L.add(S),L})},M=(S,w)=>{const X=(N[S]||[]).map(O=>O.id),F=new Set(n);w?X.forEach(O=>F.add(O)):X.forEach(O=>F.delete(O)),r(F)},T=S=>{const w=Object.values(N).flat().map(F=>F.id),L=a.map(F=>`uploaded-${F.id}`),X=[...w,...L];r(S?new Set(X):new Set)};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Case Data Sources"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(ut,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search sources...",value:i,onChange:S=>l(S.target.value),className:"w-3/5 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o==="category"?e.jsx("button",{onClick:()=>k(d.size<Object.keys(N).length),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:d.size<Object.keys(N).length?"Expand All":"Collapse All"}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:f,onChange:S=>p(S.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"date",children:"Sort by Date Uploaded"})]}),e.jsx("button",{onClick:()=>v(g==="asc"?"desc":"asc"),className:"p-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded",title:`Sort ${g==="asc"?"Descending":"Ascending"}`,children:e.jsx(Oc,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-md p-1",children:[e.jsx("button",{onClick:()=>c("category"),className:`px-3 py-2 text-sm font-medium rounded ${o==="category"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Category"}),e.jsx("button",{onClick:()=>c("list"),className:`px-3 py-2 text-sm font-medium rounded ${o==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"List"})]})]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o==="list"?e.jsxs("div",{className:"space-y-1",children:[a.map(S=>e.jsxs("div",{className:"flex items-start space-x-3 py-2 px-3 hover:bg-blue-50 rounded border border-gray-100",children:[e.jsx("input",{type:"checkbox",checked:n.has(`uploaded-${S.id}`),onChange:()=>j(`uploaded-${S.id}`),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:S.name}),e.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Uploaded file"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[(S.size/1024/1024).toFixed(1)," MB"]}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:S.type})]})]})]},`uploaded-${S.id}`)),b(Object.values(h(i)).flat(),f,g).map(S=>e.jsxs("div",{className:"flex items-start space-x-3 py-2 px-3 hover:bg-blue-50 rounded border border-gray-100",children:[e.jsx("input",{type:"checkbox",checked:n.has(S.id),onChange:()=>j(S.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:S.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:S.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:S.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:S.pages})]})]})]},S.id))]}):e.jsxs("div",{className:"space-y-2",children:[a.length>0&&e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-150 cursor-pointer border-b border-gray-200",onClick:()=>x("Files from Conversation"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ut,{className:`h-4 w-4 text-blue-500 transition-transform ${d.has("Files from Conversation")?"rotate-0":"-rotate-90"}`}),e.jsx("input",{type:"checkbox",checked:a.every(S=>n.has(`uploaded-${S.id}`)),ref:S=>{if(S){const w=a.filter(L=>n.has(`uploaded-${L.id}`)).length;S.indeterminate=w>0&&w<a.length}},onChange:S=>{S.stopPropagation(),a.forEach(w=>{const L=`uploaded-${w.id}`,X=new Set(n);S.target.checked?X.add(L):X.delete(L),r(X)})},className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Files from Conversation"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[a.length," files"]})]})]}),e.jsxs("div",{className:"text-xs font-medium text-blue-600",children:[a.filter(S=>n.has(`uploaded-${S.id}`)).length,"/",a.length]})]}),d.has("Files from Conversation")&&e.jsx("div",{className:"space-y-0",children:a.map(S=>e.jsxs("div",{className:"flex items-start space-x-3 py-3 px-4 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:(()=>{const w=`uploaded-${S.id}`,L=n.has(w);return console.log(`Checkbox for ${S.name} (${w}): ${L?"CHECKED":"UNCHECKED"}`),L})(),onChange:()=>j(`uploaded-${S.id}`),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:S.name}),e.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"From this conversation"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[(S.size/1024/1024).toFixed(1)," MB"]}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:S.type})]})]})]},`uploaded-${S.id}`))})]}),Object.entries(h(i)).map(([S,w])=>{const L=w.filter(_=>n.has(_.id)).length,X=L>0&&L<w.length,F=L===w.length,O=d.has(S);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-150 cursor-pointer border-b border-gray-200",onClick:()=>x(S),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ut,{className:`h-4 w-4 text-gray-500 transition-transform ${O?"rotate-0":"-rotate-90"}`}),e.jsx("input",{type:"checkbox",checked:F,ref:_=>{_&&(_.indeterminate=X)},onChange:_=>{_.stopPropagation(),M(S,_.target.checked)},className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[w.length," files"]})]})]}),e.jsxs("div",{className:"text-xs font-medium text-blue-600",children:[L,"/",w.length]})]}),O&&e.jsx("div",{className:"space-y-0",children:w.map(_=>e.jsxs("div",{className:"flex items-start space-x-3 py-3 px-4 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:n.has(_.id),onChange:()=>j(_.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:_.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:_.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:_.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:_.pages})]})]})]},_.id))})]},S)})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[y()," of ",I()," sources selected"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>T(y()<I()),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:y()<I()?"Select All":"Clear All"}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:"Apply Selection"})]})]})]})}):null},sw=Object.freeze(Object.defineProperty({__proto__:null,default:Sx},Symbol.toStringTag,{value:"Module"})),Jc=({show:t,onClose:s,onSelectBlueprint:n,onSelectReferenceDocument:r,savedBlueprints:a=[],onSaveReferenceAsBlueprint:i,defaultTab:l="library",promptsOnly:o=!1,selectedBlueprintId:c,defaultDocumentView:d="blueprint"})=>{const[m,f]=u.useState(l),[p,g]=u.useState(null),[v,N]=u.useState(null),[I,y]=u.useState(""),[h,b]=u.useState(""),[j,k]=u.useState(""),[x,M]=u.useState(""),[T,S]=u.useState(null),[w,L]=u.useState(""),[X,F]=u.useState(!0),[O,_]=u.useState(!0),[oe,Se]=u.useState(()=>{const D=sessionStorage.getItem("starredBlueprints");return new Set(D?JSON.parse(D):[])}),[G,B]=u.useState(d),[W,le]=u.useState(new Set),[de,we]=u.useState(new Set),[Re,Ye]=u.useState(!1),[Ae,me]=u.useState(!1),[Ke,Y]=u.useState(""),[U,ge]=u.useState(""),[Ce,ke]=u.useState("category"),[Q,Me]=u.useState("category"),[P,K]=u.useState(new Set),[he,ve]=u.useState(new Set),[be,ye]=u.useState("name"),[fe,We]=u.useState("name"),[V,De]=u.useState("asc"),[_e,je]=u.useState("asc"),qe={"Correspondence and Communications":[{id:"msg1",name:"insurance_adjuster_texts.pdf",description:"Communication between Garcia and State Farm adjuster regarding claim denial and settlement negotiations following the accident...",size:"89.2 KB",pages:"3 pages",dateUploaded:"2024-03-15"},{id:"msg2",name:"garcia_medical_emails.pdf",description:"Correspondence with Dr. Martinez regarding ongoing treatment for neck and back injuries sustained in the motor vehicle collision...",size:"156.8 KB",pages:"5 pages",dateUploaded:"2024-03-12"}],"Discovery Documents":[{id:"disc1",name:"defendant_deposition_transcript.docx",description:"Sworn testimony from John Smith regarding circumstances leading to the rear-end collision on Highway 101",size:"342 KB",pages:"18 pages",dateUploaded:"2024-02-28"},{id:"disc2",name:"police_accident_report.pdf",description:"Official incident report filed by responding officer documenting vehicle positions, witness statements, and traffic citations",size:"1.1 MB",pages:"6 pages",dateUploaded:"2024-02-20"}],"Evidence and Reports":[{id:"ev1",name:"accident_scene_photos.pdf",description:"Digital photographs showing vehicle damage, skid marks, intersection layout, and traffic signal positions",size:"4.7 MB",pages:"24 images",dateUploaded:"2024-03-08"},{id:"ev2",name:"accident_reconstruction_report.pdf",description:"Expert analysis of collision dynamics, speed calculations, and causation factors by certified traffic engineer",size:"1.3 MB",pages:"12 pages",dateUploaded:"2024-03-05"}],"Financial and Employment Records":[{id:"fin1",name:"lost_wages_documentation.xlsx",description:"Employment records and pay stubs showing Garcia's income loss during recovery period from injuries",size:"203 KB",pages:"8 pages",dateUploaded:"2024-03-10"},{id:"fin2",name:"medical_expenses_summary.xlsx",description:"Itemized medical bills and insurance claims for treatment related to accident injuries",size:"445 KB",pages:"15 pages",dateUploaded:"2024-03-18"}]},Ze=[{id:"pb-1",type:"workflow",title:"Case Value Assessment",description:"Analyze medical records, bills, and damages to assess the potential value of a personal injury case.",createdBy:"Supio",dateCreated:"June 30, 2025",tags:["Analysis","Valuation","MVA"],dataRequired:["Medical records","Bills","Treatment history"],content:`This workflow guides you through:
- Medical record analysis
- Treatment cost evaluation
- Pain and suffering assessment
- Lost wage calculations
- Comparative case analysis`},{id:"pb-2",type:"workflow",title:"Liability & Negligence Analysis",description:"Identify liability factors, witness statements, and supporting evidence for establishing negligence in motor vehicle accidents.",createdBy:"Supio",dateCreated:"June 25, 2025",tags:["Liability","Analysis","MVA"],dataRequired:["Police reports","Witness statements","Photos"],content:`Comprehensive liability assessment covering:
- Traffic violation analysis
- Road conditions assessment
- Vehicle defect considerations
- Witness credibility evaluation
- Expert testimony needs`},{id:"pb-3",type:"workflow",title:"Medical Records Review",description:"Comprehensive analysis of medical documentation and treatment history to support personal injury claims.",createdBy:"Supio",dateCreated:"June 20, 2025",tags:["Medical","Analysis","Documentation"],dataRequired:["Medical records","Test results","Treatment notes"],content:`Detailed medical record review including:
- Treatment timeline construction
- Medical necessity verification
- Injury causation analysis
- Future treatment needs assessment
- Medical cost projections`},{id:"pr-1",type:"prompt",title:"MVA Interrogatories",description:"Draft comprehensive interrogatories for motor vehicle accident cases to gather essential information from opposing parties.",createdBy:"Supio",dateCreated:"June 28, 2025",tags:["Drafting","MVA","Discovery"],content:`Create standard interrogatories covering:
- Driver information and licensing
- Vehicle condition and maintenance
- Insurance coverage details
- Accident circumstances
- Damages and medical treatment`},{id:"pr-2",type:"prompt",title:"Request for Production",description:"Generate document requests for personal injury cases to obtain relevant evidence and records.",createdBy:"Supio",dateCreated:"June 22, 2025",tags:["Discovery","Documentation","Drafting"],content:`Standard document requests for:
- Insurance policies and correspondence
- Medical records and bills
- Employment and wage records
- Vehicle maintenance records
- Expert reports and photographs`},{id:"pr-3",type:"prompt",title:"Deposition Outline Generator",description:"Create structured deposition outlines tailored to witness type and case specifics for effective questioning.",createdBy:"Supio",dateCreated:"June 15, 2025",tags:["Deposition","Outline","Drafting"],content:`Create a comprehensive deposition outline covering:
- Background information
- Incident details
- Damages and treatment
- Expert qualifications
- Opinion formation process`}],hs=[{id:"complaint",title:"Complaint",description:"Draft a legal complaint for civil litigation",createdBy:"Supio",dateCreated:"June 30, 2025"},{id:"motion-summary-judgment",title:"Motion for Summary Judgment",description:"Draft a motion for summary judgment",createdBy:"Supio",dateCreated:"June 25, 2025"},{id:"expert-disclosure",title:"Expert Disclosure",description:"Draft an expert witness disclosure",createdBy:"Supio",dateCreated:"June 20, 2025"},{id:"mediation-brief",title:"Mediation Brief",description:"Draft a brief for mediation proceedings",createdBy:"Supio",dateCreated:"June 15, 2025"},{id:"medical-summary",title:"Medical Summary",description:"Draft a medical summary report",createdBy:"Supio",dateCreated:"June 10, 2025"}],[dt,_t]=u.useState("both"),[gt,Jt]=u.useState(new Set(["prompt","workflow"])),[ns,fs]=u.useState(!1),[$t,zs]=u.useState("both"),[Pt,Ls]=u.useState(new Set),H=u.useRef(null),Pe=D=>{le(ee=>{const Ne=new Set(ee);return Ne.has(D)?Ne.delete(D):Ne.add(D),Ne})},Oe=D=>{we(ee=>{const Ne=new Set(ee);return Ne.has(D)?Ne.delete(D):Ne.add(D),Ne})};u.useEffect(()=>{if(t){const D=Object.values(qe).flat().map(ee=>ee.id);le(new Set(D)),we(new Set(D))}},[t]);const He=()=>Object.values(qe).flat().length,Ue=D=>{if(!D)return qe;const ee={};return Object.entries(qe).forEach(([Ne,Je])=>{const it=Je.filter(lt=>lt.name.toLowerCase().includes(D.toLowerCase())||lt.description.toLowerCase().includes(D.toLowerCase()));it.length>0&&(ee[Ne]=it)}),ee},St=(D,ee)=>{D==="blueprint"?K(Ne=>{const Je=new Set(Ne);return Je.has(ee)?Je.delete(ee):Je.add(ee),Je}):ve(Ne=>{const Je=new Set(Ne);return Je.has(ee)?Je.delete(ee):Je.add(ee),Je})},Et=(D,ee)=>{const Ne=Object.keys(qe);D==="blueprint"?K(ee?new Set(Ne):new Set):ve(ee?new Set(Ne):new Set)},E=(D,ee,Ne)=>[...D].sort((Je,it)=>{let lt=0;switch(ee){case"name":lt=Je.name.localeCompare(it.name);break;case"date":lt=new Date(Je.dateUploaded).getTime()-new Date(it.dateUploaded).getTime();break;default:return 0}return Ne==="asc"?lt:-lt}),A=(D,ee)=>{const Ne=Object.values(qe).flat().map(Je=>Je.id);D==="blueprint"?le(ee?new Set(Ne):new Set):we(ee?new Set(Ne):new Set)},$=(D,ee,Ne)=>{const it=(qe[ee]||[]).map(lt=>lt.id);D==="blueprint"?le(lt=>{const Ge=new Set(lt);return Ne?it.forEach(Ot=>Ge.add(Ot)):it.forEach(Ot=>Ge.delete(Ot)),Ge}):we(lt=>{const Ge=new Set(lt);return Ne?it.forEach(Ot=>Ge.add(Ot)):it.forEach(Ot=>Ge.delete(Ot)),Ge})},te=Ze.filter(D=>{const ee=h===""||D.title.toLowerCase().includes(h.toLowerCase())||D.description.toLowerCase().includes(h.toLowerCase())||D.tags.some(Je=>Je.toLowerCase().includes(h.toLowerCase())),Ne=o?D.type==="prompt":gt.has(D.type);return ee&&Ne&&Pt.has(D.id)&&(dt==="starred"||dt==="both")}),se=Ze.filter(D=>{const ee=h===""||D.title.toLowerCase().includes(h.toLowerCase())||D.description.toLowerCase().includes(h.toLowerCase())||D.tags.some(Je=>Je.toLowerCase().includes(h.toLowerCase())),Ne=o?D.type==="prompt":gt.has(D.type);return ee&&Ne&&!Pt.has(D.id)&&(dt==="all"||dt==="both")}),ae=[...a.map(D=>({...D,source:"saved"})),...hs.map(D=>({...D,source:"standard"}))],Z=ae.filter(D=>(w===""||D.title.toLowerCase().includes(w.toLowerCase())||D.description.toLowerCase().includes(w.toLowerCase()))&&oe.has(D.id)&&($t==="starred"||$t==="both")),re=ae.filter(D=>(w===""||D.title.toLowerCase().includes(w.toLowerCase())||D.description.toLowerCase().includes(w.toLowerCase()))&&!oe.has(D.id)&&($t==="all"||$t==="both"));u.useEffect(()=>{if(t&&m==="library"&&!p){const D=te[0]||se[0];D&&g(D)}},[t,m,te,se,p]),u.useEffect(()=>{(!t||m!=="library")&&g(null)},[t,m]),u.useEffect(()=>{t&&f(l)},[t,l]),u.useEffect(()=>{if(t){B(d);const D=sessionStorage.getItem("starredBlueprints");D&&Se(new Set(JSON.parse(D)))}},[t,d]),u.useEffect(()=>{const D=sessionStorage.getItem("starredBlueprints");D&&Se(new Set(JSON.parse(D)))},[a]),u.useEffect(()=>{if(t&&m==="draft"&&!v){const D=Z[0]||re[0];D&&N(D)}},[t,m,Z,re,v]),u.useEffect(()=>{if(t&&c&&m==="draft"&&!v){const D=ae.find(ee=>ee.id===c);D&&N(D)}},[t,c,m,ae,v]),u.useEffect(()=>{if(t){const D=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=D}}},[t]),u.useEffect(()=>{(!t||m!=="draft")&&(N(null),y(""))},[t,m]);const pe=D=>{N(D)},Ie=D=>{if(!n)return;const ee=Array.from(W).map(Ne=>{const Je=Object.values(qe).flat().find(it=>it.id===Ne);return Je?{id:Je.id,name:Je.name,type:Je.description.includes("Medical")?"medical":"general"}:null}).filter(Boolean);sessionStorage.setItem(`blueprint_${D}_sources`,JSON.stringify({sources:ee,sourceCount:W.size,totalAvailable:He(),selectedAt:new Date().toISOString()})),n(D),s()},Le=D=>{var Ne;const ee=(Ne=D.target.files)==null?void 0:Ne[0];ee&&S(ee)},Te=()=>{if(T&&r){const D=Array.from(de).map(ee=>{const Ne=Object.values(qe).flat().find(Je=>Je.id===ee);return Ne?{id:Ne.id,name:Ne.name,type:Ne.description.includes("Medical")?"medical":"general"}:null}).filter(Boolean);sessionStorage.setItem(`reference_${T.name}_sources`,JSON.stringify({sources:D,sourceCount:de.size,totalAvailable:He(),selectedAt:new Date().toISOString()})),r(T,j.trim()||void 0,x.trim()||void 0),s()}},Be=(D,ee)=>{ee.stopPropagation(),Se(Ne=>{const Je=new Set(Ne);return Je.has(D)?Je.delete(D):Je.add(D),sessionStorage.setItem("starredBlueprints",JSON.stringify(Array.from(Je))),Je})},tt=(D,ee)=>{ee.stopPropagation(),Ls(Ne=>{const Je=new Set(Ne);return Je.has(D)?Je.delete(D):Je.add(D),Je})},mt=D=>{Jt(ee=>{const Ne=new Set(ee);return Ne.has(D)?Ne.delete(D):Ne.add(D),Ne})};u.useEffect(()=>{const D=ee=>{H.current&&!H.current.contains(ee.target)&&fs(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const ht=()=>{g(null),k(""),M(""),S(null),L(""),F(!0),_(!0),B("blueprint"),s()};return u.useEffect(()=>{t||(S(null),k(""),M(""),B("blueprint"))},[t]),t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-[95vw] mx-4 h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xs,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o?"Prompt Library":"Library"})]}),e.jsx("button",{onClick:ht,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ut,{className:"h-6 w-6"})})]}),!o&&e.jsx("div",{className:"border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>f("library"),className:`px-6 py-3 text-sm font-medium transition-colors ${m==="library"?"text-purple-600 border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700"}`,children:"Prompts & Workflows"}),e.jsx("button",{onClick:()=>f("draft"),className:`px-6 py-3 text-sm font-medium transition-colors ${m==="draft"?"text-purple-600 border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700"}`,children:"Documents"})]})}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:m==="library"||o?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 min-h-0",style:{height:"calc(100vh - 200px)"},children:[e.jsx("div",{className:"w-[40%] border-r border-gray-200 flex flex-col",children:e.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Search prompts & workflows...",value:h,onChange:D=>b(D.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show:"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"itemViewMode",checked:dt==="both",onChange:()=>_t("both"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"itemViewMode",checked:dt==="starred",onChange:()=>_t("starred"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Starred"})]})]}),!o&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Types:"}),e.jsxs("div",{className:"relative",ref:H,children:[e.jsxs("button",{onClick:()=>fs(!ns),className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("span",{className:"mr-2",children:gt.size===0?"None selected":gt.size===2?"All types":gt.has("prompt")?"Prompts":"Workflows"}),e.jsx(Ut,{className:"h-4 w-4 text-gray-400"})]}),ns&&e.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:gt.has("prompt"),onChange:()=>mt("prompt"),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Prompts"})]}),e.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:gt.has("workflow"),onChange:()=>mt("workflow"),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Workflows"})]})]})})]})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",style:{maxHeight:"calc(100vh - 400px)",overscrollBehavior:"contain"},children:[te.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"Starred"}),te.map(D=>e.jsxs("div",{onClick:()=>g(D),className:`p-4 rounded-lg border cursor-pointer transition-all ${(p==null?void 0:p.id)===D.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.title}),e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${D.type==="workflow"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:D.type==="workflow"?"Workflow":"Prompt"})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:ee=>tt(D.id,ee),className:"p-1 text-yellow-500 hover:text-yellow-600 transition-colors",title:"Unstar item",children:"★"}),e.jsx("button",{className:`px-3 py-1 text-white rounded text-sm hover:opacity-90 ${D.type==="workflow"?"bg-purple-600":"bg-blue-600"}`,children:D.type==="workflow"?"Run":"Use"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Created by: ",D.createdBy," • ",D.dateCreated]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.tags.slice(0,3).map((ee,Ne)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700",children:ee},Ne)),D.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",D.tags.length-3]})]})]},D.id)),se.length>0&&e.jsx("div",{className:"mt-6 mb-4"})]}),se.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"All Items"}),se.map(D=>e.jsxs("div",{onClick:()=>g(D),className:`p-4 rounded-lg border cursor-pointer transition-all ${(p==null?void 0:p.id)===D.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.title}),e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${D.type==="workflow"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:D.type==="workflow"?"Workflow":"Prompt"})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:ee=>tt(D.id,ee),className:`p-1 transition-colors ${Pt.has(D.id)?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-yellow-400"}`,title:Pt.has(D.id)?"Unstar item":"Star item",children:Pt.has(D.id)?"★":"☆"}),e.jsx("button",{className:`px-3 py-1 text-white rounded text-sm hover:opacity-90 ${D.type==="workflow"?"bg-purple-600":"bg-blue-600"}`,children:D.type==="workflow"?"Run":"Use"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Created by: ",D.createdBy," • ",D.dateCreated]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.tags.slice(0,3).map((ee,Ne)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700",children:ee},Ne)),D.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",D.tags.length-3]})]})]},D.id))]}),te.length===0&&se.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500 mb-6",children:e.jsx("p",{children:"No items found matching your search criteria."})}),(te.length>0||se.length>0)&&e.jsx("div",{className:"h-6"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:p?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-3",children:p.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${p.type==="workflow"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:p.type==="workflow"?"Workflow":"Prompt"})]}),e.jsx("button",{className:`px-4 py-2 text-white rounded-md hover:opacity-90 ${p.type==="workflow"?"bg-purple-600":"bg-blue-600"}`,children:p.type==="workflow"?"Run Workflow":"Use Prompt"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["Created by: ",p.createdBy," • Date: ",p.dateCreated]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:p.tags.map((D,ee)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:D},ee))}),p.type==="workflow"&&p.dataRequired&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Data Required"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.dataRequired.map((D,ee)=>e.jsx("li",{className:"text-sm text-gray-600",children:D},ee))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p.type==="workflow"?"Process Overview":"Content"}),e.jsx("div",{className:"bg-gray-50 rounded-md p-4",children:e.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:p.content})})]})]})}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-500",children:"Select an item to view details"})})})]})}):e.jsx(e.Fragment,{children:G==="blueprint"?e.jsxs("div",{className:"flex flex-1 min-h-0",style:{height:"calc(100vh - 200px)"},children:[e.jsx("div",{className:"w-[40%] border-r border-gray-200 flex flex-col",children:e.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Use Existing Blueprint"}),e.jsxs("button",{onClick:()=>B("example"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center",children:["or draft from a new example document",e.jsx("span",{className:"ml-1",children:"→"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Search blueprints...",value:w,onChange:D=>L(D.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show:"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"blueprintFilterMode",checked:$t==="both",onChange:()=>zs("both"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"blueprintFilterMode",checked:$t==="starred",onChange:()=>zs("starred"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Starred"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",style:{maxHeight:"calc(100vh - 400px)",overscrollBehavior:"contain"},children:[Z.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"Starred"}),Z.map(D=>e.jsxs("div",{onClick:()=>pe(D),className:`p-4 rounded-lg border cursor-pointer transition-all ${(v==null?void 0:v.id)===D.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.title}),D.source==="saved"&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Yours"})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),e.jsx("button",{onClick:ee=>Be(D.id,ee),className:"p-1 text-yellow-500 hover:text-yellow-600 transition-colors",title:"Unstar blueprint",children:"★"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Created by: ",D.source==="saved"?"You":D.createdBy," • ",D.source==="saved"?"Recently":D.dateCreated]})]},D.id)),re.length>0&&e.jsx("div",{className:"mt-6 mb-4"})]}),re.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"All Blueprints"}),re.map(D=>e.jsxs("div",{onClick:()=>pe(D),className:`p-4 rounded-lg border cursor-pointer transition-all ${(v==null?void 0:v.id)===D.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.title}),D.source==="saved"&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Yours"})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),e.jsx("button",{onClick:ee=>Be(D.id,ee),className:`p-1 transition-colors ${oe.has(D.id)?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-yellow-400"}`,title:oe.has(D.id)?"Unstar blueprint":"Star blueprint",children:oe.has(D.id)?"★":"☆"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Created by: ",D.source==="saved"?"You":D.createdBy," • ",D.source==="saved"?"Recently":D.dateCreated]})]},D.id))]}),Z.length===0&&re.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500 mb-6",children:e.jsx("p",{children:"No blueprints found matching your search criteria."})}),(Z.length>0||re.length>0)&&e.jsx("div",{className:"h-6"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:v?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mr-3",children:v.title}),v.source==="saved"&&e.jsx("span",{className:"px-2 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-700",children:"Yours"})]}),e.jsx("button",{onClick:()=>Ie(v.id),className:"px-4 py-2 text-white rounded-md hover:opacity-90 bg-blue-600",children:"Draft Document"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:v.description}),e.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:["Created by: ",v.source==="saved"?"You":v.createdBy," • Date: ",v.source==="saved"?"Recently":v.dateCreated]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50",onClick:()=>Ye(!Re),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Case Data Sources"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",W.size," of ",He()," selected)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),A("blueprint",W.size<He())},className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:W.size<He()?"Select All":"Clear All"}),e.jsx(Ut,{className:`h-4 w-4 text-gray-400 transition-transform ${Re?"rotate-180":""}`})]})]}),Re&&e.jsxs("div",{className:"border-t border-gray-200 p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("input",{type:"text",placeholder:"Search sources...",value:Ke,onChange:D=>Y(D.target.value),className:"w-3/5 px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Ce==="category"?e.jsx("button",{onClick:()=>Et("blueprint",P.size<Object.keys(qe).length),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:P.size<Object.keys(qe).length?"Expand All":"Collapse All"}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:be,onChange:D=>ye(D.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"date",children:"Sort by Date Uploaded"})]}),e.jsx("button",{onClick:()=>De(V==="asc"?"desc":"asc"),className:"p-1 text-gray-500 hover:text-gray-700 border border-gray-300 rounded",title:`Sort ${V==="asc"?"Descending":"Ascending"}`,children:e.jsx(Oc,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-md p-1",children:[e.jsx("button",{onClick:()=>ke("category"),className:`px-2 py-1 text-xs font-medium rounded ${Ce==="category"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Category"}),e.jsx("button",{onClick:()=>ke("list"),className:`px-2 py-1 text-xs font-medium rounded ${Ce==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"List"})]})]})]}),e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:Ce==="list"?e.jsx("div",{className:"space-y-1",children:E(Object.values(Ue(Ke)).flat(),be,V).map(D=>e.jsxs("div",{className:"flex items-start space-x-3 py-2 px-3 hover:bg-blue-50 rounded border border-gray-100",children:[e.jsx("input",{type:"checkbox",checked:W.has(D.id),onChange:()=>Pe(D.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:D.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:D.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:D.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:D.pages})]})]})]},D.id))}):e.jsx("div",{className:"space-y-2",children:Object.entries(Ue(Ke)).map(([D,ee])=>{const Ne=ee.filter(Ge=>W.has(Ge.id)).length,Je=Ne>0&&Ne<ee.length,it=Ne===ee.length,lt=P.has(D);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-150 cursor-pointer border-b border-gray-200",onClick:()=>St("blueprint",D),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ut,{className:`h-4 w-4 text-gray-500 transition-transform ${lt?"rotate-0":"-rotate-90"}`}),e.jsx("input",{type:"checkbox",checked:it,ref:Ge=>{Ge&&(Ge.indeterminate=Je)},onChange:Ge=>{Ge.stopPropagation(),$("blueprint",D,Ge.target.checked)},className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:D}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[ee.length," files"]})]})]}),e.jsxs("div",{className:"text-xs font-medium text-blue-600",children:[Ne,"/",ee.length]})]}),lt&&e.jsx("div",{className:"space-y-0",children:ee.map(Ge=>e.jsxs("div",{className:"flex items-start space-x-3 py-3 px-4 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:W.has(Ge.id),onChange:()=>Pe(Ge.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:Ge.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:Ge.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:Ge.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:Ge.pages})]})]})]},Ge.id))})]},D)})})})]})]})}),v.source==="saved"&&v.referenceFile&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Based On"}),e.jsx("div",{className:"bg-gray-50 rounded-md p-3",children:e.jsx("span",{className:"text-sm text-gray-700",children:v.referenceFile})})]}),v.source==="saved"&&(v.documentType||v.additionalInstructions)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Original Parameters"}),e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 space-y-2",children:[v.documentType&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Document Type: "}),e.jsx("span",{className:"text-sm text-gray-600",children:v.documentType})]}),v.additionalInstructions&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Additional Instructions: "}),e.jsx("span",{className:"text-sm text-gray-600",children:v.additionalInstructions})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"blueprint-additional-instructions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Instructions (Optional)"}),e.jsx("textarea",{id:"blueprint-additional-instructions",value:I,onChange:D=>y(D.target.value),placeholder:"Add any specific instructions for this document...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-500",children:"Select a blueprint to view details"})})})]}):e.jsx("div",{className:"p-6 overflow-y-auto h-full",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex items-center space-x-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Draft from Example"}),e.jsxs("button",{onClick:()=>B("blueprint"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center",children:["or use an existing blueprint",e.jsx("span",{className:"ml-1",children:"→"})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Upload a document to use as a template:"}),T?e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(T.size/1024/1024).toFixed(1)," MB"]})]})]}),e.jsx("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-gray-600 p-1",title:"Remove file",children:e.jsx(ut,{className:"h-4 w-4"})})]})})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Upload a document (docx, pdf, txt, xlsx)"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",accept:".pdf,.doc,.docx,.txt",onChange:Le}),e.jsxs("span",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base font-medium",children:[e.jsx(Os,{className:"h-5 w-5 mr-2"}),"Upload File"]})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"document-type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type (Optional)"}),e.jsx("input",{type:"text",id:"document-type",value:j,onChange:D=>k(D.target.value),placeholder:"e.g. complaint, mediation brief, letter of representation",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"additional-instructions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Instructions (Optional)"}),e.jsx("textarea",{id:"additional-instructions",value:x,onChange:D=>M(D.target.value),placeholder:'e.g. "use gross negligence as the first count of the complaint"',rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsx("div",{children:e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50",onClick:()=>me(!Ae),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Case Data Sources"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",de.size," of ",He()," selected)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),A("example",de.size<He())},className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:de.size<He()?"Select All":"Clear All"}),e.jsx(Ut,{className:`h-4 w-4 text-gray-400 transition-transform ${Ae?"rotate-180":""}`})]})]}),Ae&&e.jsxs("div",{className:"border-t border-gray-200 p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("input",{type:"text",placeholder:"Search sources...",value:U,onChange:D=>ge(D.target.value),className:"w-3/5 px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Q==="category"?e.jsx("button",{onClick:()=>Et("example",he.size<Object.keys(qe).length),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:he.size<Object.keys(qe).length?"Expand All":"Collapse All"}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:fe,onChange:D=>We(D.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"date",children:"Sort by Date Uploaded"})]}),e.jsx("button",{onClick:()=>je(_e==="asc"?"desc":"asc"),className:"p-1 text-gray-500 hover:text-gray-700 border border-gray-300 rounded",title:`Sort ${_e==="asc"?"Descending":"Ascending"}`,children:e.jsx(Oc,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-md p-1",children:[e.jsx("button",{onClick:()=>Me("category"),className:`px-2 py-1 text-xs font-medium rounded ${Q==="category"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Category"}),e.jsx("button",{onClick:()=>Me("list"),className:`px-2 py-1 text-xs font-medium rounded ${Q==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"List"})]})]})]}),e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:Q==="list"?e.jsx("div",{className:"space-y-1",children:E(Object.values(Ue(U)).flat(),fe,_e).map(D=>e.jsxs("div",{className:"flex items-start space-x-3 py-2 px-3 hover:bg-blue-50 rounded border border-gray-100",children:[e.jsx("input",{type:"checkbox",checked:de.has(D.id),onChange:()=>Oe(D.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:D.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:D.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:D.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:D.pages})]})]})]},D.id))}):e.jsx("div",{className:"space-y-2",children:Object.entries(Ue(U)).map(([D,ee])=>{const Ne=ee.filter(Ge=>de.has(Ge.id)).length,Je=Ne>0&&Ne<ee.length,it=Ne===ee.length,lt=he.has(D);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-150 cursor-pointer border-b border-gray-200",onClick:()=>St("example",D),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ut,{className:`h-4 w-4 text-gray-500 transition-transform ${lt?"rotate-0":"-rotate-90"}`}),e.jsx("input",{type:"checkbox",checked:it,ref:Ge=>{Ge&&(Ge.indeterminate=Je)},onChange:Ge=>{Ge.stopPropagation(),$("example",D,Ge.target.checked)},className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:D}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[ee.length," files"]})]})]}),e.jsxs("div",{className:"text-xs font-medium text-blue-600",children:[Ne,"/",ee.length]})]}),lt&&e.jsx("div",{className:"space-y-0",children:ee.map(Ge=>e.jsxs("div",{className:"flex items-start space-x-3 py-3 px-4 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:de.has(Ge.id),onChange:()=>Oe(Ge.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:Ge.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:Ge.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:Ge.size}),e.jsx("span",{className:"text-xs text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-400",children:Ge.pages})]})]})]},Ge.id))})]},D)})})})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:Te,disabled:!T,className:`w-full px-4 py-3 rounded-md font-medium transition-all ${T?"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:T?"Start Draft":"Upload File to Continue"})})]})})})})]})}):null},nw=Object.freeze(Object.defineProperty({__proto__:null,default:Jc},Symbol.toStringTag,{value:"Module"})),rw=()=>{const[t,s]=u.useState(""),[n,r]=u.useState(""),[a,i]=u.useState("overview");return{searchQuery:t,setSearchQuery:s,documentSearchQuery:n,setDocumentSearchQuery:r,activeTab:a,setActiveTab:i}},aw=({setActiveTab:t})=>({handleTabClick:a=>{t(a)},handleBlueprintClick:()=>{console.log("Blueprint clicked")},handleResponsesClick:()=>{console.log("Build responses clicked")}}),iw=()=>{const[t,s]=u.useState([]),[n,r]=u.useState(""),[a,i]=u.useState("initial"),[l,o]=u.useState("clean"),[c,d]=u.useState("main"),[m,f]=u.useState([{id:"main",title:"AI Assistant",type:"main"}]),[p,g]=u.useState(null),[v,N]=u.useState(!1),[I,y]=u.useState({}),[h,b]=u.useState(null),[j,k]=u.useState(null),[x,M]=u.useState(null),[T,S]=u.useState(!1),[w,L]=u.useState(!1),[X,F]=u.useState([]),[O,_]=u.useState(Bj),oe=u.useRef(null);u.useEffect(()=>{var Y;(Y=oe.current)==null||Y.scrollIntoView({behavior:"smooth"})},[t]),u.useEffect(()=>{var Y;p&&p.messages&&c!=="main"&&((Y=oe.current)==null||Y.scrollIntoView({behavior:"smooth"}))},[p==null?void 0:p.messages,c]),u.useEffect(()=>{const Y=U=>{const ge=U.target;!ge.closest(".notification-panel-container")&&!ge.closest(".jobs-panel-container")&&(S(!1),L(!1))};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const Se=Y=>{Y!=="main"&&(f(U=>U.filter(ge=>ge.id!==Y)),c===Y&&d("main"))},G=()=>{if(!p)return;const Y=m.find(ge=>ge.type==="drafting");if(Y){d(Y.id);return}const U={id:`drafting-${p.id}`,title:"Drafting",type:"drafting",taskId:p.id};f(ge=>[...ge,U]),d(U.id)},B=Y=>{F(U=>[...U,Y])},W=(Y,U)=>{F(ge=>ge.map(Ce=>Ce.id===Y?{...Ce,...U}:Ce))},le=Y=>{Y.type==="drafting"&&p&&Y.taskId===p.id&&(G(),L(!1),setTimeout(()=>{var U;(U=oe.current)==null||U.scrollIntoView({behavior:"smooth"})},100))},de=Y=>{const U={id:Date.now(),timestamp:new Date,read:!1,...Y};_(ge=>[U,...ge])},we=(Y,U)=>{Y==="review"?(Ke(),S(!1)):Y==="export"&&(console.log("Exporting to Word..."),S(!1))},Re=Y=>{const U={id:Date.now(),timestamp:new Date,...Y};s(ge=>[...ge,U])},Ye=(Y,U={})=>{const ge={id:Date.now(),type:"assistant",content:Y,timestamp:new Date,...U};s(Ce=>[...Ce,ge])},Ae=(Y,U,ge={})=>{if(!p||p.id!==Y)return;const Ce={id:Date.now(),type:"assistant",content:U,timestamp:new Date,...ge},ke={...p,messages:[...p.messages,Ce]};g(ke)},me=()=>{const Y=Date.now(),U={id:Date.now()+1,type:"assistant",content:`I'll help you draft a complaint. To ensure I create the most effective document for your case, I'll need a reference complaint to understand your preferred structure and style.

Please upload a reference complaint that you'd like me to use as a template.`,timestamp:new Date,showUpload:!0};g({id:Y,title:"Drafting a Complaint",status:"Needs input",phase:"upload",createdAt:new Date,messages:[U],uploadedFile:null,assumptions:[],assumptionResponses:{},draftingStartTime:null,elapsedTime:0,draftReady:!1});const Ce={id:`drafting-${Y}`,title:"Drafting",type:"drafting",taskId:Y};f(ke=>[...ke,Ce]),setTimeout(()=>{d(Ce.id)},400)},Ke=()=>{if(!p)return;const Y={...p,phase:"review"};g(Y)};return{messages:t,setMessages:s,inputValue:n,setInputValue:r,currentPhase:a,setCurrentPhase:i,viewMode:l,setViewMode:o,activeChatTab:c,setActiveChatTab:d,chatTabs:m,setChatTabs:f,draftingTask:p,setDraftingTask:g,draftingStarted:v,setDraftingStarted:N,customInputs:I,setCustomInputs:y,customModeAssumption:h,setCustomModeAssumption:b,editingCustomAssumption:j,setEditingCustomAssumption:k,originalResponseBeforeEdit:x,setOriginalResponseBeforeEdit:M,showNotifications:T,setShowNotifications:S,showJobsList:w,setShowJobsList:L,jobs:X,setJobs:F,notifications:O,setNotifications:_,messagesEndRef:oe,closeTab:Se,reopenDraftingTab:G,addJob:B,updateJob:W,handleJobClick:le,addNotification:de,handleNotificationAction:we,addMessage:Re,addAssistantMessage:Ye,addAssistantMessageToTask:Ae,createDraftingTask:me,handleReviewDraft:Ke}},lw=(t,s,n,r,a,i,l,o)=>{const c=N=>{!t||t.id!==N||setTimeout(()=>{const I={...t,messages:[...t.messages.map(y=>y.isAnalyzing?{...y,isAnalyzing:!1,isAnalyzingComplete:!0}:y),{id:Date.now(),type:"assistant",content:"I've analyzed your reference complaint and case files. Based on this analysis, I've prepared a draft structure with key assumptions about how to approach your complaint. Please review these assumptions and let me know if you'd like to modify any of them.",timestamp:new Date,showAssumptions:!0}],phase:"assumptions",status:"Needs input",assumptions:Uj};s(I)},2e3)},d=(N,I)=>{if(!t)return;const y=t.assumptions.map(j=>j.id===N?{...j,selected:I}:j),h={...t.assumptionResponses,[N]:I};s({...t,assumptions:y,assumptionResponses:h}),y.every(j=>j.selected!==null)&&setTimeout(()=>{const j={id:Date.now(),type:"assistant",content:`Perfect! I have all the information I need. I'll now draft your complaint incorporating your preferences for legal theories, damages, jurisdiction, and defendants.

**Summary of your choices:**
• Legal approach: `+y[0].selected+`
• Damages strategy: `+y[1].selected+`
• Jurisdictional basis: `+y[2].selected+`
• Defendant scope: `+y[3].selected,timestamp:new Date,isConfirmation:!0,showBeginDrafting:!0};s(k=>k?{...k,messages:[...k.messages,j]}:null)},1e3)};return{presentAssumptions:c,handleAssumptionResponse:d,handleCustomInput:(N,I)=>{r({...n,[N]:I})},toggleCustomMode:N=>{if(a===N)i(null);else{i(N);const I=t==null?void 0:t.assumptions.find(y=>y.id===N);I!=null&&I.selected&&o(I.selected)}},cancelCustomInstruction:()=>{i(null),o(null)},confirmCustomInstruction:N=>{const I=n[N];I&&t&&(d(N,I),i(null),o(null))},editCustomInstruction:N=>{l(N)}}},ow=(t,s,n,r,a,i,l)=>{const o=m=>{var p;const f=(p=m.target.files)==null?void 0:p[0];if(f&&t){const g={name:f.name,size:`${Math.round(f.size/1024)} KB`,type:f.type},v={id:Date.now(),type:"user",content:`Uploaded: ${f.name}`,isFile:!0,file:{name:f.name,size:`${Math.round(f.size/1024)} KB`},timestamp:new Date},N={...t,uploadedFile:g,messages:[...t.messages,v],phase:"analyzing",status:"Generating"};s(N),setTimeout(()=>{const I={...N,messages:[...N.messages,{id:Date.now(),type:"assistant",content:"Thank you for uploading the reference complaint. I'm now analyzing it along with your case files to understand the context and identify key elements for your complaint.",timestamp:new Date,isAnalyzing:!0}]};s(I),setTimeout(()=>{l&&l(I.id)},3e3)},500)}},c=m=>{if(!t)return;n(!0);const f=Date.now(),p={id:`job-${t.id}`,taskId:t.id,type:"drafting",title:"Draft Complaint",description:"Davis v. Johnson - MVA Case",status:"In Progress",startTime:f,elapsedTime:0,createdAt:new Date};r(p),s(v=>{if(!v)return v;const N=v.messages.map(y=>y.isConfirmation?{...y,showBeginDrafting:!1,isDraftingStarted:!0}:y),I={id:Date.now(),type:"assistant",content:"I'm now drafting your complaint. This will take a few moments as I incorporate all relevant case facts and structure it according to your specifications.",timestamp:new Date,isDrafting:!0};return{...v,phase:"drafting",status:"Generating",draftingStartTime:f,elapsedTime:0,messages:[...N,I]}});const g=setInterval(()=>{const v=Math.floor((Date.now()-f)/1e3);s(N=>N?{...N,elapsedTime:v}:null),a(p.id,{elapsedTime:v}),v>=30&&(clearInterval(g),d())},1e3)},d=()=>{s(m=>{if(!m||m.phase==="complete")return m;a(`job-${m.id}`,{status:"Complete",completedAt:new Date});const f=m.messages.map(g=>g.isDrafting?{...g,isDrafting:!1,isDraftingComplete:!0}:g),p={id:Date.now(),type:"assistant",content:`Your complaint draft is ready! I've incorporated all the case facts, applied the legal theories we discussed, and structured it based on your reference document.

Your complaint has been saved to your case files as "Davis v Johnson - Complaint - Draft 1.docx".`,timestamp:new Date,isDraftComplete:!0,actions:[{label:"Review Draft",icon:()=>ne.createElement(Qe,{size:16}),primary:!0},{label:"Export to Word",icon:()=>ne.createElement(Jl,{size:16})}]};return{...m,phase:"complete",status:"Draft complete",draftReady:!0,messages:[...f,p]}}),setTimeout(()=>{i({type:"success",title:"Draft Complete",message:"Your complaint draft is ready for review",actions:[{label:"Review Document",action:"review",icon:()=>ne.createElement(hn,{size:14}),primary:!0},{label:"Export to Word",action:"export",icon:()=>ne.createElement(eu,{size:14})}]})},100)};return{handleFileUpload:o,startDrafting:c,completeDraft:d}},cw=()=>{const[t,s]=u.useState(!1),[n,r]=u.useState(!1),[a,i]=u.useState(!1),[l,o]=u.useState(!1),[c,d]=u.useState("library"),[m,f]=u.useState(void 0),[p,g]=u.useState(!1),[v,N]=u.useState(!1),[I,y]=u.useState(""),[h,b]=u.useState(!1);return[{showMoreMenu:t,showAIPanel:n,showUnifiedModal:a,showPromptsModal:l,unifiedModalDefaultTab:c,selectedBlueprintId:m,openInExampleMode:p,showToast:v,toastMessage:I,showCanvas:h},{setShowMoreMenu:s,setShowAIPanel:r,setShowUnifiedModal:i,setShowPromptsModal:o,setUnifiedModalDefaultTab:d,setSelectedBlueprintId:f,setOpenInExampleMode:g,setShowToast:N,setToastMessage:y,setShowCanvas:b,closeAllModals:()=>{s(!1),r(!1),i(!1),o(!1),b(!1)},showToastMessage:S=>{y(S),N(!0),setTimeout(()=>N(!1),3e3)},closeUnifiedModal:()=>{i(!1),d("library"),f(void 0),g(!1)}}]},dw={1:[{id:1,type:"user",content:"Can you help me analyze the medical records for the Garcia MVA case? I need to understand the extent of injuries and treatment timeline.",timestamp:new Date(Date.now()-864e5*2)},{id:2,type:"assistant",content:`I've reviewed Mr. Garcia's medical records from the accident. Here's a comprehensive analysis:

**Initial Injuries (Day of Accident)**
• Cervical spine strain (whiplash)
• Lower back contusion
• Minor lacerations on forearm
• Mild concussion symptoms

**Treatment Timeline:**
• Emergency room visit: CT scan, X-rays normal
• Physical therapy: 12 weeks (3x/week initially)
• Pain management: 6 months with Dr. Williams
• MRI at 3 months showed disc bulging at L4-L5

**Current Status:**
• Ongoing lower back pain (4/10 severity)
• Limited range of motion
• Unable to return to construction work

The medical evidence supports significant ongoing impairment affecting his ability to work. Total medical costs: $47,832.`,timestamp:new Date(Date.now()-864e5*2+12e4)},{id:3,type:"user",content:"What's the prognosis and likelihood of permanent disability?",timestamp:new Date(Date.now()-864e5*2+3e5)},{id:4,type:"assistant",content:`Based on Dr. Martinez's independent medical examination and the 8-month treatment history:

**Prognosis:**
• Cervical strain: Good recovery (90% resolved)
• Lumbar disc bulge: Guarded prognosis
• Chronic pain syndrome: Likely permanent

**Disability Assessment:**
• 15-20% permanent partial disability rating expected
• Unable to perform heavy lifting (construction work)
• May require career retraining
• Future medical care needs: $15,000-25,000

**Supporting Evidence:**
• Functional capacity evaluation shows significant limitations
• Pain management specialist recommends ongoing treatment
• Vocational expert confirms inability to return to previous work

This supports a strong claim for permanent disability and future wage loss.`,timestamp:new Date(Date.now()-864e5*2+48e4)}],2:[{id:5,type:"user",content:"I need help calculating damages for the Garcia case. Can you break down past and future economic losses?",timestamp:new Date(Date.now()-864e5)},{id:6,type:"assistant",content:`Here's a comprehensive damage calculation for Mr. Garcia:

**Past Economic Losses:**
• Medical expenses: $47,832
• Lost wages (8 months): $52,000
  - Construction worker: $6,500/month
  - Total time off work: 8 months
• Property damage: $8,500 (vehicle)
**Past Economic Total: $108,332**

**Future Economic Losses:**
• Future medical care: $20,000 (conservative estimate)
• Lost earning capacity: $280,000
  - Current age: 34, work life expectancy: 31 years
  - Reduced to light duty work ($3,500/month vs $6,500)
  - Annual loss: $36,000
  - Present value: $280,000 (using 3% discount rate)
**Future Economic Total: $300,000**

**Non-Economic Damages:**
• Pain and suffering: $150,000-200,000
• Loss of enjoyment of life: $75,000-100,000

**Total Claim Value: $633,332 - $708,332**`,timestamp:new Date(Date.now()-864e5+18e4)}],3:[{id:7,type:"user",content:"We need to prepare our expert witnesses for deposition. What key points should Dr. Martinez focus on?",timestamp:new Date(Date.now()-432e5)},{id:8,type:"assistant",content:`**Expert Witness Preparation - Dr. Martinez (Orthopedic Surgeon)**

**Key Testimony Points:**
1. **Mechanism of Injury**
   - Rear-end collision consistent with reported injuries
   - Explain how whiplash and lumbar trauma occur

2. **Medical Causation**
   - Clear connection between accident and disc bulging
   - Rule out pre-existing conditions
   - Timeline supports accident causation

3. **Permanency Assessment**
   - 15-20% permanent partial disability rating
   - Ongoing pain management needs
   - Functional limitations well-documented

4. **Future Care Needs**
   - Conservative estimate: $20,000
   - May need injections, physical therapy
   - Potential for surgery if conservative treatment fails

**Potential Challenges:**
• Defense may argue pre-existing arthritis
• Counter with: no prior complaints or treatment
• Emphasize: accident accelerated natural wear

**Documents to Review:**
• All medical records and imaging
• Functional capacity evaluation
• Pain management notes`,timestamp:new Date(Date.now()-432e5+24e4)},{id:9,type:"user",content:"What about the vocational expert testimony?",timestamp:new Date(Date.now()-432e5+6e5)},{id:10,type:"assistant",content:`**Vocational Expert Preparation - Sarah Thompson, CRC**

**Key Testimony Areas:**

1. **Pre-Injury Earning Capacity**
   - Construction worker: $78,000/year
   - 15 years experience, skilled carpenter
   - Strong work history, no gaps in employment

2. **Post-Injury Limitations**
   - No lifting over 25 pounds
   - Cannot work at heights
   - Limited bending/twisting
   - Sedentary to light duty work only

3. **Job Market Analysis**
   - Available positions: office work, light assembly
   - Realistic wage: $35,000-42,000/year
   - Wage loss: $36,000-43,000/year

4. **Retraining Needs**
   - Computer skills training: 6-12 months
   - Cost: $8,000-12,000
   - Success depends on motivation and aptitude

**Potential Defense Arguments:**
• "He can find other work"
• Counter: Limited options at his age/education level
• Geographic limitations in rural area

**Supporting Data:**
• Labor market surveys
• Wage data from Bureau of Labor Statistics
• Employer interviews about accommodation`,timestamp:new Date(Date.now()-432e5+72e4)}]},uw=[{id:1,name:"Medical Records Review",isDocumentTab:!1,associatedJobId:null},{id:2,name:"Damage Calculations",isDocumentTab:!1,associatedJobId:null},{id:3,name:"Expert Witness Prep",isDocumentTab:!1,associatedJobId:null},{id:4,name:"New Chat",isDocumentTab:!1,associatedJobId:null,createdFrom:"ai-assistant"}],mw=()=>{const[t,s]=u.useState(uw),[n,r]=u.useState(4),[a,i]=u.useState(dw),[l,o]=u.useState({}),[c,d]=u.useState({}),[m,f]=u.useState({}),p=(j,k)=>{f(x=>({...x,[j]:k}))},g=j=>{const k=a[j]||[];if(k.length===0)return null;const x=[...k].sort((M,T)=>{const S=M.timestamp,w=T.timestamp;return!S||!w?0:w.getTime()-S.getTime()});return x.length>0?x[0].timestamp:null},v=()=>{const j=t.filter(k=>(a[k.id]||[]).length>0).sort((k,x)=>{const M=g(k.id),T=g(x.id);return!M||!T?0:T.getTime()-M.getTime()});return j.length>0?j[0]:null},N=j=>t.find(k=>(a[k.id]||[]).length===0&&k.createdFrom===j),I=j=>(a[j]||[]).length===0;return[{chatTabs:t,activeChatTab:n,tabMessages:a,tabFiles:l,tabStagedFiles:c,conversationInputs:m},{setChatTabs:s,setActiveChatTab:r,setTabMessages:i,setTabFiles:o,setTabStagedFiles:d,setConversationInputs:f,updateConversationInput:p,getTabLastMessageTimestamp:g,getFirstRealConversation:v,findStagedConversation:N,isConversationStaged:I,getVisibleAITabs:()=>t.filter(j=>!(j.hiddenInAI||j.createdFrom==="explore"&&I(j.id))).sort((j,k)=>{const x=j.createdFrom==="ai-assistant"&&I(j.id),M=k.createdFrom==="ai-assistant"&&I(k.id);if(x&&!M)return-1;if(!x&&M)return 1;if(j.aiPosition!==void 0&&k.aiPosition!==void 0)return j.aiPosition-k.aiPosition;const T=g(j.id),S=g(k.id);return!T||!S?0:S.getTime()-T.getTime()})}]},hw=()=>{const[t,s]=u.useState([]),[n,r]=u.useState([]),[a,i]=u.useState(null),[l,o]=u.useState([]);return[{jobs:t,notifications:n,selectedJob:a,documentCards:l},{setJobs:s,setNotifications:r,setSelectedJob:i,setDocumentCards:o,addJob:h=>{s(b=>[...b,h])},updateJob:(h,b)=>{s(j=>j.map(k=>k.id===h?{...k,...b}:k))},removeJob:h=>{s(b=>b.filter(j=>j.id!==h))},addNotification:h=>{r(b=>[...b,h])},removeNotification:h=>{r(b=>b.filter(j=>j.id!==h))},addDocumentCard:h=>{o(b=>[...b,h])},updateDocumentCard:(h,b)=>{o(j=>j.map(k=>k.id===h?{...k,...b}:k))},removeDocumentCard:h=>{o(b=>b.filter(j=>j.id!==h))}}]},fw=()=>{var mu,hu;const[t,s]=cw(),[n,r]=mw(),[a,i]=hw(),{showMoreMenu:l,showAIPanel:o,showUnifiedModal:c,showPromptsModal:d,unifiedModalDefaultTab:m,selectedBlueprintId:f,openInExampleMode:p,showToast:g,toastMessage:v,showCanvas:N}=t,{setShowMoreMenu:I,setShowAIPanel:y,setShowUnifiedModal:h,setShowPromptsModal:b,setUnifiedModalDefaultTab:j,setSelectedBlueprintId:k,setOpenInExampleMode:x,setShowToast:M,setToastMessage:T,setShowCanvas:S,closeUnifiedModal:w,showToastMessage:L}=s,{chatTabs:X,activeChatTab:F,tabMessages:O,tabFiles:_,tabStagedFiles:oe,conversationInputs:Se}=n,{setChatTabs:G,setActiveChatTab:B,setTabMessages:W,setTabFiles:le,setTabStagedFiles:de,setConversationInputs:we,updateConversationInput:Re,getTabLastMessageTimestamp:Ye,getFirstRealConversation:Ae,findStagedConversation:me,isConversationStaged:Ke,getVisibleAITabs:Y}=r,{jobs:U,notifications:ge,selectedJob:Ce}=a,{setSelectedJob:ke,addJob:Q,updateJob:Me,addNotification:P}=i,[K,he]=u.useState("explain"),[ve,be]=u.useState(!1),[ye,fe]=u.useState(""),[We,V]=u.useState("section"),[De,_e]=u.useState(!1),[je,qe]=u.useState({}),[Ze,hs]=u.useState(!1),[dt,_t]=u.useState("answer"),[gt,Jt]=u.useState(!1),[ns,fs]=u.useState(!1),[$t,zs]=u.useState(!1),[Pt,Ls]=u.useState("answer"),[H,Pe]=u.useState(!1),[Oe,He]=u.useState([]),[Ue,St]=u.useState({}),[Et,E]=u.useState([]),A="main-conversation",[$,te]=u.useState([]),se=rw(),ae=aw({setActiveTab:se.setActiveTab}),{draftingTask:Z,setDraftingTask:re,draftingStarted:pe,setDraftingStarted:Ie,customInputs:Le,setCustomInputs:Te,customModeAssumption:Be,setCustomModeAssumption:tt,setEditingCustomAssumption:mt,setOriginalResponseBeforeEdit:ht,showNotifications:D,setShowNotifications:ee,showJobsList:Ne,setShowJobsList:Je,messagesEndRef:it,addMessage:lt}=iw(),{handleAssumptionResponse:Ge,handleCustomInput:Ot,toggleCustomMode:Ss,cancelCustomInstruction:an,confirmCustomInstruction:ln,editCustomInstruction:nt,presentAssumptions:Ct}=lw(Z,re,Le,Te,Be,tt,mt,ht),{handleFileUpload:Cs,startDrafting:ks,completeDraft:pt}=ow(Z,re,Ie,Q,Me,P,Ct),Ks=()=>{const R=jr();if(!R.trim()||!wr())return;const z=R;qn("");let J=[];const ce=$s();if(se.activeTab==="explore")J=aa(),J.length>0&&(ce?Rt(ce,J):le(Fe=>({...Fe,[F]:[...Fe[F]||[],...J]})),de(Fe=>({...Fe,[F]:[]})));else if(o){const Fe=oe[F]||[];J=Fe,Fe.length>0&&ce&&(Rt(ce,Fe),de(st=>({...st,[F]:[]})))}let Ve=z;if(J.length>0){const Fe=J.map(st=>st.name).join(", ");Ve=`${z}

📎 **Attached files:** ${Fe}`}J.length>0&&le(Fe=>({...Fe,[F]:[]})),wn(F,{type:"user",content:Ve,timestamp:new Date}),setTimeout(()=>{let Fe="I'm ready to assist with the Garcia MVA case. I can help analyze evidence, draft documents, review medical records, calculate damages, or answer legal questions. What would you like me to focus on?";J.length>0&&(Fe=`I can see you've uploaded ${J.length} file${J.length>1?"s":""}: ${J.map(st=>st.name).join(", ")}.

I've analyzed these documents and can help you with:

• **Key Evidence Review** - Extract critical facts and timeline
• **Document Summarization** - Highlight important findings
• **Legal Analysis** - Identify strengths and weaknesses
• **Damage Calculations** - Review medical bills and lost wages
• **Case Strategy** - Recommend next steps

What specific aspect would you like me to focus on first?`),wn(F,{type:"assistant",content:Fe,timestamp:new Date})},1e3)},jn=()=>O[F]||[],wn=(R,z)=>{const J=!(O[R]&&O[R].length>0);if(W(ce=>({...ce,[R]:[...ce[R]||[],z]})),J&&z.type==="user"){const ce=Date.now();console.log(`First message added to tab ${R}, promoting to high priority: ${ce}`),G(Ve=>Ve.map(Fe=>Fe.id===R?{...Fe,aiPosition:ce}:Fe))}},Kl=()=>_[F]||[],C=R=>{const z=O[R]||[];return z.length===0?null:z[z.length-1]},q=R=>{const z=C(R);if(!z)return"";const ce=(z.content||"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/📎.*$/m,"").trim();return ce.length>50?ce.substring(0,50)+"...":ce},ie=R=>{const J=new Date().getTime()-R.getTime(),ce=Math.floor(J/(1e3*60)),Ve=Math.floor(J/(1e3*60*60)),Fe=Math.floor(J/(1e3*60*60*24));return ce<1?"Just now":ce<60?`${ce}m ago`:Ve<24?`${Ve}h ago`:Fe===1?"Yesterday":Fe<7?`${Fe}d ago`:R.toLocaleDateString()},xe=(R=!1)=>{let z=[...X];return R&&(z=X.filter(J=>(O[J.id]||[]).length===0?J.createdFrom==="explore":!0)),z.sort((J,ce)=>{const Ve=Ye(J.id),Fe=Ye(ce.id),st=!Ve,Ft=!Fe;if(R){if(st&&!Ft)return-1;if(!st&&Ft)return 1}else{if(st&&!Ft)return 1;if(!st&&Ft)return-1}return!Ve&&!Fe?J.id-ce.id:Fe.getTime()-Ve.getTime()})},ot=R=>{const z=Date.now();console.log(`Moving tab ${R} to leftmost position with priority ${z}`),G(J=>J.map(ce=>ce.id===R?{...ce,aiPosition:z}:ce))},$e=()=>{y(!0);const R=me("ai-assistant");if(R&&!R.hiddenInAI)B(R.id);else{const z=Y();if(z.length>0)B(z[0].id);else{const J=Math.max(...X.map(Fe=>Fe.id))+1,ce={id:J,name:"New Chat",isDocumentTab:!1,associatedJobId:null,createdFrom:"ai-assistant"};G(Fe=>[...Fe,ce]);const Ve=new Set(["msg1","msg2","disc1","disc2","ev1","ev2","fin1","fin2"]);qe(Fe=>({...Fe,[J]:Ve})),B(J)}}},Xe=R=>Ue[R]||[],Rt=(R,z)=>{const J=z.map(ce=>({...ce,conversationId:R}));St(ce=>({...ce,[R]:[...ce[R]||[],...J]}))},$s=()=>o||se.activeTab==="explore"?F===1?A:`conversation-${F}`:null,br=(R,z)=>{const J={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:z.name,size:z.size,type:z.type,file:z};de(Ve=>({...Ve,[R]:[...Ve[R]||[],J]}));const ce=`uploaded-${J.id}`;return console.log(`Auto-selecting uploaded file: ${ce} for tab ${R}`),console.log("File object created:",J),qe(Ve=>{const Fe=Ve[R]||new Set,st=new Set(Fe);return st.add(ce),console.log(`Updated sources for tab ${R}:`,[...st]),console.log("Full conversation sources after update:",Object.fromEntries(Object.entries({...Ve,[R]:st}).map(([Ft,ps])=>[Ft,[...ps]]))),{...Ve,[R]:st}}),J},aa=()=>oe[F]||[],mi=(R,z)=>{le(ce=>({...ce,[R]:(ce[R]||[]).filter(Ve=>Ve.id!==z)}));const J=`uploaded-${z}`;qe(ce=>{const Ve=ce[R]||new Set,Fe=new Set(Ve);return Fe.delete(J),{...ce,[R]:Fe}})},Gl=R=>{Array.from(R).forEach(z=>{const J={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:z.name,size:z.size,type:z.type,file:z};He(ce=>[...ce,J])})},ql=R=>{R.target.files&&R.target.files.length>0&&Gl(R.target.files)},Ql=R=>{He(z=>z.filter(J=>J.id!==R))},hi=R=>{Array.from(R).forEach(z=>{if(console.log(`handleAiAssistantFileUpload: Processing file ${z.name} for tab ${F}`),z.size>10*1024*1024){alert(`File "${z.name}" is too large. Maximum size is 10MB.`);return}br(F,z)})},ia=R=>{R.target.files&&R.target.files.length>0&&hi(R.target.files)},Ds=R=>{Array.from(R).forEach(z=>{if(z.size>10*1024*1024){alert(`File "${z.name}" is too large. Maximum size is 10MB.`);return}br(F,z)})},Zl=R=>{R.preventDefault(),R.dataTransfer.files&&Ds(R.dataTransfer.files)},rs=R=>{R.preventDefault(),R.dataTransfer.files&&hi(R.dataTransfer.files)},Gn=R=>{R.target.files&&Ds(R.target.files)};u.useEffect(()=>{qe({1:new Set(["msg1","msg2","ev1","ev2"]),2:new Set(["fin1","fin2","disc1","disc2","ev1"]),3:new Set(["msg1","disc1","disc2","ev1","ev2","fin1"]),4:new Set(["msg1","msg2","disc1","disc2","ev1","ev2","fin1","fin2"])})},[]),u.useEffect(()=>{const R=z=>{const J=z.target;J.closest("[data-output-format-dropdown]")||J.closest("[data-output-format-button]")||Jt(!1)};return gt&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[gt]),u.useEffect(()=>{const R=z=>{const J=z.target;!J.closest(".ai-tab-menu-container")&&!J.closest(".ai-tab-dropdown")&&fs(!1)};return ns&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[ns]);const Fs=()=>{const R=je[F]||new Set;return console.log(`Getting sources for tab ${F}:`,[...R]),R},Xl=R=>{qe(z=>({...z,[F]:R}))},jr=()=>Se[F]||"",qn=R=>{we(z=>({...z,[F]:R}))},fi=()=>Fs().size,wr=()=>fi()>0,Dx=(R,z,J)=>{wn(F,{type:"user",content:R,timestamp:new Date}),z&&J&&setTimeout(()=>{wn(F,{type:"assistant",content:J,timestamp:new Date})},1e3)},iu=()=>{if((se.activeTab==="explore"?"explore":"ai-assistant")==="ai-assistant"){const z=me("ai-assistant");if(z&&!z.hiddenInAI){B(z.id);return}else{const J=Y();if(J.length>0){const st=J.find(Ft=>Ft.createdFrom==="ai-assistant"&&Ke(Ft.id));if(st){B(st.id);return}}const ce=Math.max(...X.map(st=>st.id))+1,Ve={id:ce,name:"New Chat",isDocumentTab:!1,associatedJobId:null,createdFrom:"ai-assistant"};G(st=>[...st,Ve]);const Fe=new Set(["msg1","msg2","disc1","disc2","ev1","ev2","fin1","fin2"]);qe(st=>({...st,[ce]:Fe})),B(ce)}}else{const z=me("explore");if(z){B(z.id);return}const J=Math.max(...X.map(Fe=>Fe.id))+1,ce={id:J,name:"New Chat",isDocumentTab:!1,associatedJobId:null,createdFrom:"explore"};G([...X,ce]);const Ve=new Set(["msg1","msg2","disc1","disc2","ev1","ev2","fin1","fin2"]);qe(Fe=>({...Fe,[J]:Ve})),B(J)}},Ex=(R,z)=>{const J=X.find(ce=>ce.associatedJobId===z);if(J)B(J.id);else{const ce=Math.max(...X.map(Fe=>Fe.id))+1,Ve={id:ce,name:R,isDocumentTab:!0,associatedJobId:z};G([...X,Ve]),B(ce)}},eo=R=>!R.isDocumentTab||!R.associatedJobId?!0:N&&(Ce==null?void 0:Ce.id)===R.associatedJobId,lu=R=>{if((se.activeTab==="explore"?"explore":"ai-assistant")==="ai-assistant"){if(G(J=>J.map(ce=>ce.id===R?{...ce,hiddenInAI:!0}:ce)),F===R){const J=Y().filter(ce=>ce.id!==R);J.length>0&&B(J[0].id)}}else{if(X.filter(ce=>!ce.hiddenInAI).length===1)return;const J=X.filter(ce=>ce.id!==R);G(J),F===R&&B(J[0].id)}},ou=()=>{if(Z){const R=X.find(z=>z.name==="Drafting");R&&(B(R.id),setTimeout(()=>{var z;(z=it.current)==null||z.scrollIntoView({behavior:"smooth"})},100))}},Mx=()=>{j("draft"),h(!0)},Ix=()=>{b(!0)},cu=R=>{if(h(!1),R==="complaint"){T("Drafting has started"),M(!0),setTimeout(()=>M(!1),3e3);const z=`job-${Date.now()}`,J=Date.now(),ce={id:z,title:"Complaint Drafting",description:"Drafting a legal complaint document",type:"document-generation",status:"In Progress",taskId:J,startTime:Date.now(),elapsedTime:0,createdAt:new Date,creationMethod:"blueprint",blueprintName:"Complaint Template"};Q(ce),setTimeout(()=>{Me(z,{status:"Complete",elapsedTime:3e4,completedAt:new Date}),P({type:"success",title:"Draft Complete",message:"Your complaint has been drafted successfully. Click to review.",actions:[{label:"Review Draft",action:"review",icon:()=>e.jsx(hn,{className:"h-4 w-4"}),primary:!0}],jobId:z})},3e4)}else if(R.startsWith("saved-")){const z=$.find(J=>J.id===R);if(z){const J=z.documentType?` ${z.documentType}`:"";T(`Drafting${J} has started using saved blueprint "${z.title}"`),M(!0),setTimeout(()=>M(!1),3e3);const ce=`job-${Date.now()}`,Ve=Date.now(),Fe=z.documentType?`${z.documentType.charAt(0).toUpperCase()+z.documentType.slice(1)} Drafting`:`${z.title} Drafting`,st={id:ce,title:Fe,description:`Drafting ${z.documentType||"document"} using saved blueprint "${z.title}"`,type:"document-generation",status:"In Progress",taskId:Ve,startTime:Date.now(),elapsedTime:0,createdAt:new Date,creationMethod:"blueprint",blueprintName:z.title,referenceFile:z.referenceFile,documentType:z.documentType,additionalInstructions:z.additionalInstructions};Q(st),setTimeout(()=>{Me(ce,{status:"Complete",elapsedTime:3e4,completedAt:new Date}),P({type:"success",title:"Draft Complete",message:`Your ${z.documentType||"document"} draft is ready for review`,actions:[{label:"Review Draft",action:"review",icon:()=>e.jsx(hn,{className:"h-4 w-4"}),primary:!0}],jobId:ce})},3e4)}}else console.log(`${R} selected - coming soon!`)},du=(R,z,J)=>{h(!1);const ce=z?` ${z}`:"";T(`Drafting${ce} has started using ${R.name}`),M(!0),setTimeout(()=>M(!1),3e3);const Ve=`job-${Date.now()}`,Fe=Date.now(),st=z?`${z.charAt(0).toUpperCase()+z.slice(1)} Drafting`:"Reference Document Drafting",Ft={id:Ve,title:st,description:`Drafting ${z||"document"} based on ${R.name}`,type:"document-generation",status:"In Progress",taskId:Fe,startTime:Date.now(),elapsedTime:0,createdAt:new Date,creationMethod:"reference",referenceFile:R.name,documentType:z,additionalInstructions:J};Q(Ft),setTimeout(()=>{Me(Ve,{status:"Complete",elapsedTime:3e4,completedAt:new Date}),P({type:"success",title:"Draft Complete",message:`Your document based on ${R.name} has been drafted successfully. Click to review.`,actions:[{label:"Review Draft",action:"review",icon:()=>e.jsx(hn,{className:"h-4 w-4"}),primary:!0}],jobId:Ve})},3e4)},to=(R,z,J,ce,Ve,Fe=!1)=>{const Ft=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),ps={id:`saved-${Date.now()}`,title:R,description:z,referenceFile:J,documentType:ce,additionalInstructions:Ve,createdBy:"You",dateCreated:Ft};if(te(Qn=>[ps,...Qn]),Fe){const Qn=JSON.parse(sessionStorage.getItem("starredBlueprints")||"[]");Qn.push(ps.id),sessionStorage.setItem("starredBlueprints",JSON.stringify(Qn))}const no=U.find(Qn=>{if(Qn.type==="document-generation"){const ro=Qn;return ro.creationMethod==="reference"&&(ro.referenceFile===J||ro.documentType===ce)}return!1});no&&Me(no.id,{...no,savedAsBlueprint:!0}),T(`Blueprint "${R}" has been saved`),M(!0),setTimeout(()=>{M(!1)},3e3)},uu=(R,z)=>{if(R==="review"){const J=ge.find(ce=>ce.id===z);if(J&&J.title==="Draft Complete"){const ce=U.find(Ve=>Ve.id===J.jobId);if(ce)setTimeout(()=>{ke(ce),S(!0),ee(!1);const Ve=X.find(Fe=>Fe.associatedJobId===ce.id);Ve&&(B(Ve.id),$e())},0);else{const Ve=U.filter(Fe=>Fe.status==="Complete").sort((Fe,st)=>{var Ft,ps;return(((Ft=st.completedAt)==null?void 0:Ft.getTime())||0)-(((ps=Fe.completedAt)==null?void 0:ps.getTime())||0)})[0];Ve&&setTimeout(()=>{ke(Ve),S(!0),ee(!1);const Fe=X.find(st=>st.associatedJobId===Ve.id);Fe&&(B(Fe.id),$e())},0)}}}console.log("Notification action:",R,"for notification:",z)},so=R=>{setTimeout(()=>{ke(R),S(!0),Je(!1);const z=X.find(J=>J.associatedJobId===R.id);z&&(B(z.id),y(!0))},0)},Rx=()=>{S(!1),ke(null)},Tx=R=>{ae.handleTabClick("explore"),setTimeout(()=>{lt({id:Date.now(),type:"user",content:R,timestamp:new Date})},100)},Ax=[{id:"overview",icon:e.jsx(yr,{size:18}),label:"Overview"},{id:"explore",icon:e.jsx(lr,{size:18}),label:"Explore"},{id:"timeline",icon:e.jsx(gr,{size:18}),label:"Timeline"},{id:"drafting",icon:e.jsx(ms,{size:18}),label:"Drafting"},{id:"files",icon:e.jsx(vr,{size:18}),label:"Files"}];return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          [title] {
            position: relative;
          }
          [title]:hover:after {
            animation-delay: 0.3s !important;
          }
        `}}),e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Michael Garcia - MVA"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50 flex items-center",children:["Export",e.jsx(Ut,{className:"ml-1 h-4 w-4"})]}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Print"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>I(!l),className:"p-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:e.jsx(Jp,{className:"h-4 w-4"})}),l&&e.jsx("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-md shadow-lg py-1 z-10 w-48",children:e.jsx("button",{onClick:()=>I(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Open Case History"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative notification-panel-container",children:[e.jsxs("button",{onClick:()=>{ee(!D),Je(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:[e.jsx(Hl,{size:18}),ge.filter(R=>!R.read).length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-medium",children:ge.filter(R=>!R.read).length})})]}),D&&e.jsx(wx,{notifications:ge,onNotificationAction:uu})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{Je(!Ne),ee(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:[e.jsx(na,{size:18}),U.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-medium",children:U.length})})]}),Ne&&e.jsx(Nx,{jobs:U,onJobClick:so,onSaveReferenceAsBlueprint:to})]})]}),e.jsxs("button",{onClick:()=>o?y(!1):$e(),disabled:se.activeTab==="explore",className:`px-4 py-2 rounded text-sm font-medium flex items-center transition-colors ${se.activeTab==="explore"?"bg-gray-400 text-white cursor-not-allowed":"bg-teal-700 text-white hover:bg-teal-800"}`,children:[e.jsx(Xs,{className:"mr-2 h-4 w-4"}),"AI Assistant"]})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:Ax.map(R=>e.jsxs("div",{className:`flex items-center px-4 py-2 ${N?R.id==="drafting"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100":se.activeTab===R.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,onClick:()=>{if(R.id!=="timeline"&&R.id!=="files"&&(S(!1),ke(null),ae.handleTabClick(R.id),R.id==="explore")){y(!1);const z=me("explore"),J=Ae();z?B(z.id):J&&B(J.id)}},children:[e.jsx("div",{className:"mr-3",children:R.icon}),e.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id))})}),e.jsx("main",{className:"flex-1 overflow-auto transition-all duration-300",style:{marginRight:o?"30rem":"0"},children:N&&Ce?Ce.type==="document-generation"?e.jsx(jx,{job:U.find(R=>R.id===Ce.id)||Ce,onBack:Rx,onOpenAIAssistant:$e,onCreateDocumentTab:Ex,onDocumentSelectionChange:(R,z)=>{be(R),fe(z||"")},onSendChatMessage:Dx,onSaveReferenceAsBlueprint:to}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("p",{className:"text-gray-500",children:["Canvas for ",Ce.type," jobs coming soon"]})}):se.activeTab==="overview"?e.jsx(vx,{aiPanelOpen:o,onOpenAIPanel:()=>{$e(),Z&&!o&&setTimeout(()=>{reopenDraftingTab()},100)},onDraftDocumentRequest:Mx,onNavigateToExplore:Tx,onOpenLibraryModal:()=>h(!0),handleChatFileInputChange:ql,getActiveTabFiles:()=>Oe,removeFileFromTab:(R,z)=>Ql(z),deepResearchMode:$t,setDeepResearchMode:zs,selectedSources:Fs(),setShowSourcePicker:R=>_e(R),getSelectedSourcesCount:()=>Fs().size,hasSelectedSources:()=>Fs().size>0,outputFormat:Pt,setOutputFormat:Ls}):se.activeTab==="explore"?e.jsx(bx,{aiChatInput:jr(),setAiChatInput:qn,chatTabs:xe(!0),activeChatTab:F,onOpenLibraryModal:()=>h(!0),setActiveChatTab:B,messages:jn(),draftingTask:Z,customInputs:Le,customModeAssumption:Be,draftingStarted:pe,jobs:U,notifications:ge,showNotifications:D,setShowNotifications:ee,showJobsList:Ne,setShowJobsList:Je,messagesEndRef:it,handleAIChatSubmit:Ks,handleAddChatTab:iu,handleCloseChatTab:lu,onFileUpload:Cs,onStartDrafting:()=>ks(Ct),onAssumptionResponse:Ge,onCustomInput:Ot,onToggleCustomMode:Ss,onCancelCustomInstruction:an,onConfirmCustomInstruction:ln,onEditCustomInstruction:nt,onReviewDraft:pt,onTaskCardClick:ou,onDocumentTypeSelection:R=>console.log("Document type:",R),onNotificationAction:uu,onJobClick:so,tabFiles:oe,getActiveTabFiles:aa,handleChatFileUpload:Ds,handleChatFileDrop:Zl,handleChatFileInputChange:Gn,removeFileFromTab:(R,z)=>{de(J=>({...J,[R]:(J[R]||[]).filter(ce=>ce.id!==z)})),le(J=>({...J,[R]:(J[R]||[]).filter(ce=>ce.id!==z)})),qe(J=>{const ce=J[F]||new Set,Ve=new Set(ce);return Ve.delete(`uploaded-${z}`),{...J,[F]:Ve}})},selectedSources:Fs(),setShowSourcePicker:_e,getSelectedSourcesCount:fi,hasSelectedSources:wr,deepResearchMode:Ze,setDeepResearchMode:hs,outputFormat:dt,setOutputFormat:_t,getTabLastMessageSnippet:q,getTabLastMessageTimestamp:Ye,formatRelativeTime:ie}):e.jsx(yx,{searchQuery:se.searchQuery,setSearchQuery:se.setSearchQuery,documentSearchQuery:se.documentSearchQuery,setDocumentSearchQuery:se.setDocumentSearchQuery,onBlueprintClick:()=>{k(void 0),j("draft"),h(!0)},onBlueprintItemClick:R=>{k(R),j("draft"),x(!1),h(!0)},onResponsesClick:ae.handleResponsesClick,onDraftFromExampleClick:()=>{j("draft"),x(!0),h(!0)},jobs:U,onJobClick:so,onSaveReferenceAsBlueprint:to})}),o&&e.jsx("div",{className:"absolute right-0 top-0 h-full bg-white border-l border-gray-200 shadow-lg transition-transform duration-300 ease-in-out z-0",style:{width:"30rem"},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Assistant"})})}),e.jsx("div",{className:"border-b border-gray-200 relative",children:e.jsxs("div",{className:"flex items-stretch overflow-x-auto",children:[(()=>{const R=Y(),z=2;return ns&&R.length>z&&e.jsxs("div",{className:"absolute right-0 bg-white border border-gray-200 rounded-lg shadow-xl py-1 min-w-48 ai-tab-dropdown",style:{zIndex:9999,top:"100%",marginTop:"1px"},children:[e.jsxs("div",{className:"text-xs text-gray-500 px-4 py-1 border-b border-gray-100",children:["All Tabs (",R.length,")"]}),R.map((J,ce)=>e.jsx("button",{onClick:()=>{console.log("Tab clicked:",J.name,"ID:",J.id,"Index:",ce,"MaxVisible:",z),ce>=z&&(console.log("Moving tab to leftmost position"),ot(J.id)),console.log("Setting active chat tab to:",J.id),B(J.id),console.log("Closing hamburger menu"),fs(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ${F===J.id?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:e.jsx("span",{className:"truncate",children:J.name})},J.id))]})})(),e.jsx("button",{onClick:iu,className:"flex items-center justify-center px-3 py-3 border-r border-gray-200 text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:e.jsx(Gt,{className:"h-4 w-4"})}),(()=>{const R=Y(),z=2,J=R.slice(0,z),ce=R.length-z;return e.jsxs(e.Fragment,{children:[J.map(Ve=>{const Fe=eo(Ve),st=Ve.isDocumentTab&&!Fe;return e.jsxs("div",{className:`flex items-center px-4 py-3 border-r border-gray-200 text-sm whitespace-nowrap cursor-pointer min-w-0 ${F===Ve.id?"bg-white text-gray-900 border-b-2 border-b-blue-500":st?"text-gray-400 hover:text-gray-600 hover:bg-gray-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>B(Ve.id),title:st?"Read-only: Open the associated document to edit":void 0,children:[e.jsxs("span",{className:`truncate ${st?"italic":""}`,children:[Ve.name,st&&e.jsx("span",{className:"ml-1 text-xs opacity-60",children:"(read-only)"})]}),Ve.name==="Drafting"&&Z&&e.jsx("span",{className:`ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${Z.status==="Generating"&&Z.phase==="drafting"?"bg-blue-100 text-blue-800":Z.status==="Needs input"?"bg-yellow-100 text-yellow-800":Z.status==="Draft complete"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Z.status==="Generating"&&Z.phase==="drafting"?"generating":Z.status==="Needs input"?"input needed":Z.status==="Draft complete"?"complete":Z.status}),X.filter(ps=>!ps.hiddenInAI&&(ps.createdFrom!=="explore"||!Ke(ps.id))).length>1&&e.jsx("button",{onClick:ps=>{ps.stopPropagation(),lu(Ve.id)},className:"ml-3 text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(ut,{className:"h-4 w-4"})})]},Ve.id)}),ce>0&&e.jsxs("div",{className:"flex items-center px-3 py-3 border-r border-gray-200 text-gray-500 text-sm",children:["+",ce]})]})})(),e.jsx("div",{className:"flex-1"}),Y().length>2?e.jsx("div",{className:"relative ai-tab-menu-container",children:e.jsx("button",{onClick:J=>{J.preventDefault(),J.stopPropagation(),console.log("Hamburger clicked, current state:",ns),fs(!ns)},className:"flex items-center justify-center px-3 py-3 h-full text-gray-600 hover:text-gray-900 hover:bg-gray-50 border-l border-gray-200",children:e.jsx(Db,{className:"h-4 w-4"})})}):null]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:jn().length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(mu=X.find(R=>R.id===F))!=null&&mu.isDocumentTab?e.jsx(ms,{className:"w-8 h-8 text-gray-400"}):e.jsx(lr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"text-gray-500",children:(hu=X.find(R=>R.id===F))!=null&&hu.isDocumentTab?e.jsx("p",{className:"mb-1",children:"Highlight a section of the document to edit, cite, or explain information."}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mb-1",children:"Ask a question or describe a task."}),e.jsx("p",{children:"You can upload or drag and drop any additional documents you want to work with."})]})})]})}):e.jsxs(e.Fragment,{children:[jn().map((R,z)=>e.jsx(au,{message:R,isInDraftingTab:F>1,draftingTask:Z,customInputs:Le,customModeAssumption:Be,draftingStarted:pe,onFileUpload:Cs,onStartDrafting:()=>ks(Ct),onAssumptionResponse:Ge,onCustomInput:Ot,onToggleCustomMode:Ss,onCancelCustomInstruction:an,onConfirmCustomInstruction:ln,onEditCustomInstruction:nt,onReviewDraft:pt,onTaskCardClick:ou,onDocumentTypeSelection:J=>console.log("Document type:",J)},z)),e.jsx("div",{ref:it})]})}),(()=>{const R=X.find(ce=>ce.id===F),z=R==null?void 0:R.isDocumentTab,J=R?eo(R):!0;return z&&J?e.jsx("div",{className:"px-4 py-2 bg-blue-50 border-t border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${We==="document"||ve&&We==="section"?"bg-blue-500":"bg-gray-400"}`}),e.jsxs("span",{className:`font-medium ${We==="document"||ve&&We==="section"?"text-blue-700":"text-gray-500"}`,children:["Selection: ",We==="document"?"Entire Document":ve?ye.length>50?ye.substring(0,50)+"...":ye:"No Selection"]})]}),e.jsx("button",{onClick:()=>V(We==="section"?"document":"section"),className:"flex items-center text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-100",children:We==="section"?"Switch to Document":"Switch to Selection"})]})}):null})(),(()=>{const R=oe[F]||[];return R.length>0&&e.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(si,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploaded Files (",R.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(z=>e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx(Qe,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:z.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(z.size/1024/1024).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>mi(F,z.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(ut,{className:"h-4 w-4"})})]},z.id))})]})})(),e.jsx("div",{className:"p-6 bg-white border-t border-gray-200",onDrop:rs,onDragOver:R=>R.preventDefault(),onDragEnter:R=>R.preventDefault(),children:(()=>{const R=X.find(J=>J.id===F),z=R?eo(R):!0;return e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",multiple:!0,onChange:ia,className:"hidden",id:"chat-file-upload",accept:".pdf,.doc,.docx,.txt,.csv,.xlsx,.jpg,.jpeg,.png"}),e.jsxs("div",{className:`border border-gray-300 rounded-lg ${z?"bg-white":"bg-gray-50"}`,children:[e.jsx("textarea",{value:jr(),onChange:J=>qn(J.target.value),placeholder:z?(R!=null&&R.isDocumentTab,"Send a message"):"Tab is read-only. Open the associated document to continue editing.",disabled:!z,className:`w-full p-3 border-0 rounded-lg resize-none focus:outline-none text-sm ${z?"text-gray-700 placeholder-gray-400":"text-gray-400 placeholder-gray-500 cursor-not-allowed"}`,rows:2.5,onKeyDown:J=>{J.key==="Enter"&&!J.shiftKey&&z&&(J.preventDefault(),Ks())}}),e.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("button",{onClick:()=>h(!0),disabled:!z,className:`flex items-center text-sm border border-gray-300 rounded-md px-3 py-1.5 transition-colors ${z?"text-gray-600 hover:text-gray-900":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(Xs,{className:"h-4 w-4 mr-1"}),"Library"]}),e.jsx("label",{htmlFor:"chat-file-upload",className:`flex items-center justify-center h-8 w-8 rounded-md transition-colors cursor-pointer ${z?"text-gray-600 hover:text-gray-900 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,title:"Upload files",children:e.jsx(Os,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:()=>hs(!Ze),disabled:!z,className:`flex items-center h-8 rounded-md transition-all duration-300 ease-in-out ${z?Ze?"text-blue-600 bg-blue-50 hover:bg-blue-100 pl-2 pr-3":"text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-2":"text-gray-400 cursor-not-allowed px-2"}`,title:"Research Mode",children:[e.jsx(Hn,{className:"h-4 w-4 flex-shrink-0"}),Ze&&z&&e.jsx("span",{className:"ml-2 text-sm font-medium whitespace-nowrap animate-in fade-in slide-in-from-left-2 duration-300",children:"Research"})]}),!(R!=null&&R.isDocumentTab&&N&&(Ce==null?void 0:Ce.id)===(R==null?void 0:R.associatedJobId))&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{"data-output-format-button":!0,onClick:()=>Jt(!gt),disabled:!z,className:`flex items-center justify-center h-8 w-8 rounded-md transition-colors ${z?"text-gray-600 hover:text-gray-900 hover:bg-gray-100":"text-gray-400 cursor-not-allowed"}`,title:"Output Format",children:dt==="analysis"?e.jsx(Xr,{className:"h-4 w-4"}):dt==="document"?e.jsx(is,{className:"h-4 w-4"}):e.jsx(ir,{className:"h-4 w-4"})}),gt&&e.jsxs("div",{"data-output-format-dropdown":!0,className:"absolute bottom-0 left-full ml-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:[e.jsxs("button",{onClick:()=>{_t("answer"),Jt(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${dt==="answer"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:"Answer"})]}),e.jsxs("button",{onClick:()=>{_t("analysis"),Jt(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ${dt==="analysis"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(Xr,{className:"h-4 w-4"}),e.jsx("span",{children:"Analysis"})]}),e.jsxs("button",{onClick:()=>{_t("document"),Jt(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 rounded-b-lg ${dt==="document"?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Document"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(R==null?void 0:R.isDocumentTab)&&z&&!N&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:Ix,className:"flex items-center px-2 py-1 text-xs font-medium text-purple-600 bg-purple-50 hover:bg-purple-100 rounded-full transition-colors",children:[e.jsx(Xs,{className:"h-3 w-3 mr-1"}),"Library"]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1",children:[e.jsx("button",{onClick:()=>he("draft"),className:`px-2 py-1 text-xs font-medium rounded-full transition-colors ${K==="draft"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Draft"}),e.jsx("button",{onClick:()=>he("explain"),className:`px-2 py-1 text-xs font-medium rounded-full transition-colors ${K==="explain"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Explain"})]})]}),e.jsx("button",{onClick:()=>_e(!0),className:`text-xs transition-colors cursor-pointer ${wr()?"text-gray-500 hover:text-gray-700":"text-amber-600 hover:text-amber-700 font-medium"}`,children:wr()?`${fi()} source${fi()===1?"":"s"}`:"Select at least 1 source"}),e.jsx("button",{onClick:Ks,disabled:!jr().trim()||!z||!wr(),className:`p-2 rounded-md transition-colors ${jr().trim()&&z&&wr()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:e.jsx(yn,{className:"h-4 w-4"})})]})]})]})]})})()})]})})]}),e.jsx(Sx,{show:De,onClose:()=>_e(!1),selectedSources:(()=>{const R=Fs();return console.log(`SourceSelectorModal receiving selectedSources for tab ${F}:`,[...R]),R})(),onSourcesChange:Xl,uploadedFiles:(()=>{const R=$s();if(se.activeTab==="overview"&&!o)return Oe;if(R){const z=Xe(R);return console.log(`SourceSelectorModal receiving uploadedFiles for conversation ${R}:`,z.map(J=>({id:J.id,name:J.name,sourceId:`uploaded-${J.id}`}))),z}else if(se.activeTab==="explore")return Kl();return[]})()}),e.jsx(Jc,{show:c,onClose:()=>{h(!1),j("library"),k(void 0),x(!1)},defaultTab:m,selectedBlueprintId:f,defaultDocumentView:p?"example":"blueprint",onSelectBlueprint:cu,onSelectReferenceDocument:du,savedBlueprints:$}),e.jsx(Jc,{show:d,onClose:()=>b(!1),onSelectBlueprint:cu,onSelectReferenceDocument:du,savedBlueprints:$,promptsOnly:!0}),g&&e.jsx("div",{className:"fixed top-20 right-4 z-50",children:e.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium",children:v})]})})]})]})},Cx=Object.freeze(Object.defineProperty({__proto__:null,default:fw},Symbol.toStringTag,{value:"Module"})),pw=()=>{const[t,s]=u.useState([{id:1,date:"02/15/24",injury:"Acute right ankle pain",status:"Needs Review",icdCode:"M79.3",narrative:"Following the motor vehicle accident on September 21, 2022, Mr. Eli Strauss experienced immediate onset of sharp pain in the right ankle. Mr. Strauss reported being the driver of a 2019 Honda Civic that was struck from behind while stopped at a red light on Main Street. Initial assessment at the emergency room revealed swelling and tenderness over the lateral malleolus.",anatomicalLocation:"Lower extremities",treatment:"Rest, ice, compression, and elevation for the first few days, followed by gradual weight-bearing. Physical therapy was initiated after one week to improve range of motion and strength. Patient was provided with an ankle brace for additional support during the healing process.",treatmentStatus:"Expected to return to normal within 4-6 weeks with therapy. Patient has shown good compliance with treatment protocol and demonstrates steady improvement in mobility.",critical:"Yes",diagnosis:"Dr. Michael Rodriguez"},{id:2,date:"02/20/24",injury:"Chronic lower back pain",status:"Verified",icdCode:"M54.5",narrative:"Mr. Eli Strauss developed chronic lower back pain approximately one week following the September 21, 2022 motor vehicle accident. Patient reports constant dull aching with intermittent sharp shooting pains down the left leg. Pain is worse in the morning and after prolonged sitting. Mr. Strauss describes difficulty sleeping due to discomfort and notes the pain interferes with his work as an accountant.",anatomicalLocation:"Back",treatment:"Initial treatment focused on conservative management including anti-inflammatory medications, heat therapy, and gentle stretching exercises. Patient was referred to orthopedic specialist for further evaluation and MRI imaging to rule out disc involvement.",treatmentStatus:"Anticipated recovery with ongoing physical therapy and pain management. Patient may require additional interventions if conservative treatment fails to provide adequate relief.",critical:"No",diagnosis:"Dr. Michael Rodriguez"},{id:3,date:"02/25/24",injury:"Shoulder impingement syndrome",status:"Needs Review",icdCode:"M75.4",narrative:"Mr. Eli Strauss reported progressive right shoulder pain and stiffness beginning approximately two weeks post-accident. Patient describes the pain as a deep aching sensation with sharp catches during overhead movements. Night pain is significant, interfering with sleep quality. Mr. Strauss notes the shoulder pain has worsened since the initial ankle injury, likely due to compensatory movements while using crutches.",anatomicalLocation:"Upper extremities",treatment:"Recommended intervention includes rotator cuff strengthening exercises, postural correction training, and activity modification. Patient was instructed in proper ergonomics and provided home exercise program targeting scapular stabilization.",treatmentStatus:"Recovery is expected within 6-8 weeks with consistent adherence to exercise protocol. Patient shows good understanding of condition and demonstrates proper exercise technique.",critical:"Yes",diagnosis:"Dr. Michael Rodriguez"},{id:4,date:"03/01/24",injury:"Tennis elbow",status:"Verified",icdCode:"M77.0",narrative:"Mr. Eli Strauss developed lateral elbow pain three weeks following the September 21, 2022 accident, likely related to compensatory movement patterns due to shoulder injury and prolonged crutch use. Patient reports pain with gripping activities and tenderness over the lateral epicondyle. The condition has impacted his ability to perform daily tasks and work-related computer use.",anatomicalLocation:"Upper extremities",treatment:"Treatment will consist of activity modification, eccentric strengthening exercises, and ergonomic assessment of work station. Patient was fitted with counterforce brace to reduce stress on the lateral epicondyle during daily activities.",treatmentStatus:"Expected recovery within 4-6 weeks with proper adherence to treatment plan. Patient education provided regarding activity modification and proper lifting techniques.",critical:"No",diagnosis:"Dr. Jessica Chen"},{id:5,date:"03/10/24",injury:"Carpal tunnel syndrome",status:"Needs Review",icdCode:"G56.0",narrative:"Mr. Eli Strauss presented with numbness and tingling in the thumb, index, and middle fingers of the right hand, developing approximately one month after the motor vehicle accident. Symptoms are worse at night and upon waking. Patient reports dropping objects and difficulty with fine motor tasks such as buttoning clothes. Mr. Strauss believes this condition is related to altered hand positioning while using crutches and compensatory gripping patterns.",anatomicalLocation:"Upper extremities",treatment:"Conservative management includes night splinting, nerve gliding exercises, and ergonomic modifications at workplace. Patient was educated on proper wrist positioning and activity pacing to prevent symptom exacerbation.",treatmentStatus:"If symptoms persist or worsen despite conservative treatment, surgical consultation may be warranted. Patient will be monitored closely over the next 4-6 weeks for improvement.",critical:"Yes",diagnosis:"Dr. Emily Davis"}]),[n,r]=u.useState([{id:1,facility:"City General Hospital",date:"01/10/2025",description:"Emergency Room Visit",amount:1250,source:"Aff Bill - Dr. Smith (Orthop...",history:"Last updated by Alysa Liu on...",status:"Verified"},{id:2,facility:"City General Hospital",date:"01/11/2025",description:"Emergency Room Visit",amount:1250,source:"Aff Bill - Dr. Smith (Orthop...",history:"Last updated by Alysa Liu on...",status:"Needs Review"},{id:3,facility:"City General Hospital",date:"01/12/2025",description:"Emergency Room Visit",amount:1250,source:"Aff Bill - Dr. Smith (Orthop...",history:"Last updated by Alysa Liu on...",status:"Verified"},{id:4,facility:"City General Hospital",date:"01/13/2025",description:"Emergency Room Visit",amount:1250,source:"Aff Bill - Dr. Smith (Orthop...",history:"Last updated by Alysa Liu on...",status:"Needs Review"},{id:5,facility:"City General Hospital",date:"01/14/2025",description:"Emergency Room Visit",amount:1250,source:"Aff Bill - Dr. Smith (Orthop...",history:"Last updated by Alysa Liu on...",status:"Verified"},{id:6,facility:"Greenwood Medical Center",date:"",description:"",amount:800,source:"",history:"Last updated by Supio Al on...",status:"Needs Review"},{id:7,facility:"Lakeside Healthcare",date:"",description:"",amount:300,source:"",history:"Last updated by Supio Al on...",status:"Verified"},{id:8,facility:"Downtown Clinic",date:"",description:"",amount:150,source:"",history:"Last updated by Supio Al on...",status:"Needs Review"},{id:9,facility:"Eastside Health Center",date:"",description:"",amount:900,source:"",history:"Last updated by Supio Al on...",status:"Verified"},{id:10,facility:"Northview Medical",date:"",description:"",amount:450,source:"",history:"Last updated by Supio Al on...",status:"Needs Review"},{id:11,facility:"Westside Urgent Care",date:"",description:"",amount:200,source:"",history:"Last updated by Supio Al on...",status:"Verified"}]),[a,i]=u.useState([...t]),[l,o]=u.useState({recordId:null,field:null}),[c,d]=u.useState(""),[m,f]=u.useState("table"),[p,g]=u.useState("injuries"),[v,N]=u.useState(null),[I,y]=u.useState({}),[h,b]=u.useState({}),[j,k]=u.useState({checkbox:32,date:80,injury:160,status:96,icdCode:96,narrative:192,anatomicalLocation:128,treatmentStatus:192,critical:64,diagnosis:96,actions:120}),[x,M]=u.useState(null),[T,S]=u.useState(!1),[w,L]=u.useState("medicals"),[X,F]=u.useState(!1),[O,_]=u.useState(new Set),[oe,Se]=u.useState(!1),[G,B]=u.useState(null),[W,le]=u.useState(null),[de,we]=u.useState(new Set(["City General Hospital"])),[Re,Ye]=u.useState(null),[Ae,me]=u.useState({recordId:null,field:null}),[Ke,Y]=u.useState(""),[U,ge]=u.useState(null),[Ce,ke]=u.useState(null),[Q,Me]=u.useState("table"),[P,K]=u.useState(null),[he,ve]=u.useState(null),[be,ye]=u.useState(""),fe=u.useRef(null);u.useEffect(()=>{fe.current&&l.recordId&&(fe.current.focus(),"select"in fe.current&&typeof fe.current.select=="function"&&fe.current.select())},[l]);const We=()=>t.filter((C,q)=>JSON.stringify(C)!==JSON.stringify(a[q])),V=(C,q)=>{const ie=t.find(ot=>ot.id===C),xe=a.find(ot=>ot.id===C);return!ie||!xe?!1:ie[q]!==xe[q]},De=(C,q,ie)=>{o({recordId:C,field:q}),d(ie)},_e=()=>{l.recordId&&l.field&&s(C=>C.map(ie=>ie.id===l.recordId&&l.field?{...ie,[l.field]:c}:ie)),o({recordId:null,field:null}),d("")},je=()=>{o({recordId:null,field:null}),d("")},qe=()=>{i([...t])},Ze=()=>{s([...a]),o({recordId:null,field:null}),d("")},hs=C=>{C.status==="Needs Review"?(N(C),f("detail")):De(C.id,"status",C.status)},dt=()=>{f("table"),N(null)},_t=C=>{s(q=>q.map(ie=>ie.id===C.id?C:ie)),i(q=>q.map(ie=>ie.id===C.id?C:ie)),f("table"),N(null)},gt=C=>{N(C),f("detail")},Jt=C=>{s(q=>q.filter(ie=>ie.id!==C)),i(q=>q.filter(ie=>ie.id!==C)),le(null),l.recordId===C&&(o({recordId:null,field:null}),d(""))},ns=C=>{le(C)},fs=()=>{le(null)},$t=C=>{we(q=>{const ie=new Set(q);return ie.has(C)?ie.delete(C):ie.add(C),ie})},zs=(C,q,ie)=>{me({recordId:C,field:q}),Y(ie)},Pt=()=>{Ae.recordId&&Ae.field&&r(C=>C.map(ie=>ie.id===Ae.recordId&&Ae.field?{...ie,[Ae.field]:Ae.field==="amount"?parseFloat(Ke)||0:Ke}:ie)),me({recordId:null,field:null}),Y("")},Ls=()=>{me({recordId:null,field:null}),Y("")},H=C=>{r(q=>q.filter(ie=>ie.id!==C)),ge(null),Ae.recordId===C&&(me({recordId:null,field:null}),Y(""))},Pe=C=>{ge(C)},Oe=()=>{ge(null)},He=C=>{r(q=>q.filter(ie=>ie.facility!==C)),we(q=>{const ie=new Set(q);return ie.delete(C),ie})},Ue=(C,q)=>{r(ie=>ie.map(xe=>xe.facility===C?{...xe,facility:q}:xe))},St=C=>{ve(C),ye(C)},Et=()=>{he&&be&&he!==be&&(Ue(he,be),we(C=>{const q=new Set(C);return q.has(he)&&(q.delete(he),q.add(be)),q})),ve(null),ye("")},E=()=>{ve(null),ye("")},A=C=>{C.status==="Needs Review"&&(ke(C),Me("detail"))},$=C=>{ke(C),Me("detail")},te=()=>{Me("table"),ke(null)},se=C=>{r(q=>q.map(ie=>ie.id===C.id?C:ie)),Me("table"),ke(null)},ae=C=>{if(C){const q=new Set(t.map(ie=>ie.id));_(q)}else _(new Set)},Z=(C,q)=>{_(ie=>{const xe=new Set(ie);return q?xe.add(C):xe.delete(C),xe})},re=()=>{Se(!0)},pe=(C,q)=>{k(ie=>({...ie,[C]:Math.max(50,q)}))},Ie=(C,q)=>{q.preventDefault(),M({column:C,startX:q.pageX,startWidth:j[C]})},Le=C=>{if(x){const q=C.pageX-x.startX,ie=x.startWidth+q;pe(x.column,ie)}},Te=()=>{M(null)};u.useEffect(()=>{if(x)return document.addEventListener("mousemove",Le),document.addEventListener("mouseup",Te),()=>{document.removeEventListener("mousemove",Le),document.removeEventListener("mouseup",Te)}},[x]),u.useEffect(()=>{const C=q=>{if(Ae.recordId!==null){const ie=q.target;!ie.closest(".editing-popover")&&!ie.closest("input")&&Ls()}};if(Ae.recordId!==null)return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[Ae.recordId]);const Be=(C,q)=>{y(ie=>({...ie,[C]:q}))},tt=C=>{b(q=>({...q,[C]:!q[C]}))},mt=t.filter(C=>Object.entries(I).every(([q,ie])=>{var ot;return!ie||ie===""?!0:(((ot=C[q])==null?void 0:ot.toString().toLowerCase())||"").includes(ie.toLowerCase())})),ht=(C,q="text")=>{const ie=I[C]&&I[C]!=="",xe=h[C];return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>tt(C),className:`opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-gray-200 ${ie?"opacity-100 bg-blue-100 text-blue-600":"text-gray-400"}`,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M2 4h12M4 8h8M6 12h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})}),xe&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 p-2 min-w-48",children:[q==="text"&&e.jsx("input",{type:"text",placeholder:"Filter...",value:I[C]||"",onChange:ot=>Be(C,ot.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded",autoFocus:!0}),q==="status"&&e.jsxs("select",{value:I[C]||"",onChange:ot=>Be(C,ot.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Needs Review",children:"Needs Review"}),e.jsx("option",{value:"Verified",children:"Verified"})]}),q==="anatomicalLocation"&&e.jsxs("select",{value:I[C]||"",onChange:ot=>Be(C,ot.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Lower extremities",children:"Lower extremities"}),e.jsx("option",{value:"Upper extremities",children:"Upper extremities"}),e.jsx("option",{value:"Back",children:"Back"}),e.jsx("option",{value:"Head/Neck",children:"Head/Neck"}),e.jsx("option",{value:"Torso",children:"Torso"})]}),q==="critical"&&e.jsxs("select",{value:I[C]||"",onChange:ot=>Be(C,ot.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),q==="provider"&&e.jsxs("select",{value:I[C]||"",onChange:ot=>Be(C,ot.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Dr. Michael Rodriguez",children:"Dr. Michael Rodriguez"}),e.jsx("option",{value:"Dr. Jessica Chen",children:"Dr. Jessica Chen"}),e.jsx("option",{value:"Dr. Emily Davis",children:"Dr. Emily Davis"}),e.jsx("option",{value:"Dr. Sarah Johnson",children:"Dr. Sarah Johnson"}),e.jsx("option",{value:"Dr. James Wilson",children:"Dr. James Wilson"})]}),e.jsxs("div",{className:"mt-2 flex gap-1",children:[e.jsx("button",{onClick:()=>{Be(C,""),tt(C)},className:"px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:"Clear"}),e.jsx("button",{onClick:()=>tt(C),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 ml-auto",children:"Apply"})]})]})]})},D=We().length,ee=D>0,Ne=["Lower extremities","Upper extremities","Back","Head/Neck","Torso"],Je=["Dr. Michael Rodriguez","Dr. Jessica Chen","Dr. Emily Davis","Dr. Sarah Johnson","Dr. James Wilson"],it=(C,q,ie,xe="p-2 text-gray-900")=>{const ot=l.recordId===C.id&&l.field===q,$e=V(C.id,q);return ot?q==="narrative"||q==="treatment"||q==="treatmentStatus"?e.jsx("td",{className:`${xe} relative`,children:e.jsxs("div",{className:"absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg p-2 min-w-96 max-w-lg",children:[e.jsx("textarea",{ref:fe,value:c,onChange:Xe=>d(Xe.target.value),onBlur:_e,onKeyDown:Xe=>{Xe.key==="Enter"&&!Xe.shiftKey?(Xe.preventDefault(),_e()):Xe.key==="Escape"&&je()},className:"w-full text-xs resize-none border-none outline-none",rows:4,placeholder:`Edit ${q}...`}),e.jsx("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:e.jsx("span",{children:"Enter to save • Escape to cancel"})})]})}):q==="anatomicalLocation"?e.jsx("td",{className:`${xe} relative`,children:e.jsx("div",{className:"editing-popover absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("select",{ref:fe,value:c,onChange:Xe=>d(Xe.target.value),onBlur:_e,onKeyDown:Xe=>{Xe.key==="Enter"?_e():Xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none min-w-48",children:Ne.map(Xe=>e.jsx("option",{value:Xe,children:Xe},Xe))})})}):q==="date"?e.jsx("td",{className:`${xe} relative`,children:e.jsx("div",{className:"editing-popover absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("input",{ref:fe,type:"date",value:c.split("/").reverse().join("-"),onChange:Xe=>{const Rt=new Date(Xe.target.value),$s=`${String(Rt.getMonth()+1).padStart(2,"0")}/${String(Rt.getDate()).padStart(2,"0")}/${String(Rt.getFullYear()).slice(-2)}`;d($s)},onBlur:_e,onKeyDown:Xe=>{Xe.key==="Enter"?_e():Xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none"})})}):e.jsx("td",{className:`${xe} relative`,children:e.jsx("div",{className:"editing-popover absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("input",{ref:fe,type:"text",value:c,onChange:Xe=>d(Xe.target.value),onBlur:_e,onKeyDown:Xe=>{Xe.key==="Enter"?_e():Xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none min-w-48",placeholder:`Edit ${q}...`})})}):e.jsx("td",{className:`${xe} hover:bg-gray-50 cursor-pointer ${$e?"ring-2 ring-orange-400 ring-inset":""}`,onClick:()=>De(C.id,q,ie),children:e.jsx("span",{children:q==="narrative"||q==="treatment"||q==="treatmentStatus"?`${ie.substring(0,120)}${ie.length>120?"...":""}`:ie})})},lt=C=>{const q=l.recordId===C.id&&l.field==="status",ie=V(C.id,"status");return q?e.jsx("td",{className:"p-2 relative",children:e.jsx("div",{className:"absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsxs("select",{ref:fe,value:c,onChange:xe=>d(xe.target.value),onBlur:_e,onKeyDown:xe=>{xe.key==="Enter"?_e():xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none min-w-32",children:[e.jsx("option",{value:"Verified",children:"Verified"}),e.jsx("option",{value:"Needs Review",children:"Needs Review"})]})})}):e.jsx("td",{className:`p-2 ${ie?"ring-2 ring-orange-400 ring-inset":""}`,children:e.jsx("button",{onClick:()=>hs(C),className:`px-2 py-1 rounded text-xs font-medium transition-colors hover:opacity-80 ${C.status==="Needs Review"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:C.status})})},Ge=C=>{const q=l.recordId===C.id&&l.field==="critical",ie=V(C.id,"critical");return q?e.jsx("td",{className:"p-2 relative",children:e.jsx("div",{className:"absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsxs("select",{ref:fe,value:c,onChange:xe=>d(xe.target.value),onBlur:_e,onKeyDown:xe=>{xe.key==="Enter"?_e():xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none min-w-20",children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})})}):e.jsx("td",{className:`p-2 ${ie?"ring-2 ring-orange-400 ring-inset":""}`,children:e.jsx("button",{onClick:()=>De(C.id,"critical",C.critical),className:"px-2 py-1 rounded text-xs font-medium transition-colors hover:opacity-80 bg-gray-100 text-gray-800",children:C.critical})})},Ot=C=>{const q=l.recordId===C.id&&l.field==="diagnosis",ie=V(C.id,"diagnosis");return q?e.jsx("td",{className:"p-2 relative",children:e.jsx("div",{className:"absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("select",{ref:fe,value:c,onChange:xe=>d(xe.target.value),onBlur:_e,onKeyDown:xe=>{xe.key==="Enter"?_e():xe.key==="Escape"&&je()},className:"px-3 py-2 text-xs border-none outline-none min-w-40",children:Je.map(xe=>e.jsx("option",{value:xe,children:xe},xe))})})}):e.jsx("td",{className:`p-2 ${ie?"ring-2 ring-orange-400 ring-inset":""}`,children:e.jsx("button",{onClick:()=>De(C.id,"diagnosis",C.diagnosis),className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:C.diagnosis})})},Ss=({record:C,onBack:q,onSave:ie})=>{const[xe,ot]=u.useState(null),[$e,Xe]=u.useState(""),[Rt,$s]=u.useState(C),[br,aa]=u.useState(!1),[mi,Gl]=u.useState("Office Visit 2025-02-25 pg. 1"),ql=()=>{const rs={...Rt,status:"Verified"};ie(rs)},Ql=(rs,Gn,Fs)=>{ot(rs),Xe(Gn),Gl(Fs),aa(!0)},hi=()=>{xe&&$s(rs=>({...rs,[xe]:$e})),ia()},ia=()=>{ot(null),Xe(""),aa(!1)},Ds=(rs,Gn,Fs,Xl=!1)=>xe===rs?e.jsxs("div",{className:"space-y-2",children:[Xl?e.jsx("textarea",{value:$e,onChange:qn=>Xe(qn.target.value),className:"w-full px-2 py-1 text-sm border border-blue-500 rounded focus:ring-blue-500 focus:border-blue-500",rows:3,autoFocus:!0}):e.jsx("input",{type:"text",value:$e,onChange:qn=>Xe(qn.target.value),className:"w-full px-2 py-1 text-sm border border-blue-500 rounded focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:hi,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"}),e.jsx("button",{onClick:ia,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})]})]}):e.jsxs("div",{className:"cursor-pointer hover:bg-blue-50 p-1 rounded transition-colors",onClick:()=>Ql(rs,Gn,Fs),children:[e.jsx("div",{className:"text-blue-600 text-sm",children:Rt[rs]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Fs})]}),Zl=[{date:"12/15/2024",description:"Initial ER diagnosis"},{date:"01/10/2025",description:"MRI confirmation"},{date:"02/15/2025",description:"Anterior discectomy"},{date:"04/01/2025",description:"Post-surgery evaluation"}];return e.jsxs("div",{className:"h-full bg-white flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 p-4 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 4L4 12M4 4l8 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Injury"})]})}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The data presented in blue below was extracted by AI and needs additional review."})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden min-h-0",children:[e.jsxs("div",{className:`${br?"w-1/2":"w-full"} p-6 space-y-6 overflow-y-auto transition-all duration-300`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Name"}),Ds("injury",C.injury,"Office Visit 2025-02-25 pg. 1")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* ICD Code(s)"}),Ds("icdCode",C.icdCode,"Office Visit 2025-02-25 pg. 1")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Narrative"}),Ds("narrative",C.narrative,"Office Visit 2025-02-25 pg. 1",!0)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Date of Onset"}),Ds("date",C.date,"Office Visit 2025-02-25 pg. 1")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anatomical Location"}),Ds("anatomicalLocation",C.anatomicalLocation,"Office Visit 2025-02-25 pg. 1")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Critical Injury"}),Ds("critical",C.critical,"Office Visit 2025-02-25 pg. 1")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Treatments"}),Ds("treatment",C.treatment,"Office Visit 2025-02-25 pg. 1",!0)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Treatment Status"}),Ds("treatmentStatus",C.treatmentStatus,"Office Visit 2025-02-25 pg. 1",!0)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Related"}),e.jsx("div",{className:"text-sm text-gray-900",children:"Yes"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Office Visit 2025-02-25 pg. 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosing Provider"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:C.diagnosis})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Events"}),e.jsxs("div",{className:"space-y-2",children:[Zl.map((rs,Gn)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 min-w-20",children:rs.date}),e.jsx("span",{className:"text-sm text-gray-700",children:rs.description})]},Gn)),e.jsx("button",{className:"text-blue-600 text-sm hover:text-blue-800",children:"See 10 more"})]})]})]}),br&&e.jsxs("div",{className:"w-1/2 border-l border-gray-200 bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Source Document"}),e.jsx("button",{onClick:ia,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:mi})]}),e.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto",style:{height:"calc(100% - 4rem)"},children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Document Preview"}),e.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:"Following the motor vehicle accident on September 21, 2022, Mr. Eli Strauss experienced immediate onset of sharp pain in the right ankle. Mr. Strauss reported being the driver of a 2019 Honda Civic that was struck from behind while stopped at a red light on Main Street."}),e.jsxs("div",{className:"mt-3 text-sm font-medium text-gray-900 bg-yellow-100 px-2 py-1 rounded",children:['Highlighted: "',xe==="injury"?Rt.injury:xe==="narrative"?Rt.narrative:$e,'"']})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["This content was extracted from ",mi]})]})]}),!br&&e.jsx("div",{className:"w-1/2 border-l border-gray-200 bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Select a field to view its source"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click on any blue field to see the source document"})]})})]}),e.jsx("div",{className:"border-t border-gray-200 bg-white px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:q,className:"text-gray-600 hover:text-gray-800 px-4 py-2 border border-gray-300 rounded text-sm font-medium",children:"Close"}),e.jsx("button",{onClick:ql,className:"bg-teal-700 text-white px-4 py-2 rounded text-sm font-medium hover:bg-teal-800",children:"Save"})]})})]})},an=()=>{const[C,q]=u.useState({date:"",injury:"",icdCode:"",narrative:"",anatomicalLocation:"",treatment:"",treatmentStatus:"",critical:"",relatedInjury:"",diagnosingProvider:"",events:"",source:""}),ie=($e,Xe)=>{q(Rt=>({...Rt,[$e]:Xe}))},xe=()=>{const $e={id:Math.max(...t.map(Xe=>Xe.id))+1,date:C.date,injury:C.injury,status:"Needs Review",icdCode:C.icdCode,narrative:C.narrative,anatomicalLocation:C.anatomicalLocation,treatment:C.treatment,treatmentStatus:C.treatmentStatus,critical:C.critical,diagnosis:C.diagnosingProvider};s(Xe=>[...Xe,$e]),i(Xe=>[...Xe,$e]),S(!1),q({date:"",injury:"",icdCode:"",narrative:"",anatomicalLocation:"",treatment:"",treatmentStatus:"",critical:"",relatedInjury:"",diagnosingProvider:"",events:"",source:""})},ot=()=>{S(!1),q({date:"",injury:"",icdCode:"",narrative:"",anatomicalLocation:"",treatment:"",treatmentStatus:"",critical:"",relatedInjury:"",diagnosingProvider:"",events:"",source:""})};return T?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Add Injury"}),e.jsx("button",{onClick:ot,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Date Incurred"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",value:C.date,onChange:$e=>ie("date",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Injury"}),e.jsx("input",{type:"text",placeholder:"Name",value:C.injury,onChange:$e=>ie("injury",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* ICD Code(s)"}),e.jsx("input",{type:"text",placeholder:"Codes",value:C.icdCode,onChange:$e=>ie("icdCode",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Narrative"}),e.jsx("textarea",{placeholder:"Description",rows:2,value:C.narrative,onChange:$e=>ie("narrative",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Anatomical Location"}),e.jsx("textarea",{placeholder:"Description",rows:2,value:C.anatomicalLocation,onChange:$e=>ie("anatomicalLocation",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Treatment"}),e.jsx("textarea",{placeholder:"Description",rows:2,value:C.treatment,onChange:$e=>ie("treatment",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Treatment Status"}),e.jsx("textarea",{placeholder:"Description",rows:2,value:C.treatmentStatus,onChange:$e=>ie("treatmentStatus",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"* Critical Injury"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:C.critical,onChange:$e=>ie("critical",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none pr-8",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Related Injury"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:C.relatedInjury,onChange:$e=>ie("relatedInjury",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none pr-8",children:e.jsx("option",{value:"",children:"Select"})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Diagnosing Provider"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:C.diagnosingProvider,onChange:$e=>ie("diagnosingProvider",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none pr-8",children:[e.jsx("option",{value:"",children:"Select provider"}),e.jsx("option",{value:"Dr. Michael Rodriguez",children:"Dr. Michael Rodriguez"}),e.jsx("option",{value:"Dr. Sarah Chen",children:"Dr. Sarah Chen"}),e.jsx("option",{value:"Dr. Emily Davis",children:"Dr. Emily Davis"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Events"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:C.events,onChange:$e=>ie("events",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none pr-8",children:e.jsx("option",{value:"",children:"Select events"})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Select source"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:C.source,onChange:$e=>ie("source",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white appearance-none pr-8",children:e.jsx("option",{value:"",children:"Select source"})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-3 border-t bg-gray-50",children:[e.jsx("button",{onClick:ot,className:"px-3 py-1.5 text-sm text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),e.jsx("button",{onClick:xe,className:"px-3 py-1.5 text-sm text-white bg-gray-800 rounded hover:bg-gray-900 focus:ring-2 focus:ring-blue-500",children:"Ok"})]})]})}):null},ln=()=>{const[C,q]=u.useState({status:"",critical:"",diagnosingProvider:""}),ie=($e,Xe)=>{q(Rt=>({...Rt,[$e]:Xe}))},xe=()=>{const $e=Array.from(O),Xe=t.map(Rt=>{if($e.includes(Rt.id)){const $s={};return C.status&&($s.status=C.status),C.critical&&($s.critical=C.critical),C.diagnosingProvider&&($s.diagnosis=C.diagnosingProvider),{...Rt,...$s}}return Rt});s(Xe),i(Xe),_(new Set),Se(!1),q({status:"",critical:"",diagnosingProvider:""})},ot=()=>{Se(!1),q({status:"",critical:"",diagnosingProvider:""})};return oe?e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Bulk Edit ",O.size," Record",O.size!==1?"s":""]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:C.status,onChange:$e=>ie("status",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Leave unchanged"}),e.jsx("option",{value:"Needs Review",children:"Needs Review"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Critical Injury"}),e.jsxs("select",{value:C.critical,onChange:$e=>ie("critical",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Leave unchanged"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosing Provider"}),e.jsxs("select",{value:C.diagnosingProvider,onChange:$e=>ie("diagnosingProvider",$e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Leave unchanged"}),e.jsx("option",{value:"Dr. Michael Rodriguez",children:"Dr. Michael Rodriguez"}),e.jsx("option",{value:"Dr. Sarah Chen",children:"Dr. Sarah Chen"}),e.jsx("option",{value:"Dr. Emily Davis",children:"Dr. Emily Davis"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-2",children:[e.jsx("button",{onClick:ot,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:xe,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Apply Changes"})]})]})}):null},nt=n.reduce((C,q)=>(C[q.facility]||(C[q.facility]=[]),C[q.facility].push(q),C),{}),Ct=n.reduce((C,q)=>C+q.amount,0),Cs=n.length,ks=n.filter(C=>C.facility.includes("Hospital")||C.facility.includes("Medical")||C.facility.includes("Health")||C.facility.includes("Clinic")||C.facility.includes("Urgent")).reduce((C,q)=>C+q.amount,0),pt=(C,q,ie,xe="py-1 px-2 text-gray-700")=>Ae.recordId===C.id&&Ae.field===q?q==="amount"?e.jsx("td",{className:`${xe} relative`,children:e.jsx("div",{className:"editing-popover absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("input",{ref:fe,type:"number",value:Ke,onChange:$e=>Y($e.target.value),onBlur:Pt,onKeyDown:$e=>{$e.key==="Enter"?Pt():$e.key==="Escape"&&Ls()},className:"px-3 py-2 text-xs border-none outline-none min-w-24",placeholder:"Amount"})})}):e.jsx("td",{className:`${xe} relative`,children:e.jsx("div",{className:"editing-popover absolute top-0 left-0 z-50 bg-white border-2 border-blue-500 rounded shadow-lg",children:e.jsx("input",{ref:fe,type:"text",value:Ke,onChange:$e=>Y($e.target.value),onBlur:Pt,onKeyDown:$e=>{$e.key==="Enter"?Pt():$e.key==="Escape"&&Ls()},className:"px-3 py-2 text-xs border-none outline-none min-w-48",placeholder:`Edit ${q}...`})})}):e.jsx("td",{className:`${xe} hover:bg-gray-50 cursor-pointer`,onClick:()=>zs(C.id,q,ie),children:e.jsx("span",{children:q==="amount"?`$${(typeof ie=="number"?ie:parseFloat(ie)||0).toLocaleString()}`:ie||""})}),Ks=C=>e.jsx("td",{className:"py-1 px-2",children:e.jsx("button",{onClick:()=>A(C),className:`px-2 py-1 rounded text-xs font-medium transition-colors hover:opacity-80 ${C.status==="Needs Review"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:C.status})}),jn=({record:C,onBack:q,onSave:ie})=>{const xe=C.status==="Verified",ot=()=>{const $e={...C,status:"Verified"};ie($e)};return e.jsxs("div",{className:"h-full bg-white flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 p-4 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 4L4 12M4 4l8 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Damage Record"})]})}),!xe&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The data presented in blue below was extracted by AI and needs additional review."})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden min-h-0",children:[e.jsxs("div",{className:"w-1/2 p-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Facility"}),e.jsx("div",{className:`text-sm ${xe?"text-gray-900":"text-blue-600"}`,children:C.facility}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bill Document pg. 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Date"}),e.jsx("div",{className:`text-sm ${xe?"text-gray-900":"text-blue-600"}`,children:C.date||"Not specified"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bill Document pg. 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Description"}),e.jsx("div",{className:"text-sm text-gray-900 leading-relaxed",children:C.description||"Not specified"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bill Document pg. 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Amount"}),e.jsxs("div",{className:`text-sm ${xe?"text-gray-900":"text-blue-600"}`,children:["$",C.amount.toLocaleString()]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bill Document pg. 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"* Source"}),e.jsx("div",{className:`text-sm ${xe?"text-gray-900":"text-blue-600"}`,children:C.source||"Not specified"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bill Document pg. 1"})]})]}),e.jsx("div",{className:"w-1/2 border-l border-gray-200 bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Select a field to view its source"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:xe?"This record has been verified":"Click on any blue field to see the source document"})]})})]}),e.jsx("div",{className:"border-t border-gray-200 bg-white px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[!xe&&e.jsx("div",{className:"flex items-center gap-3"}),xe&&e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:q,className:"text-gray-600 hover:text-gray-800 px-4 py-2 border border-gray-300 rounded text-sm font-medium",children:"Close"}),!xe&&e.jsx("button",{onClick:ot,className:"bg-teal-700 text-white px-4 py-2 rounded text-sm font-medium hover:bg-teal-800",children:"Save"})]})]})})]})},wn=()=>e.jsxs("div",{className:"w-full bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Economic Damages"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",Ct.toLocaleString()," total • ",Cs," records"]})]})}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 border-b-2 border-teal-600 pb-1",children:["Medical Bills $",ks.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Out-of-Pocket $57"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Mileage $20"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:[Cs," records"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-1 text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 min-w-16 justify-center",children:[e.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M3 6H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M3 10H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M3 14H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Columns"]}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 min-w-20 flex items-center justify-center",children:"+ Add record"}),e.jsx("div",{className:"relative",children:e.jsx("button",{className:"text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 w-7 flex items-center justify-center",children:e.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"8",cy:"3",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"8",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"13",r:"1",fill:"currentColor"})]})})})]})]})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-48",children:"Facility"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-24",children:"Date"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-56",children:"Description"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-32",children:"Status"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-24",children:"Amount"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-48",children:"Source"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-48",children:"History"}),e.jsx("th",{className:"text-left p-2 font-medium text-gray-700 w-36",children:"Actions"})]})}),e.jsx("tbody",{children:Object.entries(nt).map(([C,q])=>{var ie;return e.jsxs(ne.Fragment,{children:[e.jsxs("tr",{className:"bg-gray-50 hover:bg-gray-100 h-10",onMouseEnter:()=>K(C),onMouseLeave:()=>K(null),children:[e.jsx("td",{className:"py-1 px-2 font-medium text-gray-900",children:he===C?e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",className:`mr-2 transition-transform ${de.has(C)?"rotate-90":""}`,children:e.jsx("path",{d:"M6 12l6-6H6z"})}),e.jsx("input",{ref:fe,type:"text",value:be,onChange:xe=>ye(xe.target.value),onBlur:Et,onKeyDown:xe=>{xe.key==="Enter"?Et():xe.key==="Escape"&&E()},className:"bg-white border border-blue-500 rounded px-2 py-1 text-xs font-medium min-w-48",autoFocus:!0})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",className:`mr-2 transition-transform cursor-pointer ${de.has(C)?"rotate-90":""}`,onClick:()=>$t(C),children:e.jsx("path",{d:"M6 12l6-6H6z"})}),e.jsxs("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>St(C),children:[C," ",q.length]})]})}),e.jsx("td",{className:"py-1 px-2 text-gray-500"}),e.jsx("td",{className:"py-1 px-2 text-gray-500"}),e.jsx("td",{className:"py-1 px-2 text-gray-500"}),e.jsxs("td",{className:"py-1 px-2 font-medium text-gray-900",children:["$",q.reduce((xe,ot)=>xe+ot.amount,0).toLocaleString()]}),e.jsx("td",{className:"py-1 px-2 text-gray-500"}),e.jsx("td",{className:"py-1 px-2 text-gray-500",children:(ie=q[0])==null?void 0:ie.history}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("div",{className:"flex items-center justify-start",children:P===C?e.jsxs("button",{onClick:()=>He(C),className:"flex items-center gap-1 px-2 py-1 text-xs text-red-700 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Delete All Records",children:[e.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete All"]}):e.jsx("div",{className:"text-[10px] text-gray-300 italic opacity-60",children:"Hover to delete all"})})})]}),de.has(C)&&q.map(xe=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 h-10",onMouseEnter:()=>Ye(xe.id),onMouseLeave:()=>Ye(null),children:[pt(xe,"facility",xe.facility,"py-1 px-2 pl-8 text-gray-700"),pt(xe,"date",xe.date),pt(xe,"description",xe.description),Ks(xe),pt(xe,"amount",xe.amount.toString(),"py-1 px-2 text-gray-900 font-medium"),pt(xe,"source",xe.source,"py-1 px-2"),e.jsx("td",{className:"py-1 px-2 text-gray-500",children:xe.history}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("div",{className:"flex items-center justify-start gap-2",children:Re===xe.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>$(xe),className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-700 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"View Details",children:[e.jsxs("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),e.jsxs("button",{onClick:()=>Pe(xe.id),className:"flex items-center gap-1 px-2 py-1 text-xs text-red-700 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Delete",children:[e.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}):e.jsx("div",{className:"text-xs text-gray-400 italic text-left",children:"Hover for actions"})})})]},xe.id))]},C)})})]})})]}),Kl=[{id:"overview",icon:e.jsx(yr,{size:18}),label:"Overview"},{id:"medicals",icon:e.jsx(jb,{size:18}),label:"Medicals"},{id:"timeline",icon:e.jsx(gr,{size:18}),label:"Timeline"},{id:"damages",icon:e.jsx(Hp,{size:18}),label:"Damages"},{id:"drafting",icon:e.jsx(ms,{size:18}),label:"Drafting"},{id:"files",icon:e.jsx(vr,{size:18}),label:"Files"}];return e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 z-10",children:e.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Eli Strauss - MVA"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50 flex items-center",children:["Export",e.jsx(Ut,{className:"ml-1 h-4 w-4"})]}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:"Print"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>F(!X),className:"p-1 border border-gray-300 rounded text-sm font-medium bg-white hover:bg-gray-50",children:e.jsx(Jp,{className:"h-4 w-4"})}),X&&e.jsx("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-md shadow-lg py-1 z-10 w-48",children:e.jsx("button",{onClick:()=>F(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Open Case History"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Hl,{size:18})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(na,{size:18})})]})]})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[e.jsx("div",{className:"w-48 bg-white border-r border-gray-200 flex flex-col z-0 overflow-y-auto",children:e.jsx("div",{className:"mt-4 flex-1",children:Kl.map(C=>e.jsxs("div",{className:`flex items-center px-4 py-2 ${w===C.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"} cursor-pointer`,onClick:()=>{L(C.id),C.id==="damages"?g("damages"):C.id==="medicals"&&g("injuries")},children:[e.jsx("div",{className:"mr-3",children:C.icon}),e.jsx("span",{className:"text-sm font-medium",children:C.label})]},C.id))})}),e.jsx("main",{className:"flex-1 overflow-auto",children:p==="damages"?Q==="detail"&&Ce?e.jsx(jn,{record:Ce,onBack:te,onSave:se}):e.jsx(wn,{}):m==="detail"&&v?e.jsx(Ss,{record:v,onBack:dt,onSave:_t}):e.jsxs("div",{className:"w-full bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medicals"})}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 border-b-2 border-teal-600 pb-1",children:"Injuries 20"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Providers 3"})]}),O.size>0&&e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[O.size," record",O.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:re,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Bulk Edit"}),e.jsx("button",{onClick:()=>_(new Set),className:"px-3 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Clear Selection"})]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:[mt.length," records"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ee&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:qe,className:"text-white bg-teal-700 hover:bg-teal-800 px-2 py-1 border border-teal-700 rounded text-xs h-7 min-w-20 flex items-center justify-center",children:["Save changes (",D,")"]}),e.jsx("button",{onClick:Ze,className:"text-red-600 hover:text-red-800 px-2 py-1 border border-red-300 rounded text-xs h-7 min-w-20 flex items-center justify-center",children:"Cancel all changes"})]}),e.jsxs("button",{className:"flex items-center gap-1 text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 min-w-16 justify-center",children:[e.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M3 6H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M3 10H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M3 14H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Columns"]}),e.jsx("button",{onClick:()=>S(!0),className:"text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 min-w-20 flex items-center justify-center",children:"+ Add record"}),e.jsx("div",{className:"relative",children:e.jsx("button",{className:"text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-300 rounded text-xs h-7 w-7 flex items-center justify-center",children:e.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"8",cy:"3",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"8",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"13",r:"1",fill:"currentColor"})]})})})]})]})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"pl-2",children:e.jsxs("table",{className:"w-full text-xs bg-white",style:{tableLayout:"fixed"},children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.checkbox}px`},children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:O.size===t.length&&t.length>0,onChange:C=>ae(C.target.checked)}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("checkbox",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.date}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Date"}),ht("date","text")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("date",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.injury}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Injury"}),ht("injury","text")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("injury",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.status}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Status"}),ht("status","status")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("status",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.icdCode}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"ICD Code(s)"}),ht("icdCode","text")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("icdCode",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.narrative}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Narrative"}),ht("narrative","text")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("narrative",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.anatomicalLocation}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Anatomical Location"}),ht("anatomicalLocation","anatomicalLocation")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("anatomicalLocation",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.treatmentStatus}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Treatment Status"}),ht("treatmentStatus","text")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("treatmentStatus",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.critical}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Critical"}),ht("critical","critical")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("critical",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.diagnosis}px`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Diagnosing provider"}),ht("diagnosis","provider")]}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("diagnosis",C)})]}),e.jsxs("th",{className:"text-left p-2 font-medium text-gray-700 relative group",style:{width:`${j.actions}px`},children:[e.jsx("span",{children:"Actions"}),e.jsx("div",{className:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-300 opacity-0 hover:opacity-100",onMouseDown:C=>Ie("actions",C)})]})]})}),e.jsx("tbody",{children:mt.map(C=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 h-16 relative group",onMouseEnter:()=>B(C.id),onMouseLeave:()=>B(null),children:[e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:O.has(C.id),onChange:q=>Z(C.id,q.target.checked)})}),it(C,"date",C.date),it(C,"injury",C.injury),lt(C),it(C,"icdCode",C.icdCode),it(C,"narrative",C.narrative,"p-2 text-gray-600"),it(C,"anatomicalLocation",C.anatomicalLocation,"p-2 text-gray-600"),it(C,"treatmentStatus",C.treatmentStatus,"p-2 text-gray-600"),Ge(C),Ot(C),e.jsx("td",{className:"p-2",children:e.jsx("div",{className:"flex items-center justify-start gap-2",children:G===C.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>gt(C),className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-700 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"View Details",children:[e.jsxs("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),e.jsxs("button",{onClick:()=>ns(C.id),className:"flex items-center gap-1 px-2 py-1 text-xs text-red-700 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Delete",children:[e.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}):e.jsx("div",{className:"text-xs text-gray-400 italic text-left",children:"Hover for actions"})})})]},C.id))})]})})})}),e.jsx(an,{}),e.jsx(ln,{}),W&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Injury Record"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Are you sure you want to delete this injury record? This action cannot be undone."})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:fs,className:"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{onClick:()=>Jt(W),className:"px-4 py-2 text-sm text-white bg-red-600 rounded hover:bg-red-700 focus:ring-2 focus:ring-red-500",children:"Delete"})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Damage Record"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Are you sure you want to delete this damage record? This action cannot be undone."})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:Oe,className:"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{onClick:()=>H(U),className:"px-4 py-2 text-sm text-white bg-red-600 rounded hover:bg-red-700 focus:ring-2 focus:ring-red-500",children:"Delete"})]})]})})]})})]})]})},kx=Object.freeze(Object.defineProperty({__proto__:null,default:pw},Symbol.toStringTag,{value:"Module"})),xw=()=>{const[t,s]=u.useState([]),[n,r]=u.useState(null),[a,i]=u.useState(null),[l,o]=u.useState(!1),[c,d]=u.useState(null),m=async()=>{try{const g=Object.assign({"./agentic-drafting-m1.tsx":Gp,"./agentic-drafting-m2.tsx":qp,"./agentic-drafting-m3.tsx":nx,"./blueprint-builder.tsx":cx,"./complaint-drafting.tsx":px,"./demand-letter-evaluator.tsx":xx,"./depositions-module-prototype.tsx":gx,"./eve-compete.tsx":Cx,"./modules.tsx":kx}),v=[];for(const[N,I]of Object.entries(g)){if(N==="./index.tsx")continue;const y=N.replace("./","").replace(".tsx",""),h=I;h.default&&v.push({name:y,displayName:y.replace(/-/g," ").replace(/\b\w/g,b=>b.toUpperCase()),component:h.default,lastModified:new Date})}v.sort((N,I)=>N.name.localeCompare(I.name)),s(v),d(null)}catch(g){console.error("Error scanning artifacts:",g),d("Failed to scan artifacts directory")}},f=async g=>{o(!0),d(null);try{i(()=>g.component),r(g.name)}catch(v){console.error("Error loading artifact:",v),d(`Failed to load ${g.name}: ${v instanceof Error?v.message:"Unknown error"}`)}finally{o(!1)}},p=()=>{i(null),r(null),d(null)};if(u.useEffect(()=>{m()},[]),a){const g=a;return e.jsxs("div",{className:"h-screen relative",children:[e.jsxs("button",{onClick:p,className:"fixed bottom-4 left-4 z-50 flex items-center space-x-2 px-3 py-2 text-sm bg-white/90 backdrop-blur-sm border border-gray-200 hover:bg-white shadow-lg rounded-lg transition-all",children:[e.jsx(Mb,{size:16}),e.jsx("span",{children:"Back to Picker"})]}),e.jsx(g,{})]})}return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Claude Artifact Runner"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Preview and interact with React component prototypes"})]})}),e.jsxs("main",{className:"flex-1 max-w-6xl mx-auto px-4 py-8 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Available Artifacts (",t.length,")"]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(_a,{size:16}),e.jsx("span",{children:"Refresh"})]})]}),c&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(AlertCircle,{size:16,className:"text-red-500"}),e.jsx("span",{className:"text-red-700 font-medium",children:"Error"})]}),e.jsx("p",{className:"mt-1 text-red-600",children:c})]}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{size:48,className:"mx-auto text-blue-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Artifacts Found"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Add .tsx files to ",e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"src/artifacts/"})," to get started"]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(_a,{size:20}),e.jsx("span",{children:"Scan for Files"})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-left max-w-2xl mx-auto",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Requirements for TSX files:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:["Must have a default export: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"export default MyComponent;"})]}),e.jsx("li",{children:"Should be a React functional component"}),e.jsx("li",{children:"Can include any valid React/JSX code"}),e.jsx("li",{children:"Will be rendered in full-screen mode"})]})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Qe,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.displayName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[g.name,".tsx"]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Ready to launch"}),e.jsx("button",{onClick:()=>f(g),disabled:l,className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?e.jsxs(e.Fragment,{children:[e.jsx(_a,{size:16,className:"animate-spin"}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ni,{size:16}),e.jsx("span",{children:"Launch"})]})})]})]})},g.name))}),t.length>0&&e.jsxs("div",{className:"mt-12 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Quick Start:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:'• Click "Launch" to preview any prototype in full-screen mode'}),e.jsx("p",{children:'• Use "Back to Picker" to return and select a different prototype'}),e.jsxs("p",{children:["• Add new files to ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/artifacts/"})," and refresh"]})]})]})]})]})},gw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Gp),[])),yw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>qp),void 0)),vw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>nx),void 0)),bw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>cx),void 0)),jw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>ij),void 0)),ww=ne.lazy(()=>et(()=>Promise.resolve().then(()=>aj),void 0)),Nw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>lj),void 0)),Sw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>oj),void 0)),Cw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>nj),void 0)),kw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>px),void 0)),Dw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>mj),void 0)),Ew=ne.lazy(()=>et(()=>Promise.resolve().then(()=>jj),void 0)),Mw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>gj),void 0)),Iw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>yj),void 0)),Rw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>bj),void 0)),Tw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>vj),void 0)),Aw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>xj),void 0)),_w=ne.lazy(()=>et(()=>Promise.resolve().then(()=>xx),void 0)),Pw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>gx),void 0)),Ow=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Cx),void 0)),zw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Kj),void 0)),Lw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Gj),void 0)),$w=ne.lazy(()=>et(()=>import("./DocumentSelectionModal-DF1a8FS6.js"),[])),Fw=ne.lazy(()=>et(()=>import("./LibraryModal-CLhayGEP.js"),[])),Bw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>sw),void 0)),Uw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>nw),void 0)),Vw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>tw),void 0)),Hw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>ew),void 0)),Jw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Yj),void 0)),Ww=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Zj),void 0)),Yw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Wj),void 0)),Kw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>qj),void 0)),Gw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>kx),void 0)),qw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>ej),void 0)),Qw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Zb),void 0)),Zw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Qb),void 0)),Xw=ne.lazy(()=>et(()=>Promise.resolve().then(()=>qb),void 0)),eN=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Gb),void 0)),tN=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Xb),void 0)),sN=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Ij),void 0)),nN=ne.lazy(()=>et(()=>Promise.resolve().then(()=>Aj),void 0)),rN=[{caseSensitive:!1,path:"agentic-drafting-m1",element:ne.createElement(gw)},{caseSensitive:!1,path:"agentic-drafting-m2",element:ne.createElement(yw)},{caseSensitive:!1,path:"agentic-drafting-m3",element:ne.createElement(vw)},{caseSensitive:!1,path:"blueprint-builder",element:ne.createElement(bw),children:[{caseSensitive:!1,path:"components",children:[{caseSensitive:!1,path:"ResourceParameters",element:ne.createElement(jw)},{caseSensitive:!1,path:"RichTextToolbar",element:ne.createElement(ww)},{caseSensitive:!1,path:"StepEditor",element:ne.createElement(Nw)},{caseSensitive:!1,path:"views",children:[{caseSensitive:!1,path:"BlueprintBuilderView",element:ne.createElement(Sw)},{caseSensitive:!1,path:"BlueprintListView",element:ne.createElement(Cw)}]}]}]},{caseSensitive:!1,path:"complaint-drafting",element:ne.createElement(kw),children:[{caseSensitive:!1,path:"components",children:[{caseSensitive:!1,path:"common",children:[{caseSensitive:!1,path:"DocumentThumbnail",element:ne.createElement(Dw)}]},{caseSensitive:!1,path:"modals",children:[{caseSensitive:!1,path:"BlueprintModal",element:ne.createElement(Ew)}]},{caseSensitive:!1,path:"views",children:[{caseSensitive:!1,path:"AnalyzingView",element:ne.createElement(Mw)},{caseSensitive:!1,path:"CountsReviewView",element:ne.createElement(Iw)},{caseSensitive:!1,path:"DraftEditorView",element:ne.createElement(Rw)},{caseSensitive:!1,path:"GeneratingView",element:ne.createElement(Tw)},{caseSensitive:!1,path:"HomepageView",element:ne.createElement(Aw)}]}]}]},{caseSensitive:!1,path:"demand-letter-evaluator",element:ne.createElement(_w)},{caseSensitive:!1,path:"depositions-module-prototype",element:ne.createElement(Pw)},{caseSensitive:!1,path:"eve-compete",element:ne.createElement(Ow),children:[{caseSensitive:!1,path:"utils",children:[{caseSensitive:!1,path:"markdown",element:ne.createElement(zw)}]},{caseSensitive:!1,path:"components",children:[{caseSensitive:!1,path:"chat",children:[{caseSensitive:!1,path:"Message",element:ne.createElement(Lw)}]},{caseSensitive:!1,path:"modals",children:[{caseSensitive:!1,path:"DocumentSelectionModal",element:ne.createElement($w)},{caseSensitive:!1,path:"LibraryModal",element:ne.createElement(Fw)},{caseSensitive:!1,path:"SourceSelectorModal",element:ne.createElement(Bw)},{caseSensitive:!1,path:"UnifiedLibraryModal",element:ne.createElement(Uw)}]},{caseSensitive:!1,path:"panels",children:[{caseSensitive:!1,path:"JobsListPanel",element:ne.createElement(Vw)},{caseSensitive:!1,path:"NotificationPanel",element:ne.createElement(Hw)}]},{caseSensitive:!1,path:"views",children:[{caseSensitive:!1,path:"CaseOverviewView",element:ne.createElement(Jw)},{caseSensitive:!1,path:"DocumentCanvasView",element:ne.createElement(Ww)},{caseSensitive:!1,path:"DraftingView",element:ne.createElement(Yw)},{caseSensitive:!1,path:"ExploreView",element:ne.createElement(Kw)}]}]}]},{caseSensitive:!1,path:"/",element:ne.createElement(xw)},{caseSensitive:!1,path:"modules",element:ne.createElement(Gw)},{caseSensitive:!1,path:"agentic-drafting",children:[{caseSensitive:!1,path:"components",children:[{caseSensitive:!1,path:"AgenticDraftingApp",element:ne.createElement(qw)},{caseSensitive:!1,path:"chat",children:[{caseSensitive:!1,path:"Message",element:ne.createElement(Qw)}]},{caseSensitive:!1,path:"common",children:[{caseSensitive:!1,path:"Layout",element:ne.createElement(Zw)}]},{caseSensitive:!1,path:"panels",children:[{caseSensitive:!1,path:"JobsListPanel",element:ne.createElement(Xw)},{caseSensitive:!1,path:"NotificationPanel",element:ne.createElement(eN)}]},{caseSensitive:!1,path:"review",children:[{caseSensitive:!1,path:"ReviewInterface",element:ne.createElement(tN)}]}]}]},{caseSensitive:!1,path:"depositions-module",children:[{caseSensitive:!1,path:"components",children:[{caseSensitive:!1,path:"views",children:[{caseSensitive:!1,path:"LiveRecordingView",element:ne.createElement(sN)},{caseSensitive:!1,path:"TranscriptAnalysisView",element:ne.createElement(nN)}]}]}]}];function aN({children:t}){return e.jsx(e.Fragment,{children:t})}window.React=ne;const iN=nb(rN.map(t=>({...t,element:e.jsx(aN,{children:t.element})})),{future:{v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}});$o.createRoot(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(pb,{router:iN})}));export{Qe as F,Kp as S,Os as U,ut as X,Xs as Z,Cl as a,Hn as b,Ee as c,e as j,u as r};
